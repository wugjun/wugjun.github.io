<!doctype html><html class=no-js lang=zh-cn><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>第三章：图论杀局，临淄风云</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="算法数据结构"><meta name=generator content="Hugo 0.152.2"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/quiz.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/ title=补漏砖匠 rel=home><div class=logo__title>补漏砖匠</div><div class=logo__tagline>独钓寒江雪，为有暗香来。</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-%E5%89%91%E6%B3%95%E7%AF%87/>编程语言</a></li><li class=menu__item><a class=menu__link href=/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2-%E6%9C%BA%E5%85%B3%E7%AF%87/>运维部署</a></li><li class=menu__item><a class=menu__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>算法数据结构</a></li><li class=menu__item><a class=menu__link href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>后端架构</a></li><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-%E6%B3%95%E5%AE%9D%E7%AF%87/>工具效率</a></li><li class=menu__item><a class=menu__link href=/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/>开源文档</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-AI%E5%9C%A8%E7%BA%BF%E6%B5%8B%E8%AF%95/>JAVA在线测试</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-%E5%9C%A8%E7%BA%BF%E7%AD%94%E9%A2%98%E7%A4%BA%E4%BE%8B/>在线答题</a></li><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-DeepSeek%E6%B5%81%E5%BC%8F%E8%81%8A%E5%A4%A9/>DeepSeek</a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>第三章：图论杀局，临淄风云</h1><p class=post__lead>一眼春秋，望穿风云。</p><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-12-13T00:00:00>December 13, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e7%ae%97%e6%b3%95%e4%b8%80%e7%bb%9f%e6%98%a5%e7%a7%8b rel=category>算法一统春秋</a></span></div></div></header><div class="content post__content clearfix"><p><a href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>◀ 返回</a></p><h1 id=第三章图论杀局临淄风云><strong>第三章：图论杀局，临淄风云</strong></h1><hr><h2 id=第一幕急报惊变算法反噬><strong>第一幕：急报惊变，算法反噬</strong></h2><p>暮色如血，马车在官道上飞驰，车轮碾起滚滚烟尘。</p><p>车内，姬玄握着临淄急报的手微微颤抖。竹简上只有八个字，却字字惊心：</p><p><strong>“王遭反噬，危，速归，忌”</strong></p><p>“田忌将军的笔迹，”姬玄声音沙哑，“父王&mldr;怎会算法反噬？”</p><p>芈月凝眉：“齐王修的是《齐民算法》，以稳著称，按理不该&mldr;”</p><p>“除非有人动了手脚。”姬玄眼中寒光一闪，“我离城不过五日，父王就出事&mldr;太巧了。”</p><p>车外，田忌策马并行：“殿下，太医诊断，大王中的是‘递归栈溢出毒’——有人在大王修炼的算法典籍中，植入了无限递归陷阱。”</p><p>“无限递归&mldr;”姬玄闭目，脑中飞速分析，“需要《九章算法》中的‘栈帧修复术’&mldr;但第一卷中并无此术。”</p><p>芈月急道：“那怎么办？”
“第二卷，”姬玄睁眼，“《九章算法》第二卷‘方程’，专解异常状态。但第二卷&mldr;在魏国算法库。”</p><p>田忌脸色一变：“魏国？庞涓的魏国？”</p><p>话音未落——</p><p>“咻咻咻！”</p><p>前方官道两侧树林，箭如雨下！</p><p>“敌袭！结阵！”田忌大吼。</p><p>三百齐兵瞬间结成圆阵，盾牌高举，箭矢叮当落下。</p><p>但这不是普通箭矢——箭头上刻着<strong>算法符文</strong>，落地即触发！</p><p>“轰！轰！轰！”</p><p>地面炸开，符文交织成<strong>巨型有向图</strong>，将车队困在中央！</p><p>姬玄掀开车帘，瞳孔骤缩。</p><p>前方官道上，庞涓摇扇而立，笑容温和如旧。他身旁站着八名黑袍阵师，各持算筹，正在构建阵法。</p><p>“庞先生，”姬玄冷冷道，“这就是魏国的待客之道？”</p><p>庞涓拱手：“七王子误会。庞某此行，是为&mldr;借《九章算法》一观。只要殿下交出玉简，立刻放行，还赠‘方程卷’救齐王。”</p><p>“若我不给呢？”
“那&mldr;”庞涓笑容转冷，“只好请殿下&mldr;永远留在此地了。”</p><p>他扇子一挥：“起阵！”</p><p>八名阵师同时划动算筹，空中浮现巨大光图——</p><p><strong>【图论杀阵·最短路径封锁】</strong></p><p>**【描述】：以车队为起点，临淄为终点，官道为边，设权重障碍】</p><p>**【效果】：所有从起点到终点的路径，权重皆被修改为无穷大】</p><p><strong>【实质】：让你们找不到任何可行回家之路】</strong></p><p>姬玄瞬间看透：“你想用<strong>负权环</strong>修改边权重，使所有路径不可达？”</p><p>“殿下果然通透。”庞涓笑道，“此阵名‘狄杰斯特拉之困’——任你算法再高，找不到最短路径，就只能困死阵中。”</p><p>田忌怒吼：“庞涓！你魏国要与我齐国开战吗？！”</p><p>“开战？”庞涓摇头，“不不，这只是&mldr;算法切磋。姬玄殿下若破不了阵，便是学艺不精，死于阵中，与我魏国何干？”</p><p>他顿了顿：“当然，若殿下愿归顺魏国，庞某可亲自护送殿下回临淄，还奉上《九章算法·第二卷》。”</p><p>赤裸裸的威胁。</p><hr><h2 id=第二幕破阵之思最短路径之争><strong>第二幕：破阵之思，最短路径之争</strong></h2><p>姬玄跳下马车，走向阵法边缘。</p><p>地面上的有向图复杂无比：</p><ul><li>节点：三十六处关键路口</li><li>边：七十二段官道</li><li>初始权重：道路长度（已知）</li><li>当前权重：部分边被修改为<strong>无穷大</strong>（∞）</li></ul><p>芈月跟上来：“此阵用狄杰斯特拉算法（Dijkstra）原理，修改边权破坏连通性&mldr;可有解法？”</p><p>“有，”姬玄盯着阵法，“狄杰斯特拉算法有两个弱点：一、不能处理负权边；二、贪心选择可能不是全局最优。”</p><p>他大脑飞转：“庞涓引入‘负权环’，让某些边权重临时变负，诱导算法走错路&mldr;但负权环本身，就是破绽。”</p><p>田忌急道：“殿下，如何破？强冲吗？”</p><p>“强冲必死，”姬玄摇头，“此阵隐含‘优先级队列’——谁先动，谁先被重点攻击。”</p><p>他盘膝坐下，取出玉笔，在地上快速推演。</p><p><strong>第一步：建模</strong>
将三十六节点编号，七十二边列出，初始权重记为w₀。</p><p><strong>第二步：检测负权环</strong>
“狄杰斯特拉怕负权&mldr;那就用<strong>贝尔曼-福特算法（Bellman-Ford）</strong>！”姬玄眼中精光一闪。</p><p>贝尔曼-福特可处理负权，且能检测负权环！</p><p>他快速写出算法框架：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>路径破解</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> 最短距离;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> 前驱节点;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>贝尔曼福特</span>(<span style=color:#66d9ef>int</span> 节点数, 边<span style=color:#f92672>[]</span> 边集, <span style=color:#66d9ef>int</span> 起点) {
</span></span><span style=display:flex><span>        最短距离 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>节点数<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>        Arrays.<span style=color:#a6e22e>fill</span>(最短距离, Integer.<span style=color:#a6e22e>MAX_VALUE</span>);
</span></span><span style=display:flex><span>        最短距离<span style=color:#f92672>[</span>起点<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 松弛操作 V-1 轮</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 1; i <span style=color:#f92672>&lt;</span> 节点数; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (边 e : 边集) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>起点</span><span style=color:#f92672>]</span> <span style=color:#f92672>!=</span> Integer.<span style=color:#a6e22e>MAX_VALUE</span> 
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&amp;&amp;</span> 最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>起点</span><span style=color:#f92672>]</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>权重</span> <span style=color:#f92672>&lt;</span> 最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span>) {
</span></span><span style=display:flex><span>                    最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>起点</span><span style=color:#f92672>]</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>权重</span>;
</span></span><span style=display:flex><span>                    前驱节点<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> e.<span style=color:#a6e22e>起点</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 检测负权环：再松弛一轮，若还能更新，则有负权环</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (边 e : 边集) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>起点</span><span style=color:#f92672>]</span> <span style=color:#f92672>!=</span> Integer.<span style=color:#a6e22e>MAX_VALUE</span> 
</span></span><span style=display:flex><span>                <span style=color:#f92672>&amp;&amp;</span> 最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>起点</span><span style=color:#f92672>]</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>权重</span> <span style=color:#f92672>&lt;</span> 最短距离<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>; <span style=color:#75715e>// 存在负权环</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>第三步：逆向利用</strong>
“检测到负权环后&mldr;”姬玄嘴角微翘，“不是消除它，而是<strong>放大它</strong>！”</p><p>芈月不解：“放大？”
“对。狄杰斯特拉算法遇负权环会崩溃，但如果我们主动在环上循环，积累‘负权值’，就能在某个节点实现<strong>权重归零甚至变负</strong>，从而创造新路径！”</p><p>这是险招——可能被负权环反噬，神魂俱伤。</p><p>但姬玄别无选择。</p><hr><h2 id=第三幕以身试阵负权环中的舞蹈><strong>第三幕：以身试阵，负权环中的舞蹈</strong></h2><p>“田将军，”姬玄起身，“我需要八个懂基本算法士兵，每人持一面阵旗，按我指令移动。”</p><p>“殿下不可！”田忌急道，“您亲自入阵太危险！”</p><p>“父王等不起。”姬玄看向芈月，“公主，若我失败&mldr;你带《九章算法》走，救齐王。”</p><p>芈月咬唇：“我陪你入阵。”</p><p>“不行，此阵凶险&mldr;”</p><p>“正因凶险，才需两人。”芈月拔出佩剑，“递归可破循环，我的‘递归斩’或能切断负权环。”</p><p>姬玄看着她坚定的眼神，终于点头。</p><p>两人并肩踏入阵法。</p><p>庞涓在阵外冷笑：“自投罗网。”</p><hr><p>阵法内，天地变幻。</p><p>官道消失，取而代之的是<strong>悬浮的节点平台</strong>和<strong>光影桥梁</strong>。每座桥梁上都标着权重数字，部分显示为“∞”。</p><p>姬玄踏上起点平台：“第一段路，权重5，正常。”</p><p>他走过，桥梁稳固。</p><p>“第二段，权重∞&mldr;”姬玄停步，“被庞涓修改了。绕路。”</p><p>但绕路需走第三条边，权重3，可通往的第四节点&mldr;也有∞边阻隔。</p><p>“果然全被封锁了。”芈月凝神感应，“但我感应到&mldr;东北方有微弱负权波动。”</p><p>“负权环所在！”姬玄立即转向。</p><p>两人在节点间跳跃，避开∞边，一刻钟后，终于找到<strong>负权环</strong>——</p><p>那是三个节点构成的三角形循环：</p><p>A→B权重-2</p><p>B→C权重-3</p><p>C→A权重-5</p><p>循环一周，总权重-10！意味着每走一圈，总距离减少10！</p><p>“就是这里。”姬玄眼中闪过决然，“公主，为我护法。我要在环上走&mldr;三十圈。”</p><p>“三十圈？！”芈月震惊，“负权积累-300，你会被算法反噬重伤的！”</p><p>“但积累-300后，我能将一段∞边的‘临时权重’冲为负值，强行打开通道！”姬玄已开始踏步。</p><p>一圈。</p><p>两圈。</p><p>三圈&mldr;</p><p>每走一圈，姬玄脸色就白一分。负权积累在冲击他的算法根基。</p><p>芈月看得心痛，突然拔剑：“我也来！”</p><p>“公主不可！”</p><p>“递归剑法·分形减负！”芈月剑光流转，竟将负权环<strong>复制成三个子环</strong>，分摊伤害！</p><p>两人在环上疾走，负权值飞速积累：</p><p>-100&mldr;</p><p>-200&mldr;</p><p>-250&mldr;</p><p>姬玄嘴角溢血，但眼神愈发锐利。</p><p>“够了！”他冲到一条∞边前，将积累的-250负权值全部注入！</p><p>“给我——开！”</p><p>∞边剧烈颤抖，权重显示疯狂跳动：</p><p>∞ → 10000 → 1000 → 100&mldr; → 0 → <strong>-50</strong>！</p><p>通道打开了！</p><p>“走！”姬玄拉芈月冲过。</p><p>但就在通过瞬间，庞涓的声音如鬼魅响起：</p><p>“殿下好手段&mldr;但你以为，只有一个阵吗？”</p><p>“第二阵——<strong>最小割截杀</strong>！”</p><hr><h2 id=第四幕最大流困境生死抉择><strong>第四幕：最大流困境，生死抉择</strong></h2><p>刚出负权环区域，眼前景象再变。</p><p>这次是<strong>网络流图</strong>：</p><ul><li>源点S：他们所在位置</li><li>汇点T：临淄城方向</li><li>中间节点：十二处关隘</li><li>边：道路，权重为<strong>通行容量</strong></li></ul><p>庞涓的声音回荡：“此阵名‘最大流最小割’——我已找到从S到T的<strong>最小割集</strong>，并派人镇守。你们流量再多，也过不了最小割瓶颈。”</p><p>姬玄定睛一看，果然——关键的三条边上，站着三名魏国宗师！</p><p>“最小割容量&mldr;15。”姬玄快速计算，“意味着同时最多15人通过。但我们有三百人&mldr;”</p><p>田忌在外怒吼：“庞涓！你截官道、设杀阵，已犯天下算法盟约！各国不会放过魏国！”</p><p>庞涓大笑：“只要你们全死在此，谁知道是我魏国所为？”</p><p>他顿了顿：“姬玄，我最后给你一次机会——交出玉简，我放你和芈月公主离开。否则&mldr;最小割收缩，你们会被空间之力碾碎。”</p><p>芈月看向姬玄。</p><p>姬玄沉默三息，忽然笑了。</p><p>“庞先生，你可知&mldr;最大流算法，有个隐藏特性？”</p><p>“什么？”
“<strong>增广路径不止一条</strong>。”姬玄眼中数据流转，“你找到的最小割，是基于当前网络结构。但如果&mldr;我<strong>临时增加节点</strong>呢？”</p><p>庞涓一愣：“增加节点？阵法已定，你如何增加？”</p><p>姬玄不答，转向芈月：“公主，你的递归剑法，能否在虚空中开辟临时通道？哪怕只能维持十息？”</p><p>芈月点头：“可以，但需极大灵力。”</p><p>“用这个。”姬玄将《九章算法》玉简塞给她，“以圣典为引，开辟‘虚节点’。”</p><p>“那你呢？”</p><p>“我来计算增广路径。”姬玄再次坐下，玉笔狂舞。</p><p>这次是<strong>埃德蒙兹-卡普算法（Edmonds-Karp）</strong>——用BFS找增广路径，反复增广直至最大流。</p><p>但姬玄要做的更激进：<strong>动态修改网络拓扑</strong>！</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>动态最大流</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>最大流量</span>(网络 原网, 节点 源, 节点 汇, List<span style=color:#f92672>&lt;</span>虚节点<span style=color:#f92672>&gt;</span> 新增节点) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 构建扩展网络</span>
</span></span><span style=display:flex><span>        网络 扩展网 <span style=color:#f92672>=</span> 原网.<span style=color:#a6e22e>深拷贝</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (虚节点 v : 新增节点) {
</span></span><span style=display:flex><span>            扩展网.<span style=color:#a6e22e>添加节点</span>(v);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 连接虚节点到原网络</span>
</span></span><span style=display:flex><span>            扩展网.<span style=color:#a6e22e>添加边</span>(v, 某原节点, 容量);
</span></span><span style=display:flex><span>            扩展网.<span style=color:#a6e22e>添加边</span>(另一原节点, v, 容量);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> 总流量 <span style=color:#f92672>=</span> 0;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// BFS寻找增广路径</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> 父节点 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>扩展网.<span style=color:#a6e22e>节点数</span><span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>            Arrays.<span style=color:#a6e22e>fill</span>(父节点, <span style=color:#f92672>-</span>1);
</span></span><span style=display:flex><span>            Queue<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> 队列 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> LinkedList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>            队列.<span style=color:#a6e22e>offer</span>(源.<span style=color:#a6e22e>编号</span>);
</span></span><span style=display:flex><span>            父节点<span style=color:#f92672>[</span>源.<span style=color:#a6e22e>编号</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>2;
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>队列.<span style=color:#a6e22e>isEmpty</span>()) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> 当前 <span style=color:#f92672>=</span> 队列.<span style=color:#a6e22e>poll</span>();
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (边 e : 扩展网.<span style=color:#a6e22e>邻接表</span><span style=color:#f92672>[</span>当前<span style=color:#f92672>]</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (父节点<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span>1 <span style=color:#f92672>&amp;&amp;</span> e.<span style=color:#a6e22e>剩余容量</span>() <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                        父节点<span style=color:#f92672>[</span>e.<span style=color:#a6e22e>终点</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 当前;
</span></span><span style=display:flex><span>                        队列.<span style=color:#a6e22e>offer</span>(e.<span style=color:#a6e22e>终点</span>);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (父节点<span style=color:#f92672>[</span>汇.<span style=color:#a6e22e>编号</span><span style=color:#f92672>]</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span>1) <span style=color:#66d9ef>break</span>; <span style=color:#75715e>// 无增广路径</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 计算路径最小剩余容量</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> 路径流 <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>MAX_VALUE</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> 汇.<span style=color:#a6e22e>编号</span>; v <span style=color:#f92672>!=</span> 源.<span style=color:#a6e22e>编号</span>; v <span style=color:#f92672>=</span> 父节点<span style=color:#f92672>[</span>v<span style=color:#f92672>]</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> u <span style=color:#f92672>=</span> 父节点<span style=color:#f92672>[</span>v<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>                路径流 <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>(路径流, 扩展网.<span style=color:#a6e22e>获取边</span>(u, v).<span style=color:#a6e22e>剩余容量</span>());
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 更新流量</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> 汇.<span style=color:#a6e22e>编号</span>; v <span style=color:#f92672>!=</span> 源.<span style=color:#a6e22e>编号</span>; v <span style=color:#f92672>=</span> 父节点<span style=color:#f92672>[</span>v<span style=color:#f92672>]</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> u <span style=color:#f92672>=</span> 父节点<span style=color:#f92672>[</span>v<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>                扩展网.<span style=color:#a6e22e>获取边</span>(u, v).<span style=color:#a6e22e>流量</span> <span style=color:#f92672>+=</span> 路径流;
</span></span><span style=display:flex><span>                扩展网.<span style=color:#a6e22e>获取边</span>(v, u).<span style=color:#a6e22e>流量</span> <span style=color:#f92672>-=</span> 路径流; <span style=color:#75715e>// 反向边</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            总流量 <span style=color:#f92672>+=</span> 路径流;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> 总流量;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>现实中，芈月已祭出玉简。</p><p>“递归·虚空开辟！”</p><p>剑光斩过，虚空中裂开三道<strong>临时缝隙</strong>——正是三个虚节点！</p><p>姬玄同步计算：“连虚节点A到节点3，容量10；连节点7到虚节点B，容量8；连虚节点C到节点11，容量12&mldr;”</p><p>网络结构瞬间改变！</p><p>庞涓的最小割，被<strong>绕过去了</strong>！</p><p>“不可能！”庞涓失声，“你怎么能临时改阵？！”</p><p>“因为你的阵法，”姬玄起身冷笑，“是<strong>静态的</strong>。而真实世界&mldr;是动态的。”</p><p>他挥手：“田将军！带兵过阵！新路径容量30，足够！”</p><p>“是！”田忌率兵冲入。</p><p>庞涓急吼：“拦住他们！”</p><p>但已经晚了。</p><p>虚节点维持的十息内，三百齐兵已冲过最小割区域，杀向三名魏国宗师！</p><p>然而&mldr;</p><p>就在最后一批士兵通过时，虚节点崩溃！</p><p>芈月灵力耗尽，喷血倒地。</p><p>更糟的是——<strong>庞涓亲自出手了</strong>！</p><hr><h2 id=第五幕宗师之战图论巅峰对决><strong>第五幕：宗师之战，图论巅峰对决</strong></h2><p>庞涓不再摇扇，手中多了一柄<strong>算筹剑</strong>。</p><p>“姬玄，我承认你天赋惊人&mldr;但今日，你必须死。”</p><p>他剑指苍天：“第三阵——<strong>强连通分量封锁</strong>！”</p><p>天地变色，所有节点和边开始<strong>收缩合并</strong>！</p><p>姬玄瞬间明悟：庞涓要将整个网络收缩成几个强连通分量（SCC），把他们困在某个分量里，永远到不了汇点T（临淄）！</p><p>“这是**科萨拉朱算法（Kosaraju）**的逆向运用&mldr;”姬玄扶住芈月，大脑飞转，“找SCC，然后&mldr;封锁边界。”</p><p>常规破法：找到自己所在SCC的所有边界边，强行突破。</p><p>但庞涓是宗师境，灵力压制！</p><p>“只能拼算法理解&mldr;”姬玄咬牙，“科萨拉朱算法核心是两次DFS：一次原图，一次反图。如果我&mldr;<strong>同时进行</strong>呢？”</p><p>一个疯狂念头涌现。</p><p>“公主，”姬玄低声道，“还能再用一次递归吗？”</p><p>芈月虚弱点头：“一次&mldr;最多。”</p><p>“好。你用递归实现<strong>并行DFS</strong>——同时遍历原图和反图！我来计算SCC的边界脆弱点！”</p><p>这是赌命。</p><p>芈月盘膝，玉简悬浮头顶，开始同时构建<strong>原图递归树</strong>和<strong>反图递归树</strong>。</p><p>姬玄则盯着收缩的网络，寻找那个<strong>关键边</strong>——连接他们所在SCC与其他SCC的边，且&mldr;权重可被修改。</p><p>找到了！</p><p>有一条边，权重正好是<strong>质数</strong>，且是当前SCC中唯一的质数权重边。</p><p>“质数&mldr;不可分解&mldr;”姬玄眼中闪过明悟，“庞涓用质数权重，是因为质数在模运算下性质特殊，难以被修改。”</p><p>“但反过来说&mldr;只要我能<strong>分解这个质数</strong>，就能打破权重封锁！”</p><p>怎么分解？</p><p>用<strong>算法暴力分解</strong>？时间不够。</p><p>那么&mldr;用<strong>数学定理</strong>！</p><p>“我记得&mldr;费马小定理：若p是质数，a不是p的倍数，则a^(p-1) ≡ 1 (mod p)。”姬玄飞速计算，“如果我能构造一个a，使a^(p-1) ≡ 0 (mod p)&mldr;不，不可能&mldr;”</p><p>等等。</p><p>“<strong>威尔逊定理</strong>：(p-1)! ≡ -1 (mod p)，当且仅当p是质数！”</p><p>姬玄眼睛亮了：“如果我证明这条边的权重p<strong>不满足威尔逊定理</strong>，就能证明它不是质数，从而分解它！”</p><p>但计算(p-1)!模p&mldr;p很大，不可能直接算。</p><p>需要<strong>快速阶乘模算法</strong>&mldr;</p><p>“分段计算+中国剩余定理！”姬玄玉笔狂舞，“将p-1分解因式，分段计算模p，最后合并&mldr;”</p><p>这是极度复杂的数论计算，但姬玄在系统加持下，大脑如超级计算机！</p><p>三息。
五息。
十息&mldr;</p><p>“算出来了！”姬玄大喝，“(p-1)! ≡ 156 (mod p)，不是-1！所以p不是质数！”</p><p>他一指点向那条边：“破！”</p><p>边权重闪烁，从质数p分解为两个因数：p = a × b！</p><p>权重封锁解除！</p><p>整个强连通分量开始分裂！</p><p>“噗——”庞涓遭反噬，吐血倒退。</p><p>他惊恐地看着姬玄：“你&mldr;你连数论都&mldr;”</p><p>姬玄不给他机会，抱起芈月：“田将军！冲出去！”</p><p>“杀——！”</p><p>齐兵冲锋，魏国阵师溃败。</p><p>庞涓怨毒地看了姬玄一眼，捏碎传送符消失。</p><hr><h2 id=第六幕临淄城下叛徒现身><strong>第六幕：临淄城下，叛徒现身</strong></h2><p>冲出杀阵时，天已破晓。</p><p>临淄城轮廓在望，但&mldr;</p><p>城门紧闭，吊桥高悬。</p><p>城墙上，站着一个人。</p><p>齐国宰相——<strong>邹忌</strong>。</p><p>田忌策马上前：“邹相！快开城门！大王危殆，殿下归来！”</p><p>邹忌却不动，俯视众人，缓缓道：“田将军，你身边那人&mldr;真是七王子吗？”</p><p>田忌一愣：“邹相何意？！”</p><p>“我接到密报，”邹忌冷声道，“真七王子已在迷宫遇害，此人是魏国细作假扮，欲入城害大王。”</p><p>“胡言！”田忌怒道，“殿下刚破庞涓三阵，救我等性命！”</p><p>“那更是可疑，”邹忌冷笑，“庞涓乃魏国宗师，姬玄一个‘纨绔’，如何能破？定是演苦肉计！”</p><p>姬玄心中冰冷。</p><p>他明白了——<strong>邹忌就是内奸</strong>！</p><p>父王的算法反噬，恐怕就是邹忌做的手脚。现在他归来救父，邹忌必须阻止。</p><p>“邹相，”姬玄扬声道，“你说我是细作，有何证据？”</p><p>“证据？”邹忌挥手，“带上来！”</p><p>几名士兵押上一人——竟是<strong>赵国那名修士</strong>，姬玄在第一层迷宫救过的人！</p><p>修士满脸愧色，低头道：“是&mldr;是七王子逼我作伪证，说他破了迷宫&mldr;其实他是魏国安排&mldr;”</p><p>“你！”田忌气得发抖。</p><p>姬玄却笑了：“邹相好手段。但&mldr;你忘了一件事。”</p><p>“什么？”</p><p>“我救此人时，在他身上留了<strong>递归印记</strong>。”姬玄看向修士，“印记可记录他三日内所见所闻。要不要&mldr;现在公开？”</p><p>修士脸色惨白。</p><p>邹忌眼神一厉：“妖言惑众！弓箭手——”</p><p>城墙上出现数百弓箭手！</p><p>田忌拔剑：“邹忌！你敢？！”</p><p>就在剑拔弩张之际——</p><p>“住手！”</p><p>一声虚弱但威严的喝声响起。</p><p>齐威王，被两名太监搀扶着，出现在城楼！</p><p>他脸色苍白如纸，气息微弱，但眼神锐利如刀。</p><p>“父王！”姬玄惊喜。</p><p>齐威王盯着邹忌：“邹相&mldr;你告诉寡人，玄儿是细作？”</p><p>邹忌冷汗涔涔：“大王，您病体未愈&mldr;”</p><p>“寡人是算法反噬，不是瞎了！”齐威王咳嗽两声，“开城门，迎王子！违令者&mldr;斩！”</p><p>邹忌咬牙，最终挥手：“开城门&mldr;”</p><p>吊桥缓缓放下。</p><p>但姬玄看到，邹忌眼中闪过决然杀意。</p><hr><h2 id=第七幕王宫救治最大流医理><strong>第七幕：王宫救治，最大流医理</strong></h2><p>王宫，养心殿。</p><p>齐威王躺在玉榻上，胸前一道<strong>黑色递归纹路</strong>蔓延，正是栈溢出毒素。</p><p>太医令颤声道：“殿下，毒素已侵心脉，寻常药石无效&mldr;唯有《九章算法》第二卷‘方程术’可解。”</p><p>姬玄握着父王的手：“第二卷在魏国&mldr;但我有第一卷，或可一试。”</p><p>芈月虚弱道：“第一卷有‘方田术’，可计算面积&mldr;但与解毒何干？”</p><p>“将父王身体视为<strong>网络流图</strong>，”姬玄解释，“毒素是负流量，我需要找到从心脏到体外的<strong>最大流路径</strong>，将毒素‘冲’出去。”</p><p>这是将医学问题转化为最大流问题！</p><p>姬玄闭目，神识探入父王经脉。</p><p>果然——经脉如网络，穴位如节点，气血流动如边权重。黑色毒素堵塞了关键节点，形成“最小割”，使排毒路径中断。</p><p>“需要计算当前网络的<strong>最大流量</strong>，然后找到<strong>最小割集</strong>，强行打通。”姬玄对太医道，“准备九根金针，对应九个关键穴位。”</p><p>他再次动用埃德蒙兹-卡普算法，但在人体经脉中实施：</p><ol><li><p><strong>构建残存网络</strong>：将经脉建模为有向图，毒素堵塞处容量为0</p></li><li><p><strong>BFS找增广路径</strong>：神识扫描，找气血可流动的路径</p></li><li><p><strong>沿路径‘推送’气血</strong>：冲开部分堵塞</p></li><li><p><strong>重复</strong>直到无增广路径</p></li></ol><p>这需要极度精密的控制。</p><p>姬玄额头见汗，神识如针，在父王经脉中穿梭。</p><p>一刻钟&mldr;</p><p>两刻钟&mldr;</p><p>“噗！”齐威王突然喷出一口黑血！</p><p>黑色递归纹路开始消退！</p><p>太医惊喜：“毒素排出来了！”</p><p>但姬玄脸色更凝重——他发现了更可怕的事。</p><p>毒素源头&mldr;不在体外。</p><p>在父王体内深处，有一个<strong>隐藏的递归函数</strong>，在不断生成新毒素！</p><p>“这是&mldr;”姬玄震惊，“有人将一段<strong>恶意递归代码</strong>植入父王功法中！只要运功，就会触发递归，生成毒素！”</p><p>芈月也探查到了：“好狠毒的手段&mldr;这是谁做的？”</p><p>“能接触父王核心功法，且精通递归的&mldr;”姬玄眼中寒光一闪，“邹忌。”</p><p>邹忌是齐国除淳于髡外，最擅递归之人！</p><p>而且，只有他能接触《齐民算法》原本！</p><hr><h2 id=第八幕夜探相府图遍历寻证><strong>第八幕：夜探相府，图遍历寻证</strong></h2><p>当夜，姬玄决定夜探相府。</p><p>芈月坚持同往：“你刚为齐王疗伤，灵力大损。我虽伤未愈，但还能一战。”</p><p>两人黑衣蒙面，潜入相府。</p><p>相府如迷宫，戒备森严。但姬玄用<strong>图遍历算法</strong>规划路线：</p><p>“用深度优先搜索（DFS）探路，发现守卫就回溯；找到书房就用广度优先搜索（BFS）找密室&mldr;”</p><p>他们在屋檐上飞掠，如两道影子。</p><p>书房果然有密室，但需要密码。</p><p>芈月看着门上的九宫格锁：“这是&mldr;数独锁？”</p><p>“不，是<strong>图着色问题</strong>。”姬玄观察，“九个格子，需填三种颜色，相邻不同色&mldr;这是判断三着色问题是否有解。”</p><p>他快速推演：“三着色是NPC问题，但九宫格规模小，可暴力解&mldr;”</p><p>正推演着，忽然——</p><p>“既然来了，何必偷偷摸摸？”</p><p>邹忌的声音从身后响起！</p><p>两人回头，邹忌带着十名死士，堵住退路。</p><p>“七王子殿下，”邹忌冷笑，“夜闯相府，可是死罪。”</p><p>“邹相，”姬玄摘下面巾，“父王体内的递归毒，是你下的吧？”</p><p>邹忌笑容消失：“殿下说什么，老夫听不懂。”</p><p>“需要证据？”姬玄指向密室，“证据就在里面，对吗？你与魏国勾结的信件，还有&mldr;递归毒的原始算法。”</p><p>邹忌沉默片刻，忽然笑了：“是又如何？齐王已中必死之毒，你也活不过今晚。”</p><p>他挥手：“杀！”</p><p>十名死士结阵杀来——这次是<strong>二分图匹配杀阵</strong>！</p><p>每个死士分属两个集合，攻击时形成完美匹配，威力倍增！</p><p>芈月拔剑迎战，但伤势未愈，很快落于下风。</p><p>姬玄护住她，脑中急转：“二分图最大匹配&mldr;用匈牙利算法找增广路径，破坏匹配&mldr;”</p><p>但需要时间！</p><p>就在危急时刻——</p><p>“邹忌！你竟敢对殿下动手！”</p><p>田忌率兵杀到！原来姬玄离宫前，已让田忌暗中跟随。</p><p>邹忌脸色大变：“田忌？！你&mldr;”</p><p>“我早就怀疑你了！”田忌怒喝，“拿下！”</p><p>士兵围攻。</p><p>邹忌见势不妙，转身冲入密室！</p><p>姬玄急追：“他要毁证据！”</p><p>追入密室，只见邹忌正将一叠信件扔进火盆。</p><p>姬玄一剑挑飞火盆，但信件已烧大半。</p><p>邹忌狞笑：“晚了！没有证据，你能奈我何？”</p><p>姬玄却看向密室墙壁——墙上刻着<strong>递归毒的核心算法</strong>！</p><p>他立即用玉简拓印。</p><p>邹忌见状，扑上来拼命。</p><p>两人在密室中对掌，灵力激荡！</p><p>姬玄新晋宗师，但消耗太大；邹忌是老牌宗师，且狗急跳墙。</p><p>就在姬玄渐感不支时——</p><p>“递归·斩！”</p><p>一道剑光从背后刺穿邹忌！</p><p>芈月脸色苍白，剑尖滴血：“这一剑&mldr;为齐王，也为&mldr;算法正道。”</p><p>邹忌倒地，眼中满是不甘。</p><p>姬玄扶住芈月：“你伤更重了&mldr;”</p><p>“不碍事。”芈月虚弱一笑，“快拓印算法，救你父王。”</p><hr><h2 id=第九幕递归解毒堆栈修复术><strong>第九幕：递归解毒，堆栈修复术</strong></h2><p>带回递归算法后，姬玄连夜研究。</p><p>这毒果然精妙：一个无限递归函数，嵌在《齐民算法》的某个循环中。只要齐王运功，就会触发递归，且<strong>没有终止条件</strong>。</p><p>解法：要么找到终止条件，要么&mldr;<strong>强行设置递归深度上限</strong>。</p><p>“系统，”姬玄心中呼唤，“可兑换‘栈帧修复术’吗？”</p><p>【系统】：检测到需求“递归深度限制”</p><p>【兑换项】：尾递归优化术（8000金币）、迭代改写术（10000金币）、栈帧手动修复术（12000金币）</p><p>【当前金币】：18200</p><p>“兑换栈帧手动修复术。”</p><p>【兑换成功，扣除12000金币】</p><p>【获得《栈帧修复术·上古卷》】</p><p>姬玄立即学习。</p><p>原来原理是：在递归调用时，手动管理栈帧，设置深度计数器，超限则强行返回。</p><p>他结合邹忌的递归毒代码，写出了<strong>解毒算法</strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>递归解毒</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 原毒代码（恶意递归）</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>递归毒</span>(<span style=color:#66d9ef>int</span> 深度) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (深度 <span style=color:#f92672>&gt;</span> 10000) { <span style=color:#75715e>// 恶意：永远不成立的条件</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 生成毒素</span>
</span></span><span style=display:flex><span>        生成毒素();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 递归调用</span>
</span></span><span style=display:flex><span>        递归毒(深度 <span style=color:#f92672>+</span> 1); <span style=color:#75715e>// 无限递归</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 解毒算法：栈帧修复版</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>修复版</span>(<span style=color:#66d9ef>int</span> 深度, <span style=color:#66d9ef>int</span> 最大深度) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 手动栈帧管理</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (深度 <span style=color:#f92672>&gt;=</span> 最大深度) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 强行返回，避免栈溢出</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 修复：将递归调用改为尾递归形式</span>
</span></span><span style=display:flex><span>        生成毒素();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 模拟栈帧弹出/压入</span>
</span></span><span style=display:flex><span>        保存现场();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 尾调用优化</span>
</span></span><span style=display:flex><span>        修复版(深度 <span style=color:#f92672>+</span> 1, 最大深度);
</span></span><span style=display:flex><span>        恢复现场();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 最终方案：改为迭代</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>迭代解毒</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> 深度 <span style=color:#f92672>=</span> 0;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (深度 <span style=color:#f92672>&lt;</span> 安全深度) {
</span></span><span style=display:flex><span>            生成毒素();
</span></span><span style=display:flex><span>            深度<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 每千层检查一次身体状态</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (深度 <span style=color:#f92672>%</span> 1000 <span style=color:#f92672>==</span> 0) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (身体承受不住()) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>; <span style=color:#75715e>// 提前终止</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>拿着算法，姬玄再次为父王疗伤。</p><p>这次，他深入递归毒的核心，在每次递归调用前插入<strong>深度检查</strong>，超限则强行跳出。</p><p>这是个精细手术，稍有不慎，可能伤及父王功法根基。</p><p>三时辰后。</p><p>齐威王再次喷血，但这次是<strong>瘀黑毒血</strong>。</p><p>胸前的递归纹路彻底消失！</p><p>太医探查后惊喜道：“毒素全清！大王脉象平稳了！”</p><p>姬玄松了口气，眼前一黑，几乎晕倒。</p><p>芈月扶住他：“你消耗太大了&mldr;”</p><p>这时，齐威王悠悠转醒。</p><p>他看着姬玄，眼中欣慰：“玄儿&mldr;你救了父王，也救了齐国。”</p><p>“父王，”姬玄跪下，“邹忌已伏诛，但魏国不会罢休。庞涓逃了，必会报复。”</p><p>齐威王挣扎坐起：“传寡人旨意：一、厚葬阵亡将士；二、追查邹忌余党；三、封七王子姬玄为<strong>算法监国</strong>，总领齐国算法事务！”</p><p>“父王，儿臣&mldr;”</p><p>“你有这个能力。”齐威王握住他的手，“而且&mldr;你身边这位楚国公主，似乎也值得信任。”</p><p>芈月脸红低头。</p><p>齐威王又咳嗽两声：“还有&mldr;玄儿，你与芈月公主的事&mldr;寡人准了。”</p><p>姬玄、芈月皆是一愣。</p><p>“父王，我们&mldr;”</p><p>“寡人还没老糊涂。”齐威王笑道，“你们在迷宫并肩作战，在城外生死与共&mldr;这若不算情谊，什么算？”</p><p>他正色道：“但楚王那边&mldr;需有个交代。芈月，你可愿暂留齐国，助玄儿一臂之力？”</p><p>芈月看了姬玄一眼，轻声道：“愿意。”</p><hr><h2 id=尾声风雨欲来><strong>尾声：风雨欲来</strong></h2><p>三日后，邹忌谋逆案查清。</p><p>他不仅对齐王下毒，还私通魏国，承诺若助魏得《九章算法》，魏助他篡位。</p><p>牵扯出朝中十三名官员，全部下狱。</p><p>齐威王康复临朝，第一件事就是——<strong>对魏国宣战</strong>！</p><p>“魏国设杀阵截杀王子，此仇必报！”齐威王诏令，“田忌为帅，姬玄为军师，率军十万，伐魏！”</p><p>同时，姬玄公开《九章算法·第一卷》基础篇，齐国算法修士欢呼雀跃。</p><p>但姬玄心中清楚——真正的战争，才刚刚开始。</p><p>庞涓未死，魏国还有更强算法高手。</p><p>而且&mldr;秦国、楚国态度暧昧，赵国、韩国蠢蠢欲动。</p><p>“在想什么？”芈月走到他身边。</p><p>姬玄望向西方：“在想&mldr;庞涓此刻在做什么。”</p><p>“他一定在准备更可怕的阵法。”芈月担忧，“你刚封监国，就要出征&mldr;”</p><p>“有些仗，必须打。”姬玄握住她的手，“而且这次&mldr;我有你。”</p><p>芈月脸微红，却没抽手。</p><p>这时，系统提示：</p><p>【新主线任务：伐魏之战】</p><p>【目标：击败魏国算法军团，擒杀庞涓】</p><p>【关键算法：动态规划（行军路线）、博弈论（战术决策）】</p><p>【特殊：解锁“军阵算法”模块】</p><p>【支线任务：楚国之约】</p><p>【目标：获得楚王认可，正式与芈月订婚】</p><p>【需完成：楚王出的三道算法难题】</p><p>【难度：★★★★★】</p><p>姬玄笑了。</p><p>算法治国，算法治军，算法&mldr;还能定姻缘。</p><p>这个时代，越来越有意思了。</p><p>但他没注意到&mldr;</p><p>临淄城外，某处阴影中，一道黑影正盯着王宫方向。</p><p>黑影手中，捏着一枚血色玉简：</p><p>“姬玄&mldr;你破我三阵，杀我棋子&mldr;接下来，让你见识真正的‘图论杀局’。”</p><p>“魏国国师&mldr;鬼谷子，已出山。”</p><hr><p><strong>【下章预告】</strong></p><p><strong>第四章：鬼谷出山，动态规划</strong></p><p><strong>核心算法：背包问题（粮草分配）、最长公共子序列（破译军情）</strong></p><p><strong>关键冲突：鬼谷子布“多维背包杀阵”，姬玄需同时优化多个目标</strong></p><p><strong>感情进展：芈月为救姬玄中咒，姬玄怒而突破</strong></p><p><strong>新危机：秦国突然出兵，意图坐收渔利&mldr;</strong></p><hr><p><strong>【本章算法知识点】</strong></p><ol><li><p><strong>最短路径</strong>：Dijkstra（正权） vs Bellman-Ford（可负权）</p></li><li><p><strong>最大流最小割</strong>：Edmonds-Karp算法（BFS找增广路径）</p></li><li><p><strong>强连通分量</strong>：Kosaraju算法（两次DFS）</p></li><li><p><strong>图着色与NPC问题</strong>：三着色问题的复杂性</p></li><li><p><strong>递归与栈溢出</strong>：深度限制与尾递归优化</p></li><li><p><strong>二分图匹配</strong>：匈牙利算法</p></li></ol><p>（对应LeetCode：743网络延迟时间、207课程表、200岛屿数量等&mldr;）
<a href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>◀ 返回</a></p></div><div class="post__tags tags clearfix"><svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16"><path d="M16 9.5c0 .373-.24.74-.5 1l-5 5c-.275.26-.634.5-1 .5-.373.0-.74-.24-1-.5L1 8A2.853 2.853.0 01.3 7C.113 6.55.0 5.973.0 5.6V1.4C0 1.034.134.669.401.401.67.134 1.034.0 1.4.0h4.2c.373.0.95.113 1.4.3s.732.432 1 .7l7.5 7.502c.26.274.5.632.5.998zM3.5 5a1.5 1.5.0 100-3 1.5 1.5.0 000 3z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%88%97%E8%A1%A8/ rel=tag>列表</a></li></ul></div></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="wu guojun avatar" src=/img/QR.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>关于 wu guojun</span></div><div class=authorbox__description>北京牛马，高级 CV工程狮</div></div><nav class="post-nav flex"><div class="post-nav__item post-nav__item--prev"><a class=post-nav__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E4%B9%9D%E7%AB%A0%E8%BF%B7%E5%AE%AB%E7%BE%A4%E9%9B%84%E9%80%90%E9%B9%BF/ rel=prev><span class=post-nav__caption>«&#8201;上一篇</span><p class=post-nav__post-title>第二章：九章迷宫，群雄逐鹿</p></a></div><div class="post-nav__item post-nav__item--next"><a class=post-nav__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E9%AC%BC%E8%B0%B7%E5%87%BA%E5%B1%B1%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/ rel=next><span class=post-nav__caption>下一篇&#8201;»</span><p class=post-nav__post-title>第四章：鬼谷出山，动态规划</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/post/about/>个人简历-中文</a> | <a class=footer__link href=/post/about-en/>个人简历-英文</a></div><div class=footer__copyright>&copy; 2025 补漏砖匠.
<span class=footer__copyright-credits><a href=# rel="nofollow noopener" target=_blank>左键右鼠运阴阳，挖山填海码几行。</a> <a href=# rel="nofollow noopener" target=_blank>人海浮沉皆过客，我是人间补漏匠。</a></span></div></div></footer></div><script async defer src=/js/menu.js></script><script src=/js/quiz.js></script><script src=/js/ai-quiz.js></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>