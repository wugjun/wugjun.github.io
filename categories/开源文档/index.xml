<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>å¼€æºæ–‡æ¡£ on è¡¥æ¼ç –åŒ </title><link>/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/</link><description>Recent content in å¼€æºæ–‡æ¡£ on è¡¥æ¼ç –åŒ </description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Thu, 27 Nov 2025 00:00:00 +0000</lastBuildDate><atom:link href="/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/index.xml" rel="self" type="application/rss+xml"/><item><title>å…¸ç±ç¯‡</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/</link><pubDate>Thu, 27 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/</guid><description>&lt;p&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/"&gt;â—€ è¿”å›&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="æºç å®‰è£…postgresqlç¨³å®šç‰ˆæœ¬linux"&gt;æºç å®‰è£…PostgreSQLç¨³å®šç‰ˆæœ¬ï¼ˆLinuxï¼‰&lt;/h1&gt;
&lt;h2 id="-å‡†å¤‡å·¥ä½œ"&gt;ğŸ“‹ å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;h3 id="1-æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬"&gt;1. &lt;strong&gt;æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬&lt;/strong&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¿é—®PostgreSQLå®˜ç½‘æˆ–ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl -s https://www.postgresql.org/ftp/source/ | grep -E &lt;span style="color:#e6db74"&gt;&amp;#39;href=&amp;#34;v[0-9]+\.[0-9]+/&amp;#34;&amp;#39;&lt;/span&gt; | tail -5
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å½“å‰é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 16.x (æœ€æ–°ç¨³å®šç‰ˆ)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 15.x (é•¿æœŸæ”¯æŒ)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 14.x (é•¿æœŸæ”¯æŒåˆ°2026å¹´)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 13.x (é•¿æœŸæ”¯æŒåˆ°2025å¹´)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-å®‰è£…ç¼–è¯‘ä¾èµ–"&gt;2. &lt;strong&gt;å®‰è£…ç¼–è¯‘ä¾èµ–&lt;/strong&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Ubuntu/Debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; build-essential &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libreadline-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; zlib1g-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; flex bison &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxml2-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxslt-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libssl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libssl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libpam0g-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libldap-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libperl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libicu-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; tcl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; python3-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; git &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; wget &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; curl
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# CentOS/RHEL/Rocky/AlmaLinux&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo yum groupinstall -y &lt;span style="color:#e6db74"&gt;&amp;#34;Development Tools&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo yum install -y &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; readline-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; zlib-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; flex bison &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxml2-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxslt-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; openssl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; pam-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; openldap-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; perl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; perl-ExtUtils-Embed &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; tcl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; python3-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; git &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; wget
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vi /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æœ€å¤§å…±äº«å†…å­˜æ®µå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmmax &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 68719476736&lt;span style="color:#f92672"&gt;(&lt;/span&gt;é»˜è®¤&lt;span style="color:#f92672"&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;#å¯ä»¥ä½¿ç”¨çš„å…±äº«å†…å­˜çš„æ€»é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmall &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 4294967296&lt;span style="color:#f92672"&gt;(&lt;/span&gt;é»˜è®¤&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ•´ä¸ªç³»ç»Ÿå…±äº«å†…å­˜æ®µçš„æœ€å¤§æ•°ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmmni &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;4096&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ¯ä¸ªä¿¡å·å¯¹è±¡é›†çš„æœ€å¤§ä¿¡å·å¯¹è±¡æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.sem &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;50100&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;64128000&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;50100&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1280&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ–‡ä»¶å¥æŸ„çš„æœ€å¤§æ•°é‡ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fs.file-max &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;7672460&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#åº”ç”¨ç¨‹åºå¯ä½¿ç”¨çš„IPv4ç«¯å£èŒƒå›´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.ipv4.ip_local_port_range &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;9000&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;65000&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—æ¥æ”¶ç¼“å†²åŒºå¤§å°çš„ç¼ºçœå€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.rmem_default &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1048576&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„ç¼ºçœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.wmem_default &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;262144&lt;/span&gt; å€¼
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„æœ€å¤§å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.wmem_max &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1048576&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# sysctl -p #é…ç½®ç”Ÿæ•ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æºç å®‰è£…postgresql-162å½“å‰ç¨³å®šç‰ˆ"&gt;ğŸš€ æºç å®‰è£…PostgreSQL 16.2ï¼ˆå½“å‰ç¨³å®šç‰ˆï¼‰&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤1åˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•"&gt;æ­¥éª¤1ï¼šåˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºpostgresç³»ç»Ÿç”¨æˆ·å’Œç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo groupadd -r postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo useradd -r -g postgres -s /bin/bash -d /usr/local/pgsql -m -k /dev/null postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå®‰è£…ç›®å½•å’Œæ•°æ®ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /usr/local/pgsql/&lt;span style="color:#f92672"&gt;{&lt;/span&gt;data,logs,backup&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R postgres:postgres /usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod &lt;span style="color:#ae81ff"&gt;750&lt;/span&gt; /usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæºç ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown &lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;whoami&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;:&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;whoami&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt; /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤2ä¸‹è½½æºç "&gt;æ­¥éª¤2ï¼šä¸‹è½½æºç &lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸‹è½½PostgreSQL 16.2ï¼ˆæˆªè‡³2024å¹´3æœˆçš„æœ€æ–°ç¨³å®šç‰ˆï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨å›½å†…é•œåƒï¼ˆæ¸…åæºï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# wget https://mirrors.tuna.tsinghua.edu.cn/postgresql/source/v16.2/postgresql-16.2.tar.gz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# éªŒè¯ä¸‹è½½å®Œæ•´æ€§ï¼ˆå¯é€‰ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz.sha256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sha256sum -c postgresql-16.2.tar.gz.sha256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è§£å‹æºç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-16.2.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-16.2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤3é…ç½®ç¼–è¯‘é€‰é¡¹"&gt;æ­¥éª¤3ï¼šé…ç½®ç¼–è¯‘é€‰é¡¹&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æ‰€æœ‰é…ç½®é€‰é¡¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./configure --help
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºç¼–è¯‘ç›®å½•ï¼ˆæ¨èï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åŸºæœ¬é…ç½®ï¼ˆé€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pgport&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-perl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-python &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-tcl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-openssl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pam &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -with-uuid&lt;span style="color:#f92672"&gt;=&lt;/span&gt;ossp &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-ldap &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-libxml &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-libxslt &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-icu &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-thread-safety &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-debug &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-nls &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-system-tzdata&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/share/zoneinfo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ç²¾ç®€é…ç½®ï¼ˆæœ€å°åŒ–å®‰è£…ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ../configure --prefix=/usr/local/pgsql --with-openssl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤4ç¼–è¯‘å’Œå®‰è£…"&gt;æ­¥éª¤4ï¼šç¼–è¯‘å’Œå®‰è£…&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹CPUæ ¸å¿ƒæ•°ï¼Œå†³å®šå¹¶è¡Œç¼–è¯‘æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nproc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¯‘ï¼ˆä½¿ç”¨4ä¸ªå¹¶è¡Œä»»åŠ¡ï¼Œæ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j4
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯é€‰ï¼šè¿è¡Œå›å½’æµ‹è¯•ï¼ˆéœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# make check&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…åˆ°ç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…contribæ¨¡å—ï¼ˆæ‰©å±•å·¥å…·ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd contrib
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j4
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd ..
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤5é…ç½®ç¯å¢ƒå˜é‡"&gt;æ­¥éª¤5ï¼šé…ç½®ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºpostgresç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee -a /usr/local/pgsql/.bash_profile &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PGHOME=/usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PATH=$PGHOME/bin:$PATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export LD_LIBRARY_PATH=$PGHOME/lib:$LD_LIBRARY_PATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export MANPATH=$PGHOME/share/man:$MANPATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºå½“å‰ç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#39;export PATH=/usr/local/pgsql/bin:$PATH&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;source ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# éªŒè¯å®‰è£…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/usr/local/pgsql/bin/postgres --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®"&gt;âš™ï¸ åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤6åˆå§‹åŒ–æ•°æ®åº“"&gt;æ­¥éª¤6ï¼šåˆå§‹åŒ–æ•°æ®åº“&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ‡æ¢åˆ°postgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo su - postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆå§‹åŒ–æ•°æ®åº“é›†ç¾¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb -D /usr/local/pgsql/data -E UTF8 --locale&lt;span style="color:#f92672"&gt;=&lt;/span&gt;C -U postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨è¯¦ç»†å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -D /usr/local/pgsql/data &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -E UTF8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --locale&lt;span style="color:#f92672"&gt;=&lt;/span&gt;en_US.UTF-8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --lc-collate&lt;span style="color:#f92672"&gt;=&lt;/span&gt;C &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --lc-ctype&lt;span style="color:#f92672"&gt;=&lt;/span&gt;en_US.UTF-8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --username&lt;span style="color:#f92672"&gt;=&lt;/span&gt;postgres &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --pwprompt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¾ç½®å¯†ç ï¼ˆè®°ä¸‹è¿™ä¸ªå¯†ç ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¾“å…¥å¹¶ç¡®è®¤postgresç”¨æˆ·çš„å¯†ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤7é…ç½®postgresqlconf"&gt;æ­¥éª¤7ï¼šé…ç½®postgresql.conf&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¤‡ä»½åŸå§‹é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cp /usr/local/pgsql/data/postgresql.conf /usr/local/pgsql/data/postgresql.conf.original
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼ˆæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;listen_addresses&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;*&amp;#39; # å…è®¸è¿œç¨‹è¿æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;port&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;5432 # ç›‘å¬ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_connections&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;100 # æœ€å¤§è¿æ¥æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;shared_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;128MB # å…±äº«ç¼“å†²åŒºå¤§å°ï¼ˆå»ºè®®ä¸ºå†…å­˜çš„25%ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;4MB # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;maintenance_work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;64MB # ç»´æŠ¤æ“ä½œçš„å†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;dynamic_shared_memory_type&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;posix # åŠ¨æ€å…±äº«å†…å­˜ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_level&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;replica # WALçº§åˆ«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;synchronous_commit&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # åŒæ­¥æäº¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;-1 # WALç¼“å†²åŒºï¼ˆ-1è¡¨ç¤ºè‡ªåŠ¨ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;checkpoint_timeout&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;5min # æ£€æŸ¥ç‚¹è¶…æ—¶æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1GB # æœ€å¤§WALå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;min_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;80MB # æœ€å°WALå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_mode&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;off # å½’æ¡£æ¨¡å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_command&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;/bin/date&amp;#39; # å½’æ¡£å‘½ä»¤ï¼ˆå…³é—­æ—¶éšæ„è®¾ç½®ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;logging_collector&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # å¯ç”¨æ—¥å¿—æ”¶é›†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_directory&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;pg_log&amp;#39; # æ—¥å¿—ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_filename&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;postgresql-%Y-%m-%d_%H%M%S.log&amp;#39; # æ—¥å¿—æ–‡ä»¶åæ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_rotation_age&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1d # æ—¥å¿—è½®è½¬æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_rotation_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;10MB # æ—¥å¿—è½®è½¬å¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_truncate_on_rotation&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # è½®è½¬æ—¶æˆªæ–­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_line_prefix&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;%m [%p] %q%u@%d &amp;#39; # æ—¥å¿—å‰ç¼€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_timezone&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Asia/Shanghai&amp;#39; # æ—¥å¿—æ—¶åŒº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;timezone&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Asia/Shanghai&amp;#39; # æ—¶åŒº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;datestyle&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;iso, ymd&amp;#39; # æ—¥æœŸæ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_messages&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ¶ˆæ¯è¯­è¨€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_monetary&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # è´§å¸æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_numeric&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ•°å­—æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_time&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ—¶é—´æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;default_text_search_config&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;pg_catalog.english&amp;#39; # å…¨æ–‡æœç´¢é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤8é…ç½®å®¢æˆ·ç«¯è®¤è¯"&gt;æ­¥éª¤8ï¼šé…ç½®å®¢æˆ·ç«¯è®¤è¯&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¾‘pg_hba.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nano /usr/local/pgsql/data/pg_hba.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;# å…è®¸æœ¬åœ°è¿æ¥ï¼ˆmd5éœ€è¦å¯†ç ï¼Œtrustä¸éœ€è¦å¯†ç ï¼‰
local all postgres peer
local all all md5
host all all 127.0.0.1/32 md5

# å…è®¸ç‰¹å®šIPæ®µè¿æ¥
host all all 192.168.1.0/24 md5

# å…è®¸æ‰€æœ‰IPè¿æ¥ï¼ˆç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰
host all all 0.0.0.0/0 md5

# ç¤ºä¾‹ï¼šåªå…è®¸ç‰¹å®šç”¨æˆ·ä»ç‰¹å®šIPè®¿é—®ç‰¹å®šæ•°æ®åº“
# host exam_db app_user 192.168.1.100/32 md5
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="æ­¥éª¤9åˆ›å»ºç³»ç»ŸæœåŠ¡"&gt;æ­¥éª¤9ï¼šåˆ›å»ºç³»ç»ŸæœåŠ¡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é€€å‡ºpostgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;exit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /etc/systemd/system/postgresql.service &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Description=PostgreSQL Database Server
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Type=forking
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;User=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Group=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;OOMScoreAdjust=-1000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStart=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} start
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStop=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} stop
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecReload=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} reload
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;TimeoutSec=300
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨simpleç±»å‹ï¼ˆæ¨èï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /etc/systemd/system/postgresql.service &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Description=PostgreSQL Database Server
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;User=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Group=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGPORT=5432
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;OOMScoreAdjust=-1000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStart=/usr/local/pgsql/bin/postgres -D ${PGDATA}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecReload=/bin/kill -HUP $MAINPID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;KillMode=mixed
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;KillSignal=SIGINT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;TimeoutSec=300
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤10å¯åŠ¨æœåŠ¡"&gt;æ­¥éª¤10ï¼šå¯åŠ¨æœåŠ¡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é‡æ–°åŠ è½½systemdé…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯åŠ¨PostgreSQLæœåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl start postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¾ç½®å¼€æœºè‡ªå¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl enable postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl status postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo journalctl -u postgresql -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-éªŒè¯å’ŒåŸºç¡€é…ç½®"&gt;ğŸ”§ éªŒè¯å’ŒåŸºç¡€é…ç½®&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤11éªŒè¯å®‰è£…"&gt;æ­¥éª¤11ï¼šéªŒè¯å®‰è£…&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¿æ¥åˆ°æ•°æ®åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -h localhost -U postgres -d postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åœ¨psqlä¸­æ‰§è¡Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT version&lt;span style="color:#f92672"&gt;()&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT current_user;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SHOW data_directory;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SHOW config_file;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;\q&lt;/span&gt; &lt;span style="color:#75715e"&gt;# é€€å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤12åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·"&gt;æ­¥éª¤12ï¼šåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ‡æ¢åˆ°postgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo su - postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæµ‹è¯•æ•°æ®åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;createdb test_db
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºåº”ç”¨ç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;createuser -P -d -e app_user
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¾“å…¥å¯†ç ï¼šAppPass123&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¿æ¥åˆ°æ•°æ®åº“å¹¶æˆæƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -d test_db &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- åˆ›å»ºschema
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE SCHEMA IF NOT EXISTS app_schema;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- åˆ›å»ºæµ‹è¯•è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE TABLE app_schema.users (
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; id SERIAL PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; username VARCHAR(50) NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; email VARCHAR(100) UNIQUE NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æ’å…¥æµ‹è¯•æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;INSERT INTO app_schema.users (username, email) VALUES
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;(&amp;#39;admin&amp;#39;, &amp;#39;admin@example.com&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;(&amp;#39;user1&amp;#39;, &amp;#39;user1@example.com&amp;#39;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æˆæƒç»™åº”ç”¨ç”¨æˆ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON DATABASE test_db TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æŸ¥çœ‹è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT * FROM app_schema.users;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤13å®‰è£…å¸¸ç”¨æ‰©å±•"&gt;æ­¥éª¤13ï¼šå®‰è£…å¸¸ç”¨æ‰©å±•&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…pg_stat_statementsï¼ˆæ€§èƒ½ç›‘æ§ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -U postgres -d test_db &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS uuid-ossp;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS btree_gin;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS btree_gist;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT * FROM pg_available_extensions ORDER BY name;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-é«˜çº§é…ç½®å’Œä¼˜åŒ–"&gt;ğŸ› ï¸ é«˜çº§é…ç½®å’Œä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id="å†…å­˜ä¼˜åŒ–é…ç½®"&gt;å†…å­˜ä¼˜åŒ–é…ç½®&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å†…å­˜ç›¸å…³ä¼˜åŒ–ï¼ˆ8GBå†…å­˜æœåŠ¡å™¨ç¤ºä¾‹ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;shared_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;2GB # å†…å­˜çš„25%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;16MB # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;maintenance_work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;512MB # ç»´æŠ¤æ“ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;effective_cache_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;6GB # å¯ç”¨äºç¼“å­˜çš„ç£ç›˜ç©ºé—´ä¼°è®¡å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ€§èƒ½ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_connections&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;200 # æ ¹æ®åº”ç”¨éœ€æ±‚è°ƒæ•´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;checkpoint_completion_target&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;0.9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;random_page_cost&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1.1 # SSDè®¾ä¸º1.1ï¼ŒHDDè®¾ä¸º4.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;effective_io_concurrency&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;200 # SSDå¯ä»¥è®¾é«˜ï¼ŒHDDè®¾ä½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# WALä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;16MB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;min_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1GB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;4GB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="é…ç½®å½’æ¡£å’Œå¤‡ä»½"&gt;é…ç½®å½’æ¡£å’Œå¤‡ä»½&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå½’æ¡£ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /usr/local/pgsql/archive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/pgsql/archive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é…ç½®å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯ç”¨å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_mode&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_command&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;test ! -f /usr/local/pgsql/archive/%f &amp;amp;&amp;amp; cp %p /usr/local/pgsql/archive/%f&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_timeout&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;3600 # æ¯å°æ—¶å¼ºåˆ¶å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-ç›‘æ§å’Œç»´æŠ¤è„šæœ¬"&gt;ğŸ“Š ç›‘æ§å’Œç»´æŠ¤è„šæœ¬&lt;/h2&gt;
&lt;h3 id="åˆ›å»ºç›‘æ§è„šæœ¬"&gt;åˆ›å»ºç›‘æ§è„šæœ¬&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæ•°æ®åº“å¥åº·æ£€æŸ¥è„šæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /usr/local/bin/check_postgres.sh &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# PostgreSQLå¥åº·æ£€æŸ¥è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGHOME=/usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGPORT=5432
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;=== PostgreSQLå¥åº·æ£€æŸ¥ $(date) ===&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥æœåŠ¡çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;systemctl is-active postgresql &amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;if [ $? -eq 0 ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ“ æœåŠ¡çŠ¶æ€: è¿è¡Œä¸­&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ— æœåŠ¡çŠ¶æ€: åœæ­¢&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; exit 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥è¿æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;$PGHOME/bin/pg_isready -p $PGPORT -h localhost -U postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;if [ $? -eq 0 ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ“ æ•°æ®åº“è¿æ¥: æ­£å¸¸&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ— æ•°æ®åº“è¿æ¥: å¤±è´¥&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥ç£ç›˜ç©ºé—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;df -h $PGDATA | tail -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥æ•°æ®åº“å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;æ•°æ®åº“å¤§å°:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;$PGHOME/bin/psql -h localhost -U postgres -d postgres -c &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; datname as \&amp;#34;æ•°æ®åº“\&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; pg_size_pretty(pg_database_size(datname)) as \&amp;#34;å¤§å°\&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;FROM pg_database 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ORDER BY pg_database_size(datname) DESC;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;=== æ£€æŸ¥å®Œæˆ ===&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/check_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/bin/check_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="åˆ›å»ºå¤‡ä»½è„šæœ¬"&gt;åˆ›å»ºå¤‡ä»½è„šæœ¬&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå¤‡ä»½è„šæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /usr/local/bin/backup_postgres.sh &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# PostgreSQLå¤‡ä»½è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;BACKUP_DIR=&amp;#34;/usr/local/pgsql/backup&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;DATE=$(date +%Y%m%d_%H%M%S)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;RETENTION_DAYS=7
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# åˆ›å»ºå¤‡ä»½ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;mkdir -p $BACKUP_DIR/$DATE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¼€å§‹å¤‡ä»½: $(date)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;/usr/local/pgsql/bin/pg_dumpall -h localhost -U postgres \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; | gzip &amp;gt; $BACKUP_DIR/$DATE/full_backup_$DATE.sql.gz
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# å¤‡ä»½å•ä¸ªé‡è¦æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;/usr/local/pgsql/bin/pg_dump -h localhost -U postgres test_db \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; -F c -f $BACKUP_DIR/$DATE/test_db_$DATE.dump
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¤‡ä»½å®Œæˆ: $(date)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¤‡ä»½æ–‡ä»¶:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ls -lh $BACKUP_DIR/$DATE/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ¸…ç†æ—§å¤‡ä»½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;find $BACKUP_DIR -type d -mtime +$RETENTION_DAYS -exec rm -rf {} \;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å·²æ¸…ç†è¶…è¿‡${RETENTION_DAYS}å¤©çš„å¤‡ä»½&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/backup_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/bin/backup_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬"&gt;ğŸ¯ å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬&lt;/h2&gt;
&lt;h3 id="å®‰è£…postgresql-157ltsç‰ˆæœ¬"&gt;å®‰è£…PostgreSQL 15.7ï¼ˆLTSç‰ˆæœ¬ï¼‰&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v15.7/postgresql-15.7.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-15.7.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-15.7
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é…ç½®ï¼ˆä¸16.2ç±»ä¼¼ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql15 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pgport&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;5433&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-openssl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-perl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-python
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;nproc&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="å®‰è£…postgresql-1412é•¿æœŸæ”¯æŒ"&gt;å®‰è£…PostgreSQL 14.12ï¼ˆé•¿æœŸæ”¯æŒï¼‰&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v14.12/postgresql-14.12.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-14.12.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-14.12
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql14 --with-openssl
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;nproc&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æ•…éšœæ’é™¤"&gt;âš ï¸ æ•…éšœæ’é™¤&lt;/h2&gt;
&lt;h3 id="å¸¸è§é—®é¢˜è§£å†³"&gt;å¸¸è§é—®é¢˜è§£å†³&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 1. ç¼–è¯‘é”™è¯¯ï¼šç¼ºå°‘ä¾èµ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–åæ¸…ç†é‡è¯•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make distclean
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 2. å¯åŠ¨å¤±è´¥ï¼šç«¯å£è¢«å ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;netstat -tlnp | grep &lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo lsof -i :5432
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 3. è¿æ¥å¤±è´¥ï¼šè®¤è¯é—®é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ£€æŸ¥pg_hba.confé…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 4. å†…å­˜ä¸è¶³ï¼šè°ƒæ•´ç¼–è¯‘å¹¶è¡Œåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j2 &lt;span style="color:#75715e"&gt;# ä½¿ç”¨æ›´å°‘çš„å¹¶è¡Œä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 5. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tail -f /usr/local/pgsql/data/log/postgresql-*.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æ€»ç»“"&gt;ğŸ“ æ€»ç»“&lt;/h2&gt;
&lt;h3 id="å®‰è£…æ­¥éª¤å›é¡¾"&gt;å®‰è£…æ­¥éª¤å›é¡¾&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…ä¾èµ–&lt;/strong&gt;ï¼šç¡®ä¿ç¼–è¯‘ç¯å¢ƒå®Œæ•´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸‹è½½æºç &lt;/strong&gt;ï¼šé€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼ˆæ¨è16.2æˆ–15.7ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®ç¼–è¯‘&lt;/strong&gt;ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ç¼–è¯‘é€‰é¡¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘å®‰è£…&lt;/strong&gt;ï¼šä½¿ç”¨å¹¶è¡Œç¼–è¯‘æé«˜é€Ÿåº¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆå§‹åŒ–æ•°æ®åº“&lt;/strong&gt;ï¼šè®¾ç½®æ•°æ®ç›®å½•å’Œç¼–ç &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®å‚æ•°&lt;/strong&gt;ï¼šä¼˜åŒ–æ€§èƒ½å’Œå®‰å…¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ›å»ºæœåŠ¡&lt;/strong&gt;ï¼šä½¿ç”¨systemdç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éªŒè¯æµ‹è¯•&lt;/strong&gt;ï¼šç¡®ä¿å®‰è£…æˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="ç‰ˆæœ¬é€‰æ‹©å»ºè®®"&gt;ç‰ˆæœ¬é€‰æ‹©å»ºè®®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿäº§ç¯å¢ƒ&lt;/strong&gt;ï¼šPostgreSQL 15.xï¼ˆLTSæ”¯æŒåˆ°2027å¹´ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æµ‹è¯•&lt;/strong&gt;ï¼šPostgreSQL 16.xï¼ˆæœ€æ–°ç‰¹æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¼å®¹æ€§è¦æ±‚&lt;/strong&gt;ï¼šPostgreSQL 14.xï¼ˆæ”¯æŒåˆ°2026å¹´ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å…³é”®é…ç½®æ–‡ä»¶"&gt;å…³é”®é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/usr/local/pgsql/data/postgresql.conf&lt;/code&gt; - ä¸»é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/local/pgsql/data/pg_hba.conf&lt;/code&gt; - å®¢æˆ·ç«¯è®¤è¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/systemd/system/postgresql.service&lt;/code&gt; - æœåŠ¡æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡æºç å®‰è£…å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œå®šåˆ¶æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¯¹æ€§èƒ½æœ‰è¦æ±‚çš„åœºæ™¯ã€‚&lt;/p&gt;</description></item><item><title>å…¸ç±ç¯‡</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/</link><pubDate>Thu, 27 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/</guid><description>&lt;p&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/"&gt;â—€ è¿”å›&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="postgresql-çš„ç»„æˆç»“æ„"&gt;postgresql çš„ç»„æˆç»“æ„&lt;/h2&gt;
&lt;h3 id="å†…å­˜"&gt;å†…å­˜&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Local memory area&lt;/strong&gt;:ç”±æ¯ä¸ªåç«¯è¿›ç¨‹åˆ†é…ç»™è‡ªå·±ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Share memory area&lt;/strong&gt;: ç”± postgresql æœåŠ¡å™¨çš„æ‰€æœ‰è¿›ç¨‹ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png" alt="postgresql-memory"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;work_mem&lt;/strong&gt;: æ‰§è¡Œå™¨æ‰§è¡Œ &lt;em&gt;order by&lt;/em&gt;ã€&lt;em&gt;distinct&lt;/em&gt;ã€&lt;em&gt;join tables&lt;/em&gt;ã€&lt;em&gt;hash-join&lt;/em&gt;æ“ä½œæ—¶ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;maintenance_work_mem&lt;/strong&gt;: &lt;em&gt;vacuum&lt;/em&gt; å½’æ•´ã€&lt;em&gt;reindex&lt;/em&gt;é‡å»ºç´¢å¼•ï¼Œæ—¶ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;temp_buffers&lt;/strong&gt;: ä¸´æ—¶è¡¨ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;shared_buffer_pool&lt;/strong&gt;: ä»æŒä¹…åŒ–çš„å­˜å‚¨åŠ è½½è¡¨é¡µå’Œç´¢å¼•é¡µåˆ°æ­¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;wal_buffer&lt;/strong&gt;: é˜²æ­¢æœåŠ¡å¼‚å¸¸åœæ­¢å¯¼è‡´æ•°æ®æ²¡æœ‰è½ç›˜ï¼Œåˆ›å»ºäº† wal ç¼“å†²åŒºï¼Œç›¸å½“äº redo logã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;commit log&lt;/strong&gt;: è®°å½•æ‰€æœ‰çš„äº‹åŠ¡çŠ¶æ€å¦‚:å†å¤„ç†ï¼Œå·²æäº¤ã€å›é€€ï¼Œä¿æŒäº‹åŠ¡çš„ä¸€è‡´æ€§ã€‚ç›¸å½“äº undo logã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="è¿›ç¨‹"&gt;è¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL é‡‡ç”¨ C/S æ¨¡å¼ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯åˆ†é…ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ Postgres&lt;/strong&gt;
&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E8%BF%9B%E7%A8%8B.webp" alt="postgresql-process"&gt;&lt;/p&gt;
&lt;p&gt;å½“è¿è¡Œ pg_ctl å‘½ä»¤è¿›å…¥ Postgres ç¨‹åºæ—¶ï¼Œå…¶è¿›ç¨‹åˆ›å»ºæµç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;h3 id="postmaster"&gt;PostMaster&lt;/h3&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp" alt="postgresql-process1"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PostMaster&lt;/strong&gt;ï¼šè¿›ç¨‹æ˜¯æ•´ä¸ªæ•°æ®åº“å®ä¾‹çš„æ€»æ§è¿›ç¨‹ï¼Œè´Ÿè´£å¯åŠ¨å…³é—­è¯¥æ•°æ®å®ä¾‹ã€‚å¹¶ä¸”åœ¨æœåŠ¡è¿›ç¨‹å‡ºç°é”™è¯¯æ—¶å®Œæˆç³»ç»Ÿçš„æ¢å¤ï¼Œè¿˜è¦åœ¨ç³»ç»Ÿå¥”æºƒçš„æ—¶å€™é‡å¯ç³»ç»Ÿã€‚å®ƒæ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„æ€»æ§è¿›ç¨‹ï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£æ•´ä¸ªç³»ç»ŸèŒƒå›´å†…çš„æ“ä½œï¼Œä¾‹å¦‚ä¸­æ–­æ“ä½œä¸ä¿¡å·å¤„ç†ã€‚ä½†æ˜¯ Postmaster æœ¬èº«å¹¶ä¸æ‰§è¡Œè¿™äº›æ“ä½œï¼Œè€Œæ˜¯æŒ‡æ´¾ä¸€ä¸ªå­è¿›ç¨‹åœ¨é€‚å½“çš„æ—¶é—´å¤„ç†å®ƒä»¬ã€‚Postmaster è¿›ç¨‹åœ¨èµ·å§‹æ—¶ä¼šåˆ›å»ºå…±äº«å†…å­˜ä¸ä¿¡å·åº“ï¼Œç”¨äºä¸å­è¿›ç¨‹çš„é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿèƒ½åœ¨æŸä¸ªå­è¿›ç¨‹å¥”æºƒçš„æ—¶å€™é‡ç½®å…±äº«å†…å­˜å³å¯æ¢å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Postmaster å®ˆæŠ¤è¿›ç¨‹çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp" alt="postgres-porcess2"&gt;&lt;/p&gt;
&lt;h3 id="syslogger"&gt;SysLogger&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SysLogger&lt;/strong&gt;:ï¼ˆç³»ç»Ÿæ—¥å¿—ï¼‰è¿›ç¨‹,æ—¥å¿—ä¿¡æ¯æ˜¯æ•°æ®åº“ç®¡ç†å‘˜è·å–æ•°æ®åº“ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„æœ‰æ•ˆæ‰‹æ®µã€‚åœ¨æ•°æ®åº“å‡ºç°æ•…éšœæ—¶ï¼Œæ—¥å¿—ä¿¡æ¯æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æŠŠæ•°æ®åº“æ—¥å¿—ä¿¡æ¯é›†ä¸­è¾“å‡ºåˆ°ä¸€ä¸ªä½ç½®å°†æå¤§æ–¹ä¾¿ç®¡ç†å‘˜ç»´æŠ¤æ•°æ®åº“ç³»ç»Ÿã€‚ç„¶è€Œï¼Œæ—¥å¿—è¾“å‡ºå°†äº§ç”Ÿå¤§é‡æ•°æ®ï¼ˆç‰¹åˆ«æ˜¯åœ¨æ¯”è¾ƒé«˜çš„è°ƒè¯•çº§åˆ«ä¸Šï¼‰ï¼Œå•æ–‡ä»¶ä¿å­˜æ—¶ä¸åˆ©äºæ—¥å¿—æ–‡ä»¶çš„æ“ä½œã€‚å› æ­¤ï¼Œåœ¨SysLoggerçš„é…ç½®é€‰é¡¹ä¸­å¯ä»¥è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ŒSysLoggerä¼šåœ¨æ—¥å¿—æ–‡ä»¶è¾¾åˆ°æŒ‡å®šçš„å¤§å°æ—¶å…³é—­å½“å‰æ—¥å¿—æ–‡ä»¶ï¼Œäº§ç”Ÿæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# - Where to Log -&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;log_destination &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;stderr&amp;#39;&lt;/span&gt; &lt;span style="color:#75715e"&gt;# Valid values are combinations of&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# stderr, csvlog, jsonlog, syslog, and&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# eventlog, depending on platform.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# csvlog and jsonlog require&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# logging_collector to be on.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# This is used when logging to stderr:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;logging_collector &lt;span style="color:#f92672"&gt;=&lt;/span&gt; on &lt;span style="color:#75715e"&gt;# Enable capturing of stderr, jsonlog,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# and csvlog into log files. Required&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# to be on for csvlogs and jsonlogs.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# (change requires restart)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# These are only used if logging_collector is on:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_directory = &amp;#39;log&amp;#39; # directory where log files are written,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# can be absolute or relative to PGDATA&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_filename = &amp;#39;postgresql-%Y-%m-%d_%H%M%S.log&amp;#39; # log file name pattern,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# can include strftime() escapes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_file_mode = 0600 # creation mode for log files,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# begin with 0 to use octal notation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_rotation_age = 1d # Automatic rotation of logfiles will&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# happen after that time. 0 disables.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_rotation_size = 10MB # Automatic rotation of logfiles will&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# happen after that much log output.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 0 disables.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_truncate_on_rotation = off # If on, an existing log file with the&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# same name as the new log file will be&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# truncated rather than appended to.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# But such truncation only occurs on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# time-driven rotation, not on restarts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# or size-driven rotation. Default is&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# off, meaning append to existing files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# in all cases.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;log_destination&lt;/strong&gt;ï¼šé…ç½®æ—¥å¿—è¾“å‡ºç›®æ ‡ï¼Œæ ¹æ®ä¸åŒçš„è¿è¡Œå¹³å°ä¼šè®¾ç½®ä¸åŒçš„å€¼ï¼ŒLinuxä¸‹é»˜è®¤ä¸ºstderrã€‚&lt;/p&gt;</description></item><item><title>å¼€æºæ–‡æ¡£</title><link>/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/</link><pubDate>Fri, 21 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/</guid><description>&lt;h2 id="å¼€æºæ–‡æ¡£å…¸ç±ç¯‡"&gt;ã€Œå¼€æºæ–‡æ¡£å…¸ç±ç¯‡ã€&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ”¶å½•å¼€æºé¡¹ç›®ç»´æŠ¤ã€æ–‡æ¡£ç¼–å†™ã€ç¤¾åŒºè¿è¥çš„å®è·µç»éªŒã€‚ä»ä»£ç æ³¨é‡Šåˆ°ç”¨æˆ·æ‰‹å†Œï¼Œä»è´¡çŒ®æŒ‡å—åˆ°ç¤¾åŒºæ²»ç†ï¼Œæ„å»ºå¥åº·æ´»è·ƒçš„å¼€æºç”Ÿæ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å¼€æºå…¸ç±"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ“– ã€Œå¼€æºå…¸ç±ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-é¡¹ç›®å¯èˆª"&gt;ğŸŒ± ã€Œé¡¹ç›®å¯èˆªã€&lt;/h4&gt;
&lt;h5 id="å¼€æºè®¸å¯è¯é€‰å‹"&gt;ã€Œå¼€æºè®¸å¯è¯é€‰å‹ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E5%85%B8%E7%B1%8D/%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E8%AF%81"&gt;å¼€æºè®¸å¯è¯è¯¦è§£&lt;/a&gt; â€”â€” MIT/Apache-2.0/GPL å¯¹æ¯”åˆ†æ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå•†ä¸šå‹å¥½æ€§è¯„ä¼°ã€å…¼å®¹æ€§åˆ†æã€æ³•å¾‹é£é™©é˜²èŒƒ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¤šè®¸å¯è¯ç­–ç•¥ã€è´¡çŒ®è€…åè®®ã€ä¸“åˆ©ä¿æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="é¡¹ç›®åˆå§‹åŒ–"&gt;ã€Œé¡¹ç›®åˆå§‹åŒ–ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E5%85%B8%E7%B1%8D/%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"&gt;å¼€æºé¡¹ç›®è„šæ‰‹æ¶&lt;/a&gt; â€”â€” READMEæ¨¡æ¿ã€ä»£ç è§„èŒƒã€CI/CDæµæ°´çº¿&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¾½ç« æ”¶é›†ã€è‡ªåŠ¨åŒ–å‘å¸ƒã€è´¨é‡é—¨ç¦è®¾ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-ç¤¾åŒºæ²»ç†"&gt;ğŸ›ï¸ ã€Œç¤¾åŒºæ²»ç†ã€&lt;/h4&gt;
&lt;h5 id="æ²»ç†æ¨¡å‹è®¾è®¡"&gt;ã€Œæ²»ç†æ¨¡å‹è®¾è®¡ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E5%85%B8%E7%B1%8D/%E7%A4%BE%E5%8C%BA%E6%B2%BB%E7%90%86"&gt;å¼€æºæ²»ç†æ¨¡å¼&lt;/a&gt; â€”â€” BDFL/å§”å‘˜ä¼šåˆ¶/ä¼ä¸šä¸»å¯¼å¯¹æ¯”&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå†³ç­–æµç¨‹ã€è§’è‰²å®šä¹‰ã€å†²çªè§£å†³æœºåˆ¶&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šåŸºé‡‘ä¼šè¿ä½œã€å•†æ ‡ä¿æŠ¤ã€èµ„é‡‘ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è¡Œä¸ºå‡†åˆ™åˆ¶å®š"&gt;ã€Œè¡Œä¸ºå‡†åˆ™åˆ¶å®šã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E5%85%B8%E7%B1%8D/%E8%A1%8C%E4%B8%BA%E5%87%86%E5%88%99"&gt;ç¤¾åŒºè¡Œä¸ºå‡†åˆ™å®è·µ&lt;/a&gt; â€”â€” Contributor Covenant å®šåˆ¶åŒ–&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼š moderation å·¥å…·ã€äº‹ä»¶å¤„ç†æµç¨‹ã€åŒ…å®¹æ€§å»ºè®¾&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ–‡æ¡£ç¼–æ’°"&gt;&lt;span style="color: var(--cinnabar);"&gt;âœï¸ ã€Œæ–‡æ¡£ç¼–æ’°ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æ–‡æ¡£ä½“ç³»è®¾è®¡"&gt;ğŸ¯ ã€Œæ–‡æ¡£ä½“ç³»è®¾è®¡ã€&lt;/h4&gt;
&lt;h5 id="æ–‡æ¡£åˆ†å±‚æ¶æ„"&gt;ã€Œæ–‡æ¡£åˆ†å±‚æ¶æ„ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E6%96%87%E6%A1%A3%E7%BC%96%E6%92%B0/%E6%96%87%E6%A1%A3%E4%BD%93%E7%B3%BB"&gt;å¼€æºæ–‡æ¡£é‡‘å­—å¡”&lt;/a&gt; â€”â€” å‚è€ƒæ–‡æ¡£/æ•™ç¨‹/æ¦‚å¿µè§£æ/FAQ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šç”¨æˆ·ç”»åƒåˆ†æã€å†…å®¹ç­–ç•¥ã€ä¿¡æ¯æ¶æ„è®¾è®¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¤šç‰ˆæœ¬æ–‡æ¡£ç®¡ç†ã€å¤šè¯­è¨€æ”¯æŒç­–ç•¥&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/"&gt;è‹±è¯­è¯­æ³•&lt;/a&gt; â€”â€” è§£å†³æŸ¥çœ‹æ–‡æ¡£ï¼Œä¸è§£å…¶æ„çš„ç—›ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è‡ªåŠ¨åŒ–æ–‡æ¡£"&gt;ã€Œè‡ªåŠ¨åŒ–æ–‡æ¡£ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E6%96%87%E6%A1%A3%E7%BC%96%E6%92%B0/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%96%87%E6%A1%A3"&gt;CI é›†æˆæ–‡æ¡£ç”Ÿæˆ&lt;/a&gt; â€”â€” Javadoc/Sphinx/Doxygen å®æˆ˜&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šAPI æ–‡æ¡£åŒæ­¥ã€å˜æ›´æ—¥å¿—è‡ªåŠ¨ç”Ÿæˆã€æ–‡æ¡£æµ‹è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-å†™ä½œè‰ºæœ¯"&gt;ğŸ“ ã€Œå†™ä½œè‰ºæœ¯ã€&lt;/h4&gt;
&lt;h5 id="æŠ€æœ¯å†™ä½œè§„èŒƒ"&gt;ã€ŒæŠ€æœ¯å†™ä½œè§„èŒƒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E6%96%87%E6%A1%A3%E7%BC%96%E6%92%B0/%E6%8A%80%E6%9C%AF%E5%86%99%E4%BD%9C"&gt;å¼€æºæ–‡æ¡£å†™ä½œæŒ‡å—&lt;/a&gt; â€”â€” è¯­æ°”è¯­è°ƒã€æœ¯è¯­ä¸€è‡´ã€ç¤ºä¾‹è®¾è®¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¯è®¿é—®æ€§è¦æ±‚ã€å›½é™…åŒ–è€ƒè™‘ã€æœç´¢å¼•æ“ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è§†è§‰åŒ–è¡¨è¾¾"&gt;ã€Œè§†è§‰åŒ–è¡¨è¾¾ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E6%96%87%E6%A1%A3%E7%BC%96%E6%92%B0/%E8%A7%86%E8%A7%89%E5%8C%96"&gt;æŠ€æœ¯å›¾è¡¨ç»˜åˆ¶&lt;/a&gt; â€”â€” æ¶æ„å›¾ã€æµç¨‹å›¾ã€åºåˆ—å›¾è§„èŒƒ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šé…è‰²æ–¹æ¡ˆã€å›¾æ ‡ç³»ç»Ÿã€äº¤äº’å¼æ–‡æ¡£&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ä»£ç è§„èŒƒè®­"&gt;&lt;span style="color: var(--cinnabar);"&gt;âš™ï¸ ã€Œä»£ç è§„èŒƒè®­ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-ä»£ç é£æ ¼"&gt;ğŸ¨ ã€Œä»£ç é£æ ¼ã€&lt;/h4&gt;
&lt;h5 id="è§„èŒƒåˆ¶å®šä¸æ‰§è¡Œ"&gt;ã€Œè§„èŒƒåˆ¶å®šä¸æ‰§è¡Œã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC"&gt;ä»£ç è§„èŒƒä½“ç³»&lt;/a&gt; â€”â€” å‘½åçº¦å®šã€æ ¼å¼è¦æ±‚ã€æ³¨é‡Šæ ‡å‡†&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¤šè¯­è¨€è§„èŒƒé€‚é…ã€ç¼–è¾‘å™¨é…ç½®ã€é¢„æäº¤é’©å­&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è‡ªåŠ¨åŒ–æ£€æŸ¥"&gt;ã€Œè‡ªåŠ¨åŒ–æ£€æŸ¥ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%A3%80%E6%9F%A5"&gt;é™æ€åˆ†æé›†æˆ&lt;/a&gt; â€”â€” ESLint/Pylint/Checkstyle é…ç½®&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè‡ªå®šä¹‰è§„åˆ™å¼€å‘ã€è´¨é‡è¯„åˆ†ã€æŠ€æœ¯å€ºåŠ¡è¿½è¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-å·¥ç¨‹åŒ–æ ‡å‡†"&gt;ğŸ”§ ã€Œå·¥ç¨‹åŒ–æ ‡å‡†ã€&lt;/h4&gt;
&lt;h5 id="æäº¤è§„èŒƒ"&gt;ã€Œæäº¤è§„èŒƒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83"&gt;Git æäº¤æ¶ˆæ¯è§„èŒƒ&lt;/a&gt; â€”â€” Conventional Commits å®è·µ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæäº¤æ¨¡æ¿ã€å˜æ›´ç±»å‹å®šä¹‰ã€å‘å¸ƒè¯´æ˜ç”Ÿæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="ç‰ˆæœ¬ç®¡ç†"&gt;ã€Œç‰ˆæœ¬ç®¡ç†ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"&gt;è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶&lt;/a&gt; â€”â€” SemVer è§„èŒƒè§£è¯»&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šç‰ˆæœ¬å·è‡ªåŠ¨åŒ–ã€å…¼å®¹æ€§ä¿è¯ã€åºŸå¼ƒæµç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-api-å…¸ç±"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸŒ ã€ŒAPI å…¸ç±ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-api-è®¾è®¡"&gt;ğŸ“¡ ã€ŒAPI è®¾è®¡ã€&lt;/h4&gt;
&lt;h5 id="è®¾è®¡åŸåˆ™"&gt;ã€Œè®¾è®¡åŸåˆ™ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/API%E5%85%B8%E7%B1%8D/API%E8%AE%BE%E8%AE%A1"&gt;REST API è®¾è®¡æŒ‡å—&lt;/a&gt; â€”â€” èµ„æºå»ºæ¨¡ã€çŠ¶æ€ç ã€è¶…åª’ä½“æ§åˆ¶&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šGraphQL è®¾è®¡æ¨¡å¼ã€gRPC æœ€ä½³å®è·µã€ç‰ˆæœ¬ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="æ–‡æ¡£ç”Ÿæˆ"&gt;ã€Œæ–‡æ¡£ç”Ÿæˆã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/API%E5%85%B8%E7%B1%8D/%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90"&gt;OpenAPI/Swagger å®æˆ˜&lt;/a&gt; â€”â€” è§„èŒƒç¼–å†™ã€ä»£ç ç”Ÿæˆã€MockæœåŠ¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¯è§†åŒ–æ–‡æ¡£ã€äº¤äº’å¼æ§åˆ¶å°ã€å¤šæ ¼å¼è¾“å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-api-è´¨é‡"&gt;ğŸ›¡ï¸ ã€ŒAPI è´¨é‡ã€&lt;/h4&gt;
&lt;h5 id="æµ‹è¯•ç­–ç•¥"&gt;ã€Œæµ‹è¯•ç­–ç•¥ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/API%E5%85%B8%E7%B1%8D/API%E6%B5%8B%E8%AF%95"&gt;API æµ‹è¯•ä½“ç³»&lt;/a&gt; â€”â€” å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€å¥‘çº¦æµ‹è¯•&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ€§èƒ½æµ‹è¯•ã€å®‰å…¨æµ‹è¯•ã€å…¼å®¹æ€§æµ‹è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="ç›‘æ§ä¸åˆ†æ"&gt;ã€Œç›‘æ§ä¸åˆ†æã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/API%E5%85%B8%E7%B1%8D/API%E7%9B%91%E6%8E%A7"&gt;API ä½¿ç”¨åˆ†æ&lt;/a&gt; â€”â€” è°ƒç”¨ç»Ÿè®¡ã€é”™è¯¯è¿½è¸ªã€æ€§èƒ½æŒ‡æ ‡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šä½¿ç”¨æ¨¡å¼åˆ†æã€å¼‚å¸¸æ£€æµ‹ã€å®¹é‡è§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-åä½œæµç¨‹"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ¤ ã€Œåä½œæµç¨‹ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-è´¡çŒ®æµç¨‹"&gt;ğŸ”„ ã€Œè´¡çŒ®æµç¨‹ã€&lt;/h4&gt;
&lt;h5 id="issue-ç®¡ç†"&gt;ã€ŒIssue ç®¡ç†ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B/Issue%E7%AE%A1%E7%90%86"&gt;Issue æ¨¡æ¿è®¾è®¡&lt;/a&gt; â€”â€” BugæŠ¥å‘Šã€åŠŸèƒ½è¯·æ±‚ã€é—®é¢˜åˆ†ç±»&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ ‡ç­¾ç³»ç»Ÿã€ä¼˜å…ˆçº§åˆ’åˆ†ã€é‡å¤æ£€æµ‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="pull-request-æµç¨‹"&gt;ã€ŒPull Request æµç¨‹ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B/PR%E5%AE%A1%E6%9F%A5"&gt;PR å®¡æŸ¥æŒ‡å—&lt;/a&gt; â€”â€” ä»£ç å®¡æŸ¥æ¸…å•ã€è‡ªåŠ¨åŒ–æ£€æŸ¥ã€åˆå¹¶ç­–ç•¥&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæŒç»­é›†æˆé›†æˆã€é¢„è§ˆç¯å¢ƒã€å˜æ›´éªŒè¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-ç¤¾åŒºåŸ¹è‚²"&gt;ğŸ“ ã€Œç¤¾åŒºåŸ¹è‚²ã€&lt;/h4&gt;
&lt;h5 id="æ–°äººå¼•å¯¼"&gt;ã€Œæ–°äººå¼•å¯¼ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B/%E6%96%B0%E4%BA%BA%E5%BC%95%E5%AF%BC"&gt;è´¡çŒ®è€…æˆé•¿è·¯å¾„&lt;/a&gt; â€”â€” æ–°æ‰‹ä»»åŠ¡ã€å¯¼å¸ˆåˆ¶åº¦ã€æŠ€èƒ½çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå…¥é—¨æŒ‡å—ã€è§†é¢‘æ•™ç¨‹ã€å·¥ä½œåŠè®¾è®¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="ç¤¾åŒºæ´»åŠ¨"&gt;ã€Œç¤¾åŒºæ´»åŠ¨ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B/%E7%A4%BE%E5%8C%BA%E8%BF%90%E8%90%A5"&gt;å¼€æºè¿è¥å®è·µ&lt;/a&gt; â€”â€” çº¿ä¸Šä¼šè®®ã€é»‘å®¢æ¾ã€ç”¨æˆ·è®¿è°ˆ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå†…å®¹è¥é”€ã€ç¤¾äº¤åª’ä½“ã€åˆä½œä¼™ä¼´æ‹“å±•&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-é¡¹ç›®æ¨å¹¿"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸš€ ã€Œé¡¹ç›®æ¨å¹¿ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-å“ç‰Œå»ºè®¾"&gt;ğŸ“¢ ã€Œå“ç‰Œå»ºè®¾ã€&lt;/h4&gt;
&lt;h5 id="é¡¹ç›®å®šä½"&gt;ã€Œé¡¹ç›®å®šä½ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E9%A1%B9%E7%9B%AE%E6%8E%A8%E5%B9%BF/%E5%93%81%E7%89%8C%E5%BB%BA%E8%AE%BE"&gt;å¼€æºé¡¹ç›®å®šä½ç­–ç•¥&lt;/a&gt; â€”â€” ä»·å€¼ä¸»å¼ ã€å·®å¼‚åŒ–ä¼˜åŠ¿ã€ç›®æ ‡ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šLogoè®¾è®¡ã€è§†è§‰è¯†åˆ«ã€å®£ä¼ ææ–™&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å†…å®¹è¥é”€"&gt;ã€Œå†…å®¹è¥é”€ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E9%A1%B9%E7%9B%AE%E6%8E%A8%E5%B9%BF/%E5%86%85%E5%AE%B9%E8%90%A5%E9%94%80"&gt;æŠ€æœ¯å†…å®¹åˆ›ä½œ&lt;/a&gt; â€”â€” æŠ€æœ¯åšå®¢ã€æ¡ˆä¾‹ç ”ç©¶ã€æ¼”è®²åˆ†äº«&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå†…å®¹æ—¥å†ã€åˆ†å‘æ¸ é“ã€æ•ˆæœè¡¡é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-æŒ‡æ ‡åˆ†æ"&gt;ğŸ“Š ã€ŒæŒ‡æ ‡åˆ†æã€&lt;/h4&gt;
&lt;h5 id="é¡¹ç›®å¥åº·åº¦"&gt;ã€Œé¡¹ç›®å¥åº·åº¦ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E9%A1%B9%E7%9B%AE%E6%8E%A8%E5%B9%BF/%E6%8C%87%E6%A0%87%E5%88%86%E6%9E%90"&gt;å¼€æºæŒ‡æ ‡ç›‘æ§&lt;/a&gt; â€”â€” æ˜Ÿæ ‡æ•°ã€æäº¤é¢‘ç‡ã€Issueå“åº”æ—¶é—´&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè´¡çŒ®è€…å¤šæ ·æ€§ã€ç”¨æˆ·æ»¡æ„åº¦ã€é‡‡ç”¨ç‡è¿½è¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å†³ç­–æ”¯æŒ"&gt;ã€Œå†³ç­–æ”¯æŒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E9%A1%B9%E7%9B%AE%E6%8E%A8%E5%B9%BF/%E6%95%B0%E6%8D%AE%E5%86%B3%E7%AD%96"&gt;æ•°æ®é©±åŠ¨å†³ç­–&lt;/a&gt; â€”â€” ç”¨æˆ·è¡Œä¸ºåˆ†æã€ç«å“åˆ†æã€è¶‹åŠ¿é¢„æµ‹&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šA/Bæµ‹è¯•ã€ç”¨æˆ·åé¦ˆå¾ªç¯ã€è·¯çº¿å›¾è°ƒæ•´&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å·¥å…·é“¾é›†æˆ"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ› ï¸ ã€Œå·¥å…·é“¾é›†æˆã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æ–‡æ¡£å·¥å…·"&gt;ğŸ”§ ã€Œæ–‡æ¡£å·¥å…·ã€&lt;/h4&gt;
&lt;h5 id="é™æ€ç«™ç‚¹ç”Ÿæˆ"&gt;ã€Œé™æ€ç«™ç‚¹ç”Ÿæˆã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7%E9%93%BE/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7"&gt;æ–‡æ¡£å¹³å°é€‰å‹&lt;/a&gt; â€”â€” VuePress/Docusaurus/GitBook å¯¹æ¯”&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè‡ªå®šä¹‰ä¸»é¢˜ã€æ’ä»¶å¼€å‘ã€æœç´¢ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="åä½œå¹³å°"&gt;ã€Œåä½œå¹³å°ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7%E9%93%BE/%E5%8D%8F%E4%BD%9C%E5%B9%B3%E5%8F%B0"&gt;ç¤¾åŒºå¹³å°æ­å»º&lt;/a&gt; â€”â€” Discourse/Discord/è®ºå›é€‰æ‹©&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæœºå™¨äººé›†æˆã€çŸ¥è¯†åº“ç®¡ç†ã€é€šçŸ¥ç³»ç»Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-è‡ªåŠ¨åŒ–æµç¨‹"&gt;âš¡ ã€Œè‡ªåŠ¨åŒ–æµç¨‹ã€&lt;/h4&gt;
&lt;h5 id="cicd-æµæ°´çº¿"&gt;ã€ŒCI/CD æµæ°´çº¿ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7%E9%93%BE/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%81%E7%A8%8B"&gt;å¼€æºå·¥ä½œæµè®¾è®¡&lt;/a&gt; â€”â€” æµ‹è¯•è‡ªåŠ¨åŒ–ã€å‘å¸ƒæµç¨‹ã€ä¾èµ–æ›´æ–°&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå®‰å…¨æ‰«æã€è®¸å¯è¯æ£€æŸ¥ã€äºŒè¿›åˆ¶åˆ†å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="ç›‘æ§å‘Šè­¦"&gt;ã€Œç›‘æ§å‘Šè­¦ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7%E9%93%BE/%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6"&gt;é¡¹ç›®å¥åº·ç›‘æ§&lt;/a&gt; â€”â€” æ„å»ºçŠ¶æ€ã€ä¾èµ–æ¼æ´ã€ç¤¾åŒºæ´»è·ƒåº¦&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šä»ªè¡¨æ¿è®¾è®¡ã€æ™ºèƒ½å‘Šè­¦ã€æŠ¥å‘Šç”Ÿæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼€æºä¹‹é“ï¼Œåœ¨äºå¼€æ”¾åä½œã€é€æ˜æ²Ÿé€šã€æŒç»­æ”¹è¿›ã€‚ä¼˜ç§€çš„æ–‡æ¡£æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºçŸ³ã€‚&lt;/p&gt;</description></item><item><title>å…¸ç±ç¯‡</title><link>/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/</link><pubDate>Tue, 21 Dec 2021 00:00:00 +0000</pubDate><guid>/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/</guid><description>&lt;p&gt;&lt;a href="/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/"&gt;â—€ è¿”å›&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="äº”ç§åŸºæœ¬å¥å¼"&gt;äº”ç§åŸºæœ¬å¥å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸»è¯­&lt;/strong&gt;:æˆ‘ä»¬æ‰€æœ‰é€ çš„å¥å­éƒ½æœ‰ä¸»ä½“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è°“è¯­&lt;/strong&gt;:ä¸»ä½“æ‰§è¡Œçš„åŠ¨ä½œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç³»åŠ¨è¯&lt;/strong&gt;:è”ç³»åŠ¨ä½œçš„åŠ¨è¯,è¿æ¥å‰è¾¹çš„ä¸»è¯­å’Œåè¾¹çš„è¡¨è¯­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡¨è¯­&lt;/strong&gt;ï¼šæè¿°ä¸»è¯­æ€§è´¨ã€ç‰¹ç‚¹ã€ä½ç½®çš„è¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®¾è¯­&lt;/strong&gt;ï¼šä¸»è¯­æ‰§è¡ŒåŠ¨ä½œçš„å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é—´å®¾&lt;/strong&gt;ï¼šäººå«é—´å®¾
7.&lt;strong&gt;ç›´å®¾&lt;/strong&gt;ï¼šç‰©å«ç›´å®¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®¾&lt;/strong&gt;è¡¥ï¼šå®¾è¯­ä¸èƒ½å®Œå…¨è¯´æ˜è°“è¯­æ‰§è¡Œçš„å¯¹è±¡çš„æ‰§è¡Œç»“æœæ—¶éœ€è¦è¡¥å……è¯´æ˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»+è°“ &lt;strong&gt;S+V&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;the universe remains &lt;strong&gt;å®‡å®™é•¿å­˜&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»+ç³»+è¡¨ &lt;strong&gt;S+V+P&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;the food is delicious &lt;strong&gt;è¿™é£Ÿç‰©å¥½åƒ&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»+è°“+å®¾ &lt;strong&gt;S+V+O&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;he took his bag and left &lt;strong&gt;ä»–æ‹¿ç€ä»–çš„åŒ…ç¦»å¼€äº†&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»+è°“+é—´å®¾+ç›´å®¾ &lt;strong&gt;S+V+o+O&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;her father bought her a dictionary &lt;strong&gt;ä»–çš„çˆ¸çˆ¸ç»™ä»–ä¹°äº†ä¸€æœ¬è¯å…¸&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»+è°“+å®¾+å®¾è¡¥ &lt;strong&gt;S+V+O+C&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We made him our monitor &lt;strong&gt;æˆ‘ä»¬é€‰ä»–å½“ç­é•¿&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="beåŠ¨è¯çš„å½¢å¼"&gt;BeåŠ¨è¯çš„å½¢å¼&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;be is am are was were being been&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the man is back&lt;/li&gt;
&lt;li&gt;They are back&lt;/li&gt;
&lt;li&gt;He was back&lt;/li&gt;
&lt;li&gt;They were back&lt;/li&gt;
&lt;li&gt;They have been back&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;åé¢æ¥åæ¬¡ã€å½¢å®¹è¯ã€åœ°ç‚¹å‰¯è¯æˆ–çŸ­è¯­ä½œè¡¥è¶³è¯­&lt;/em&gt;&lt;/p&gt;</description></item></channel></rss>