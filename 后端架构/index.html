<!doctype html><html class=no-js lang=zh-cn><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>åç«¯æ¶æ„s</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta name=generator content="Hugo 0.152.2"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=alternate type=application/rss+xml href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/index.xml title=è¡¥æ¼ç –åŒ ><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/quiz.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/ title=è¡¥æ¼ç –åŒ  rel=home><div class=logo__title>è¡¥æ¼ç –åŒ </div><div class=logo__tagline>ç‹¬é’“å¯’æ±Ÿé›ªï¼Œä¸ºæœ‰æš—é¦™æ¥ã€‚</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>èœå•</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-%E5%89%91%E6%B3%95%E7%AF%87/>ç¼–ç¨‹è¯­è¨€</a></li><li class=menu__item><a class=menu__link href=/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2-%E6%9C%BA%E5%85%B3%E7%AF%87/>è¿ç»´éƒ¨ç½²</a></li><li class=menu__item><a class=menu__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>ç®—æ³•æ•°æ®ç»“æ„</a></li><li class=menu__item><a class=menu__link href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>åç«¯æ¶æ„</a></li><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-%E6%B3%95%E5%AE%9D%E7%AF%87/>å·¥å…·æ•ˆç‡</a></li><li class=menu__item><a class=menu__link href=/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/>å¼€æºæ–‡æ¡£</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-AI%E5%9C%A8%E7%BA%BF%E6%B5%8B%E8%AF%95/>JAVAåœ¨çº¿æµ‹è¯•</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-%E5%9C%A8%E7%BA%BF%E7%AD%94%E9%A2%98%E7%A4%BA%E4%BE%8B/>åœ¨çº¿ç­”é¢˜</a></li><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-DeepSeek%E6%B5%81%E5%BC%8F%E8%81%8A%E5%A4%A9/>DeepSeek</a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>åç«¯æ¶æ„s</h1></header><article class="list__item post"><header class=list__header><h3 class="list__title post__title"><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/ rel=bookmark>å…¸ç±ç¯‡</a></h3><p class="list__lead post__lead">èšç¤¾åŒºä¹‹æ™ºï¼Œä¼ æŠ€æœ¯ä¹‹ç«</p><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-11-27T00:00:00>November 27, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3 rel=category>å¼€æºæ–‡æ¡£</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>â—€ è¿”å›</a></p><h1 id=æºç å®‰è£…postgresqlç¨³å®šç‰ˆæœ¬linux>æºç å®‰è£…PostgreSQLç¨³å®šç‰ˆæœ¬ï¼ˆLinuxï¼‰</h1><h2 id=-å‡†å¤‡å·¥ä½œ>ğŸ“‹ å‡†å¤‡å·¥ä½œ</h2><h3 id=1-æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬>1. <strong>æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># è®¿é—®PostgreSQLå®˜ç½‘æˆ–ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹</span>
</span></span><span style=display:flex><span>curl -s https://www.postgresql.org/ftp/source/ | grep -E <span style=color:#e6db74>&#39;href=&#34;v[0-9]+\.[0-9]+/&#34;&#39;</span> | tail -5
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å½“å‰é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#75715e># PostgreSQL 16.x (æœ€æ–°ç¨³å®šç‰ˆ)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># PostgreSQL 15.x (é•¿æœŸæ”¯æŒ)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># PostgreSQL 14.x (é•¿æœŸæ”¯æŒåˆ°2026å¹´)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># PostgreSQL 13.x (é•¿æœŸæ”¯æŒåˆ°2025å¹´)</span>
</span></span></code></pre></div><h3 id=2-å®‰è£…ç¼–è¯‘ä¾èµ–>2. <strong>å®‰è£…ç¼–è¯‘ä¾èµ–</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu/Debian</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install -y <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    build-essential <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libreadline-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    zlib1g-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    flex bison <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxml2-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxslt-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libssl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libssl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libpam0g-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libldap-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libperl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libicu-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    tcl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    python3-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    git <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    wget <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    curl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># CentOS/RHEL/Rocky/AlmaLinux</span>
</span></span><span style=display:flex><span>sudo yum groupinstall -y <span style=color:#e6db74>&#34;Development Tools&#34;</span>
</span></span><span style=display:flex><span>sudo yum install -y <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    readline-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    zlib-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    flex bison <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxml2-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxslt-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    openssl-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    pam-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    openldap-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    perl-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    perl-ExtUtils-Embed <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    tcl-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    python3-devel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    git <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    wget
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vi /etc/sysctl.conf
</span></span><span style=display:flex><span><span style=color:#75715e>#æœ€å¤§å…±äº«å†…å­˜æ®µå¤§å°</span>
</span></span><span style=display:flex><span>kernel.shmmax <span style=color:#f92672>=</span> 68719476736<span style=color:#f92672>(</span>é»˜è®¤<span style=color:#f92672>)</span> 
</span></span><span style=display:flex><span> <span style=color:#75715e>#å¯ä»¥ä½¿ç”¨çš„å…±äº«å†…å­˜çš„æ€»é‡</span>
</span></span><span style=display:flex><span>kernel.shmall <span style=color:#f92672>=</span> 4294967296<span style=color:#f92672>(</span>é»˜è®¤<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#æ•´ä¸ªç³»ç»Ÿå…±äº«å†…å­˜æ®µçš„æœ€å¤§æ•°ç›®</span>
</span></span><span style=display:flex><span>kernel.shmmni <span style=color:#f92672>=</span> <span style=color:#ae81ff>4096</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#æ¯ä¸ªä¿¡å·å¯¹è±¡é›†çš„æœ€å¤§ä¿¡å·å¯¹è±¡æ•°</span>
</span></span><span style=display:flex><span>kernel.sem <span style=color:#f92672>=</span> <span style=color:#ae81ff>50100</span> <span style=color:#ae81ff>64128000</span> <span style=color:#ae81ff>50100</span> <span style=color:#ae81ff>1280</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#æ–‡ä»¶å¥æŸ„çš„æœ€å¤§æ•°é‡ã€‚</span>
</span></span><span style=display:flex><span>fs.file-max <span style=color:#f92672>=</span> <span style=color:#ae81ff>7672460</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#åº”ç”¨ç¨‹åºå¯ä½¿ç”¨çš„IPv4ç«¯å£èŒƒå›´</span>
</span></span><span style=display:flex><span>net.ipv4.ip_local_port_range <span style=color:#f92672>=</span> <span style=color:#ae81ff>9000</span> <span style=color:#ae81ff>65000</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#å¥—æ¥å­—æ¥æ”¶ç¼“å†²åŒºå¤§å°çš„ç¼ºçœå€¼</span>
</span></span><span style=display:flex><span>net.core.rmem_default <span style=color:#f92672>=</span> <span style=color:#ae81ff>1048576</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„ç¼ºçœ</span>
</span></span><span style=display:flex><span>net.core.wmem_default <span style=color:#f92672>=</span> <span style=color:#ae81ff>262144</span> å€¼
</span></span><span style=display:flex><span><span style=color:#75715e>#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„æœ€å¤§å€¼</span>
</span></span><span style=display:flex><span>net.core.wmem_max <span style=color:#f92672>=</span> <span style=color:#ae81ff>1048576</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># sysctl -p #é…ç½®ç”Ÿæ•ˆ</span>
</span></span></code></pre></div><h2 id=-æºç å®‰è£…postgresql-162å½“å‰ç¨³å®šç‰ˆ>ğŸš€ æºç å®‰è£…PostgreSQL 16.2ï¼ˆå½“å‰ç¨³å®šç‰ˆï¼‰</h2><h3 id=æ­¥éª¤1åˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•>æ­¥éª¤1ï¼šåˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºpostgresç³»ç»Ÿç”¨æˆ·å’Œç»„</span>
</span></span><span style=display:flex><span>sudo groupadd -r postgres
</span></span><span style=display:flex><span>sudo useradd -r -g postgres -s /bin/bash -d /usr/local/pgsql -m -k /dev/null postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºå®‰è£…ç›®å½•å’Œæ•°æ®ç›®å½•</span>
</span></span><span style=display:flex><span>sudo mkdir -p /usr/local/pgsql/<span style=color:#f92672>{</span>data,logs,backup<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>sudo chown -R postgres:postgres /usr/local/pgsql
</span></span><span style=display:flex><span>sudo chmod <span style=color:#ae81ff>750</span> /usr/local/pgsql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºæºç ç›®å½•</span>
</span></span><span style=display:flex><span>sudo mkdir -p /opt/postgresql_src
</span></span><span style=display:flex><span>sudo chown <span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span>:<span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span> /opt/postgresql_src
</span></span><span style=display:flex><span>cd /opt/postgresql_src
</span></span></code></pre></div><h3 id=æ­¥éª¤2ä¸‹è½½æºç >æ­¥éª¤2ï¼šä¸‹è½½æºç </h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ä¸‹è½½PostgreSQL 16.2ï¼ˆæˆªè‡³2024å¹´3æœˆçš„æœ€æ–°ç¨³å®šç‰ˆï¼‰</span>
</span></span><span style=display:flex><span>wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…ä½¿ç”¨å›½å†…é•œåƒï¼ˆæ¸…åæºï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#75715e># wget https://mirrors.tuna.tsinghua.edu.cn/postgresql/source/v16.2/postgresql-16.2.tar.gz</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># éªŒè¯ä¸‹è½½å®Œæ•´æ€§ï¼ˆå¯é€‰ï¼‰</span>
</span></span><span style=display:flex><span>wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz.sha256
</span></span><span style=display:flex><span>sha256sum -c postgresql-16.2.tar.gz.sha256
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è§£å‹æºç </span>
</span></span><span style=display:flex><span>tar -zxvf postgresql-16.2.tar.gz
</span></span><span style=display:flex><span>cd postgresql-16.2
</span></span></code></pre></div><h3 id=æ­¥éª¤3é…ç½®ç¼–è¯‘é€‰é¡¹>æ­¥éª¤3ï¼šé…ç½®ç¼–è¯‘é€‰é¡¹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹æ‰€æœ‰é…ç½®é€‰é¡¹</span>
</span></span><span style=display:flex><span>./configure --help
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºç¼–è¯‘ç›®å½•ï¼ˆæ¨èï¼‰</span>
</span></span><span style=display:flex><span>mkdir build <span style=color:#f92672>&amp;&amp;</span> cd build
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åŸºæœ¬é…ç½®ï¼ˆé€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µï¼‰</span>
</span></span><span style=display:flex><span>../configure <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --prefix<span style=color:#f92672>=</span>/usr/local/pgsql <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-pgport<span style=color:#f92672>=</span><span style=color:#ae81ff>5432</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-perl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-python <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-tcl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-openssl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-pam <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -with-uuid<span style=color:#f92672>=</span>ossp <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-ldap <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-libxml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-libxslt <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-icu <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --enable-thread-safety <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --enable-debug <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --enable-nls <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-system-tzdata<span style=color:#f92672>=</span>/usr/share/zoneinfo
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…ç²¾ç®€é…ç½®ï¼ˆæœ€å°åŒ–å®‰è£…ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ../configure --prefix=/usr/local/pgsql --with-openssl</span>
</span></span></code></pre></div><h3 id=æ­¥éª¤4ç¼–è¯‘å’Œå®‰è£…>æ­¥éª¤4ï¼šç¼–è¯‘å’Œå®‰è£…</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹CPUæ ¸å¿ƒæ•°ï¼Œå†³å®šå¹¶è¡Œç¼–è¯‘æ•°</span>
</span></span><span style=display:flex><span>nproc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ç¼–è¯‘ï¼ˆä½¿ç”¨4ä¸ªå¹¶è¡Œä»»åŠ¡ï¼Œæ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´ï¼‰</span>
</span></span><span style=display:flex><span>make -j4
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¯é€‰ï¼šè¿è¡Œå›å½’æµ‹è¯•ï¼ˆéœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#75715e># make check</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å®‰è£…åˆ°ç³»ç»Ÿ</span>
</span></span><span style=display:flex><span>sudo make install
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å®‰è£…contribæ¨¡å—ï¼ˆæ‰©å±•å·¥å…·ï¼‰</span>
</span></span><span style=display:flex><span>cd contrib
</span></span><span style=display:flex><span>make -j4
</span></span><span style=display:flex><span>sudo make install
</span></span><span style=display:flex><span>cd ..
</span></span></code></pre></div><h3 id=æ­¥éª¤5é…ç½®ç¯å¢ƒå˜é‡>æ­¥éª¤5ï¼šé…ç½®ç¯å¢ƒå˜é‡</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ä¸ºpostgresç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡</span>
</span></span><span style=display:flex><span>sudo tee -a /usr/local/pgsql/.bash_profile <span style=color:#e6db74>&lt;&lt; &#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>export PGHOME=/usr/local/pgsql
</span></span></span><span style=display:flex><span><span style=color:#e6db74>export PGDATA=/usr/local/pgsql/data
</span></span></span><span style=display:flex><span><span style=color:#e6db74>export PATH=$PGHOME/bin:$PATH
</span></span></span><span style=display:flex><span><span style=color:#e6db74>export LD_LIBRARY_PATH=$PGHOME/lib:$LD_LIBRARY_PATH
</span></span></span><span style=display:flex><span><span style=color:#e6db74>export MANPATH=$PGHOME/share/man:$MANPATH
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä¸ºå½“å‰ç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;export PATH=/usr/local/pgsql/bin:$PATH&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span style=display:flex><span>source ~/.bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># éªŒè¯å®‰è£…</span>
</span></span><span style=display:flex><span>/usr/local/pgsql/bin/postgres --version
</span></span></code></pre></div><h2 id=-åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®>âš™ï¸ åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®</h2><h3 id=æ­¥éª¤6åˆå§‹åŒ–æ•°æ®åº“>æ­¥éª¤6ï¼šåˆå§‹åŒ–æ•°æ®åº“</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ‡æ¢åˆ°postgresç”¨æˆ·</span>
</span></span><span style=display:flex><span>sudo su - postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆå§‹åŒ–æ•°æ®åº“é›†ç¾¤</span>
</span></span><span style=display:flex><span>initdb -D /usr/local/pgsql/data -E UTF8 --locale<span style=color:#f92672>=</span>C -U postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…ä½¿ç”¨è¯¦ç»†å‚æ•°</span>
</span></span><span style=display:flex><span>initdb <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -D /usr/local/pgsql/data <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -E UTF8 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --locale<span style=color:#f92672>=</span>en_US.UTF-8 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --lc-collate<span style=color:#f92672>=</span>C <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --lc-ctype<span style=color:#f92672>=</span>en_US.UTF-8 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --username<span style=color:#f92672>=</span>postgres <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --pwprompt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è®¾ç½®å¯†ç ï¼ˆè®°ä¸‹è¿™ä¸ªå¯†ç ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¾“å…¥å¹¶ç¡®è®¤postgresç”¨æˆ·çš„å¯†ç </span>
</span></span></code></pre></div><h3 id=æ­¥éª¤7é…ç½®postgresqlconf>æ­¥éª¤7ï¼šé…ç½®postgresql.conf</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># å¤‡ä»½åŸå§‹é…ç½®</span>
</span></span><span style=display:flex><span>cp /usr/local/pgsql/data/postgresql.conf /usr/local/pgsql/data/postgresql.conf.original
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶</span>
</span></span><span style=display:flex><span>nano /usr/local/pgsql/data/postgresql.conf
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼ˆæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>listen_addresses</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;*&#39;          # å…è®¸è¿œç¨‹è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>5432                     # ç›‘å¬ç«¯å£</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_connections</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>100           # æœ€å¤§è¿æ¥æ•°</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>shared_buffers</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>128MB          # å…±äº«ç¼“å†²åŒºå¤§å°ï¼ˆå»ºè®®ä¸ºå†…å­˜çš„25%ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>work_mem</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>4MB                  # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>maintenance_work_mem</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>64MB     # ç»´æŠ¤æ“ä½œçš„å†…å­˜</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dynamic_shared_memory_type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>posix  # åŠ¨æ€å…±äº«å†…å­˜ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>wal_level</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>replica             # WALçº§åˆ«</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>synchronous_commit</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>on         # åŒæ­¥æäº¤</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>wal_buffers</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>-1                # WALç¼“å†²åŒºï¼ˆ-1è¡¨ç¤ºè‡ªåŠ¨ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>checkpoint_timeout</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>5min       # æ£€æŸ¥ç‚¹è¶…æ—¶æ—¶é—´</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_wal_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>1GB              # æœ€å¤§WALå¤§å°</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>min_wal_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>80MB             # æœ€å°WALå¤§å°</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>archive_mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>off              # å½’æ¡£æ¨¡å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>archive_command</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/bin/date&#39;   # å½’æ¡£å‘½ä»¤ï¼ˆå…³é—­æ—¶éšæ„è®¾ç½®ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>logging_collector</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>on          # å¯ç”¨æ—¥å¿—æ”¶é›†</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_directory</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;pg_log&#39;        # æ—¥å¿—ç›®å½•</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_filename</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;  # æ—¥å¿—æ–‡ä»¶åæ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_rotation_age</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>1d           # æ—¥å¿—è½®è½¬æ—¶é—´</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_rotation_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>10MB        # æ—¥å¿—è½®è½¬å¤§å°</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_truncate_on_rotation</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>on   # è½®è½¬æ—¶æˆªæ–­</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_line_prefix</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;%m [%p] %q%u@%d &#39;  # æ—¥å¿—å‰ç¼€</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>log_timezone</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Asia/Shanghai&#39;  # æ—¥å¿—æ—¶åŒº</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>timezone</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Asia/Shanghai&#39;      # æ—¶åŒº</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>datestyle</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;iso, ymd&#39;          # æ—¥æœŸæ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lc_messages</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;en_US.UTF-8&#39;     # æ¶ˆæ¯è¯­è¨€</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lc_monetary</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;en_US.UTF-8&#39;     # è´§å¸æ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lc_numeric</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;en_US.UTF-8&#39;      # æ•°å­—æ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lc_time</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;en_US.UTF-8&#39;         # æ—¶é—´æ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>default_text_search_config</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;pg_catalog.english&#39;  # å…¨æ–‡æœç´¢é…ç½®</span>
</span></span></code></pre></div><h3 id=æ­¥éª¤8é…ç½®å®¢æˆ·ç«¯è®¤è¯>æ­¥éª¤8ï¼šé…ç½®å®¢æˆ·ç«¯è®¤è¯</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ç¼–è¾‘pg_hba.conf</span>
</span></span><span style=display:flex><span>nano /usr/local/pgsql/data/pg_hba.conf
</span></span></code></pre></div><pre tabindex=0><code class=language-conf data-lang=conf># å…è®¸æœ¬åœ°è¿æ¥ï¼ˆmd5éœ€è¦å¯†ç ï¼Œtrustä¸éœ€è¦å¯†ç ï¼‰
local   all             postgres                                peer
local   all             all                                     md5
host    all             all             127.0.0.1/32            md5

# å…è®¸ç‰¹å®šIPæ®µè¿æ¥
host    all             all             192.168.1.0/24          md5

# å…è®¸æ‰€æœ‰IPè¿æ¥ï¼ˆç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰
host    all             all             0.0.0.0/0               md5

# ç¤ºä¾‹ï¼šåªå…è®¸ç‰¹å®šç”¨æˆ·ä»ç‰¹å®šIPè®¿é—®ç‰¹å®šæ•°æ®åº“
# host    exam_db         app_user        192.168.1.100/32       md5
</code></pre><h3 id=æ­¥éª¤9åˆ›å»ºç³»ç»ŸæœåŠ¡>æ­¥éª¤9ï¼šåˆ›å»ºç³»ç»ŸæœåŠ¡</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># é€€å‡ºpostgresç”¨æˆ·</span>
</span></span><span style=display:flex><span>exit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶</span>
</span></span><span style=display:flex><span>sudo tee /etc/systemd/system/postgresql.service <span style=color:#e6db74>&lt;&lt; &#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Description=PostgreSQL Database Server
</span></span></span><span style=display:flex><span><span style=color:#e6db74>After=network.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Service]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Type=forking
</span></span></span><span style=display:flex><span><span style=color:#e6db74>User=postgres
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Group=postgres
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Environment=PGDATA=/usr/local/pgsql/data
</span></span></span><span style=display:flex><span><span style=color:#e6db74>OOMScoreAdjust=-1000
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecStart=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} start
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecStop=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} stop
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecReload=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} reload
</span></span></span><span style=display:flex><span><span style=color:#e6db74>TimeoutSec=300
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Install]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>WantedBy=multi-user.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–è€…ä½¿ç”¨simpleç±»å‹ï¼ˆæ¨èï¼‰</span>
</span></span><span style=display:flex><span>sudo tee /etc/systemd/system/postgresql.service <span style=color:#e6db74>&lt;&lt; &#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Description=PostgreSQL Database Server
</span></span></span><span style=display:flex><span><span style=color:#e6db74>After=network.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Service]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Type=simple
</span></span></span><span style=display:flex><span><span style=color:#e6db74>User=postgres
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Group=postgres
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Environment=PGDATA=/usr/local/pgsql/data
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Environment=PGPORT=5432
</span></span></span><span style=display:flex><span><span style=color:#e6db74>OOMScoreAdjust=-1000
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecStart=/usr/local/pgsql/bin/postgres -D ${PGDATA}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecReload=/bin/kill -HUP $MAINPID
</span></span></span><span style=display:flex><span><span style=color:#e6db74>KillMode=mixed
</span></span></span><span style=display:flex><span><span style=color:#e6db74>KillSignal=SIGINT
</span></span></span><span style=display:flex><span><span style=color:#e6db74>TimeoutSec=300
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Install]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>WantedBy=multi-user.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><h3 id=æ­¥éª¤10å¯åŠ¨æœåŠ¡>æ­¥éª¤10ï¼šå¯åŠ¨æœåŠ¡</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># é‡æ–°åŠ è½½systemdé…ç½®</span>
</span></span><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¯åŠ¨PostgreSQLæœåŠ¡</span>
</span></span><span style=display:flex><span>sudo systemctl start postgresql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è®¾ç½®å¼€æœºè‡ªå¯</span>
</span></span><span style=display:flex><span>sudo systemctl enable postgresql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
</span></span><span style=display:flex><span>sudo systemctl status postgresql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹æ—¥å¿—</span>
</span></span><span style=display:flex><span>sudo journalctl -u postgresql -f
</span></span></code></pre></div><h2 id=-éªŒè¯å’ŒåŸºç¡€é…ç½®>ğŸ”§ éªŒè¯å’ŒåŸºç¡€é…ç½®</h2><h3 id=æ­¥éª¤11éªŒè¯å®‰è£…>æ­¥éª¤11ï¼šéªŒè¯å®‰è£…</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># è¿æ¥åˆ°æ•°æ®åº“</span>
</span></span><span style=display:flex><span>psql -h localhost -U postgres -d postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åœ¨psqlä¸­æ‰§è¡Œ</span>
</span></span><span style=display:flex><span>SELECT version<span style=color:#f92672>()</span>;
</span></span><span style=display:flex><span>SELECT current_user;
</span></span><span style=display:flex><span>SHOW data_directory;
</span></span><span style=display:flex><span>SHOW config_file;
</span></span><span style=display:flex><span><span style=color:#ae81ff>\q</span>  <span style=color:#75715e># é€€å‡º</span>
</span></span></code></pre></div><h3 id=æ­¥éª¤12åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·>æ­¥éª¤12ï¼šåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ‡æ¢åˆ°postgresç”¨æˆ·</span>
</span></span><span style=display:flex><span>sudo su - postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºæµ‹è¯•æ•°æ®åº“</span>
</span></span><span style=display:flex><span>createdb test_db
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºåº”ç”¨ç”¨æˆ·</span>
</span></span><span style=display:flex><span>createuser -P -d -e app_user
</span></span><span style=display:flex><span><span style=color:#75715e># è¾“å…¥å¯†ç ï¼šAppPass123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¿æ¥åˆ°æ•°æ®åº“å¹¶æˆæƒ</span>
</span></span><span style=display:flex><span>psql -d test_db <span style=color:#e6db74>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-- åˆ›å»ºschema
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE SCHEMA IF NOT EXISTS app_schema;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-- åˆ›å»ºæµ‹è¯•è¡¨
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE TABLE app_schema.users (
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    id SERIAL PRIMARY KEY,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    username VARCHAR(50) NOT NULL,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    email VARCHAR(100) UNIQUE NOT NULL,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
</span></span></span><span style=display:flex><span><span style=color:#e6db74>);
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-- æ’å…¥æµ‹è¯•æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#e6db74>INSERT INTO app_schema.users (username, email) VALUES
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(&#39;admin&#39;, &#39;admin@example.com&#39;),
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(&#39;user1&#39;, &#39;user1@example.com&#39;);
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-- æˆæƒç»™åº”ç”¨ç”¨æˆ·
</span></span></span><span style=display:flex><span><span style=color:#e6db74>GRANT ALL PRIVILEGES ON DATABASE test_db TO app_user;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>GRANT ALL PRIVILEGES ON SCHEMA app_schema TO app_user;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA app_schema TO app_user;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA app_schema TO app_user;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-- æŸ¥çœ‹è¡¨
</span></span></span><span style=display:flex><span><span style=color:#e6db74>SELECT * FROM app_schema.users;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><h3 id=æ­¥éª¤13å®‰è£…å¸¸ç”¨æ‰©å±•>æ­¥éª¤13ï¼šå®‰è£…å¸¸ç”¨æ‰©å±•</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># å®‰è£…pg_stat_statementsï¼ˆæ€§èƒ½ç›‘æ§ï¼‰</span>
</span></span><span style=display:flex><span>psql -U postgres -d test_db <span style=color:#e6db74>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE EXTENSION IF NOT EXISTS uuid-ossp;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE EXTENSION IF NOT EXISTS btree_gin;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>CREATE EXTENSION IF NOT EXISTS btree_gist;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>SELECT * FROM pg_available_extensions ORDER BY name;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><h2 id=-é«˜çº§é…ç½®å’Œä¼˜åŒ–>ğŸ› ï¸ é«˜çº§é…ç½®å’Œä¼˜åŒ–</h2><h3 id=å†…å­˜ä¼˜åŒ–é…ç½®>å†…å­˜ä¼˜åŒ–é…ç½®</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´é…ç½®</span>
</span></span><span style=display:flex><span>sudo nano /usr/local/pgsql/data/postgresql.conf
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># å†…å­˜ç›¸å…³ä¼˜åŒ–ï¼ˆ8GBå†…å­˜æœåŠ¡å™¨ç¤ºä¾‹ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>shared_buffers</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>2GB           # å†…å­˜çš„25%</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>work_mem</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>16MB                # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>maintenance_work_mem</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>512MB   # ç»´æŠ¤æ“ä½œå†…å­˜</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>effective_cache_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>6GB     # å¯ç”¨äºç¼“å­˜çš„ç£ç›˜ç©ºé—´ä¼°è®¡å€¼</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ€§èƒ½ä¼˜åŒ–</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_connections</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>200          # æ ¹æ®åº”ç”¨éœ€æ±‚è°ƒæ•´</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>checkpoint_completion_target</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>0.9</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>random_page_cost</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>1.1         # SSDè®¾ä¸º1.1ï¼ŒHDDè®¾ä¸º4.0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>effective_io_concurrency</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>200 # SSDå¯ä»¥è®¾é«˜ï¼ŒHDDè®¾ä½</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># WALä¼˜åŒ–</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>wal_buffers</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>16MB</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>min_wal_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>1GB</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max_wal_size</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>4GB</span>
</span></span></code></pre></div><h3 id=é…ç½®å½’æ¡£å’Œå¤‡ä»½>é…ç½®å½’æ¡£å’Œå¤‡ä»½</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºå½’æ¡£ç›®å½•</span>
</span></span><span style=display:flex><span>sudo mkdir -p /usr/local/pgsql/archive
</span></span><span style=display:flex><span>sudo chown postgres:postgres /usr/local/pgsql/archive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># é…ç½®å½’æ¡£</span>
</span></span><span style=display:flex><span>sudo nano /usr/local/pgsql/data/postgresql.conf
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># å¯ç”¨å½’æ¡£</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>archive_mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>on</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>archive_command</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;test ! -f /usr/local/pgsql/archive/%f &amp;&amp; cp %p /usr/local/pgsql/archive/%f&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>archive_timeout</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>3600  # æ¯å°æ—¶å¼ºåˆ¶å½’æ¡£</span>
</span></span></code></pre></div><h2 id=-ç›‘æ§å’Œç»´æŠ¤è„šæœ¬>ğŸ“Š ç›‘æ§å’Œç»´æŠ¤è„šæœ¬</h2><h3 id=åˆ›å»ºç›‘æ§è„šæœ¬>åˆ›å»ºç›‘æ§è„šæœ¬</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºæ•°æ®åº“å¥åº·æ£€æŸ¥è„šæœ¬</span>
</span></span><span style=display:flex><span>sudo tee /usr/local/bin/check_postgres.sh <span style=color:#e6db74>&lt;&lt; &#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#e6db74># PostgreSQLå¥åº·æ£€æŸ¥è„šæœ¬
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>PGHOME=/usr/local/pgsql
</span></span></span><span style=display:flex><span><span style=color:#e6db74>PGDATA=/usr/local/pgsql/data
</span></span></span><span style=display:flex><span><span style=color:#e6db74>PGPORT=5432
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;=== PostgreSQLå¥åº·æ£€æŸ¥ $(date) ===&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># æ£€æŸ¥æœåŠ¡çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#e6db74>systemctl is-active postgresql &gt; /dev/null 2&gt;&amp;1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>if [ $? -eq 0 ]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;âœ“ æœåŠ¡çŠ¶æ€: è¿è¡Œä¸­&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;âœ— æœåŠ¡çŠ¶æ€: åœæ­¢&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    exit 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>fi
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># æ£€æŸ¥è¿æ¥
</span></span></span><span style=display:flex><span><span style=color:#e6db74>$PGHOME/bin/pg_isready -p $PGPORT -h localhost -U postgres
</span></span></span><span style=display:flex><span><span style=color:#e6db74>if [ $? -eq 0 ]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;âœ“ æ•°æ®åº“è¿æ¥: æ­£å¸¸&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;âœ— æ•°æ®åº“è¿æ¥: å¤±è´¥&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>fi
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># æ£€æŸ¥ç£ç›˜ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#e6db74>df -h $PGDATA | tail -1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># æ£€æŸ¥æ•°æ®åº“å¤§å°
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;æ•°æ®åº“å¤§å°:&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>$PGHOME/bin/psql -h localhost -U postgres -d postgres -c &#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>SELECT 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    datname as \&#34;æ•°æ®åº“\&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    pg_size_pretty(pg_database_size(datname)) as \&#34;å¤§å°\&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>FROM pg_database 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ORDER BY pg_database_size(datname) DESC;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;=== æ£€æŸ¥å®Œæˆ ===&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo chmod +x /usr/local/bin/check_postgres.sh
</span></span><span style=display:flex><span>sudo chown postgres:postgres /usr/local/bin/check_postgres.sh
</span></span></code></pre></div><h3 id=åˆ›å»ºå¤‡ä»½è„šæœ¬>åˆ›å»ºå¤‡ä»½è„šæœ¬</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># åˆ›å»ºå¤‡ä»½è„šæœ¬</span>
</span></span><span style=display:flex><span>sudo tee /usr/local/bin/backup_postgres.sh <span style=color:#e6db74>&lt;&lt; &#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#e6db74># PostgreSQLå¤‡ä»½è„šæœ¬
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>BACKUP_DIR=&#34;/usr/local/pgsql/backup&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>DATE=$(date +%Y%m%d_%H%M%S)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>RETENTION_DAYS=7
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># åˆ›å»ºå¤‡ä»½ç›®å½•
</span></span></span><span style=display:flex><span><span style=color:#e6db74>mkdir -p $BACKUP_DIR/$DATE
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;å¼€å§‹å¤‡ä»½: $(date)&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
</span></span></span><span style=display:flex><span><span style=color:#e6db74>/usr/local/pgsql/bin/pg_dumpall -h localhost -U postgres \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | gzip &gt; $BACKUP_DIR/$DATE/full_backup_$DATE.sql.gz
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># å¤‡ä»½å•ä¸ªé‡è¦æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#e6db74>/usr/local/pgsql/bin/pg_dump -h localhost -U postgres test_db \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    -F c -f $BACKUP_DIR/$DATE/test_db_$DATE.dump
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;å¤‡ä»½å®Œæˆ: $(date)&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;å¤‡ä»½æ–‡ä»¶:&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ls -lh $BACKUP_DIR/$DATE/
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># æ¸…ç†æ—§å¤‡ä»½
</span></span></span><span style=display:flex><span><span style=color:#e6db74>find $BACKUP_DIR -type d -mtime +$RETENTION_DAYS -exec rm -rf {} \;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;å·²æ¸…ç†è¶…è¿‡${RETENTION_DAYS}å¤©çš„å¤‡ä»½&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo chmod +x /usr/local/bin/backup_postgres.sh
</span></span><span style=display:flex><span>sudo chown postgres:postgres /usr/local/bin/backup_postgres.sh
</span></span></code></pre></div><h2 id=-å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬>ğŸ¯ å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬</h2><h3 id=å®‰è£…postgresql-157ltsç‰ˆæœ¬>å®‰è£…PostgreSQL 15.7ï¼ˆLTSç‰ˆæœ¬ï¼‰</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/postgresql_src
</span></span><span style=display:flex><span>wget https://ftp.postgresql.org/pub/source/v15.7/postgresql-15.7.tar.gz
</span></span><span style=display:flex><span>tar -zxvf postgresql-15.7.tar.gz
</span></span><span style=display:flex><span>cd postgresql-15.7
</span></span><span style=display:flex><span>mkdir build <span style=color:#f92672>&amp;&amp;</span> cd build
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># é…ç½®ï¼ˆä¸16.2ç±»ä¼¼ï¼‰</span>
</span></span><span style=display:flex><span>../configure <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --prefix<span style=color:#f92672>=</span>/usr/local/pgsql15 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-pgport<span style=color:#f92672>=</span><span style=color:#ae81ff>5433</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-openssl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-perl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --with-python
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>make -j<span style=color:#66d9ef>$(</span>nproc<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>sudo make install
</span></span></code></pre></div><h3 id=å®‰è£…postgresql-1412é•¿æœŸæ”¯æŒ>å®‰è£…PostgreSQL 14.12ï¼ˆé•¿æœŸæ”¯æŒï¼‰</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/postgresql_src
</span></span><span style=display:flex><span>wget https://ftp.postgresql.org/pub/source/v14.12/postgresql-14.12.tar.gz
</span></span><span style=display:flex><span>tar -zxvf postgresql-14.12.tar.gz
</span></span><span style=display:flex><span>cd postgresql-14.12
</span></span><span style=display:flex><span>mkdir build <span style=color:#f92672>&amp;&amp;</span> cd build
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>../configure --prefix<span style=color:#f92672>=</span>/usr/local/pgsql14 --with-openssl
</span></span><span style=display:flex><span>make -j<span style=color:#66d9ef>$(</span>nproc<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>sudo make install
</span></span></code></pre></div><h2 id=-æ•…éšœæ’é™¤>âš ï¸ æ•…éšœæ’é™¤</h2><h3 id=å¸¸è§é—®é¢˜è§£å†³>å¸¸è§é—®é¢˜è§£å†³</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 1. ç¼–è¯‘é”™è¯¯ï¼šç¼ºå°‘ä¾èµ–</span>
</span></span><span style=display:flex><span><span style=color:#75715e># é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–åæ¸…ç†é‡è¯•</span>
</span></span><span style=display:flex><span>make distclean
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. å¯åŠ¨å¤±è´¥ï¼šç«¯å£è¢«å ç”¨</span>
</span></span><span style=display:flex><span>netstat -tlnp | grep <span style=color:#ae81ff>5432</span>
</span></span><span style=display:flex><span>sudo lsof -i :5432
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3. è¿æ¥å¤±è´¥ï¼šè®¤è¯é—®é¢˜</span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ£€æŸ¥pg_hba.confé…ç½®</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 4. å†…å­˜ä¸è¶³ï¼šè°ƒæ•´ç¼–è¯‘å¹¶è¡Œåº¦</span>
</span></span><span style=display:flex><span>make -j2  <span style=color:#75715e># ä½¿ç”¨æ›´å°‘çš„å¹¶è¡Œä»»åŠ¡</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 5. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—</span>
</span></span><span style=display:flex><span>tail -f /usr/local/pgsql/data/log/postgresql-*.log
</span></span></code></pre></div><h2 id=-æ€»ç»“>ğŸ“ æ€»ç»“</h2><h3 id=å®‰è£…æ­¥éª¤å›é¡¾>å®‰è£…æ­¥éª¤å›é¡¾</h3><ol><li><strong>å®‰è£…ä¾èµ–</strong>ï¼šç¡®ä¿ç¼–è¯‘ç¯å¢ƒå®Œæ•´</li><li><strong>ä¸‹è½½æºç </strong>ï¼šé€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼ˆæ¨è16.2æˆ–15.7ï¼‰</li><li><strong>é…ç½®ç¼–è¯‘</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ç¼–è¯‘é€‰é¡¹</li><li><strong>ç¼–è¯‘å®‰è£…</strong>ï¼šä½¿ç”¨å¹¶è¡Œç¼–è¯‘æé«˜é€Ÿåº¦</li><li><strong>åˆå§‹åŒ–æ•°æ®åº“</strong>ï¼šè®¾ç½®æ•°æ®ç›®å½•å’Œç¼–ç </li><li><strong>é…ç½®å‚æ•°</strong>ï¼šä¼˜åŒ–æ€§èƒ½å’Œå®‰å…¨</li><li><strong>åˆ›å»ºæœåŠ¡</strong>ï¼šä½¿ç”¨systemdç®¡ç†</li><li><strong>éªŒè¯æµ‹è¯•</strong>ï¼šç¡®ä¿å®‰è£…æˆåŠŸ</li></ol><h3 id=ç‰ˆæœ¬é€‰æ‹©å»ºè®®>ç‰ˆæœ¬é€‰æ‹©å»ºè®®</h3><ul><li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šPostgreSQL 15.xï¼ˆLTSæ”¯æŒåˆ°2027å¹´ï¼‰</li><li><strong>å­¦ä¹ æµ‹è¯•</strong>ï¼šPostgreSQL 16.xï¼ˆæœ€æ–°ç‰¹æ€§ï¼‰</li><li><strong>å…¼å®¹æ€§è¦æ±‚</strong>ï¼šPostgreSQL 14.xï¼ˆæ”¯æŒåˆ°2026å¹´ï¼‰</li></ul><h3 id=å…³é”®é…ç½®æ–‡ä»¶>å…³é”®é…ç½®æ–‡ä»¶</h3><ul><li><code>/usr/local/pgsql/data/postgresql.conf</code> - ä¸»é…ç½®æ–‡ä»¶</li><li><code>/usr/local/pgsql/data/pg_hba.conf</code> - å®¢æˆ·ç«¯è®¤è¯</li><li><code>/etc/systemd/system/postgresql.service</code> - æœåŠ¡æ–‡ä»¶</li></ul><p>é€šè¿‡æºç å®‰è£…å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œå®šåˆ¶æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¯¹æ€§èƒ½æœ‰è¦æ±‚çš„åœºæ™¯ã€‚</p></div></article><article class="list__item post"><header class=list__header><h3 class="list__title post__title"><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/ rel=bookmark>å…¸ç±ç¯‡</a></h3><p class="list__lead post__lead">èšç¤¾åŒºä¹‹æ™ºï¼Œä¼ æŠ€æœ¯ä¹‹ç«</p><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-11-27T00:00:00>November 27, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3 rel=category>å¼€æºæ–‡æ¡£</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>â—€ è¿”å›</a></p><h2 id=postgresql-çš„ç»„æˆç»“æ„>postgresql çš„ç»„æˆç»“æ„</h2><h3 id=å†…å­˜>å†…å­˜</h3><ul><li><p><strong>Local memory area</strong>:ç”±æ¯ä¸ªåç«¯è¿›ç¨‹åˆ†é…ç»™è‡ªå·±ä½¿ç”¨ã€‚</p></li><li><p><strong>Share memory area</strong>: ç”± postgresql æœåŠ¡å™¨çš„æ‰€æœ‰è¿›ç¨‹ä½¿ç”¨ã€‚</p></li></ul><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png alt=postgresql-memory></p><ul><li><p><strong>work_mem</strong>: æ‰§è¡Œå™¨æ‰§è¡Œ <em>order by</em>ã€<em>distinct</em>ã€<em>join tables</em>ã€<em>hash-join</em>æ“ä½œæ—¶ä½¿ç”¨ã€‚</p></li><li><p><strong>maintenance_work_mem</strong>: <em>vacuum</em> å½’æ•´ã€<em>reindex</em>é‡å»ºç´¢å¼•ï¼Œæ—¶ä½¿ç”¨ã€‚</p></li><li><p><strong>temp_buffers</strong>: ä¸´æ—¶è¡¨ä½¿ç”¨ã€‚</p></li><li><p><strong>shared_buffer_pool</strong>: ä»æŒä¹…åŒ–çš„å­˜å‚¨åŠ è½½è¡¨é¡µå’Œç´¢å¼•é¡µåˆ°æ­¤ã€‚</p></li><li><p><strong>wal_buffer</strong>: é˜²æ­¢æœåŠ¡å¼‚å¸¸åœæ­¢å¯¼è‡´æ•°æ®æ²¡æœ‰è½ç›˜ï¼Œåˆ›å»ºäº† wal ç¼“å†²åŒºï¼Œç›¸å½“äº redo logã€‚</p></li><li><p><strong>commit log</strong>: è®°å½•æ‰€æœ‰çš„äº‹åŠ¡çŠ¶æ€å¦‚:å†å¤„ç†ï¼Œå·²æäº¤ã€å›é€€ï¼Œä¿æŒäº‹åŠ¡çš„ä¸€è‡´æ€§ã€‚ç›¸å½“äº undo logã€‚</p></li></ul><h3 id=è¿›ç¨‹>è¿›ç¨‹</h3><p><strong>PostgreSQL é‡‡ç”¨ C/S æ¨¡å¼ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯åˆ†é…ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ Postgres</strong>
<img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E8%BF%9B%E7%A8%8B.webp alt=postgresql-process></p><p>å½“è¿è¡Œ pg_ctl å‘½ä»¤è¿›å…¥ Postgres ç¨‹åºæ—¶ï¼Œå…¶è¿›ç¨‹åˆ›å»ºæµç¨‹å¦‚ä¸‹:</p><h3 id=postmaster>PostMaster</h3><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp alt=postgresql-process1></p><ul><li><strong>PostMaster</strong>ï¼šè¿›ç¨‹æ˜¯æ•´ä¸ªæ•°æ®åº“å®ä¾‹çš„æ€»æ§è¿›ç¨‹ï¼Œè´Ÿè´£å¯åŠ¨å…³é—­è¯¥æ•°æ®å®ä¾‹ã€‚å¹¶ä¸”åœ¨æœåŠ¡è¿›ç¨‹å‡ºç°é”™è¯¯æ—¶å®Œæˆç³»ç»Ÿçš„æ¢å¤ï¼Œè¿˜è¦åœ¨ç³»ç»Ÿå¥”æºƒçš„æ—¶å€™é‡å¯ç³»ç»Ÿã€‚å®ƒæ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„æ€»æ§è¿›ç¨‹ï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£æ•´ä¸ªç³»ç»ŸèŒƒå›´å†…çš„æ“ä½œï¼Œä¾‹å¦‚ä¸­æ–­æ“ä½œä¸ä¿¡å·å¤„ç†ã€‚ä½†æ˜¯ Postmaster æœ¬èº«å¹¶ä¸æ‰§è¡Œè¿™äº›æ“ä½œï¼Œè€Œæ˜¯æŒ‡æ´¾ä¸€ä¸ªå­è¿›ç¨‹åœ¨é€‚å½“çš„æ—¶é—´å¤„ç†å®ƒä»¬ã€‚Postmaster è¿›ç¨‹åœ¨èµ·å§‹æ—¶ä¼šåˆ›å»ºå…±äº«å†…å­˜ä¸ä¿¡å·åº“ï¼Œç”¨äºä¸å­è¿›ç¨‹çš„é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿèƒ½åœ¨æŸä¸ªå­è¿›ç¨‹å¥”æºƒçš„æ—¶å€™é‡ç½®å…±äº«å†…å­˜å³å¯æ¢å¤ã€‚</li></ul><p><em>Postmaster å®ˆæŠ¤è¿›ç¨‹çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹</em></p><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp alt=postgres-porcess2></p><h3 id=syslogger>SysLogger</h3><ul><li><strong>SysLogger</strong>:ï¼ˆç³»ç»Ÿæ—¥å¿—ï¼‰è¿›ç¨‹,æ—¥å¿—ä¿¡æ¯æ˜¯æ•°æ®åº“ç®¡ç†å‘˜è·å–æ•°æ®åº“ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„æœ‰æ•ˆæ‰‹æ®µã€‚åœ¨æ•°æ®åº“å‡ºç°æ•…éšœæ—¶ï¼Œæ—¥å¿—ä¿¡æ¯æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æŠŠæ•°æ®åº“æ—¥å¿—ä¿¡æ¯é›†ä¸­è¾“å‡ºåˆ°ä¸€ä¸ªä½ç½®å°†æå¤§æ–¹ä¾¿ç®¡ç†å‘˜ç»´æŠ¤æ•°æ®åº“ç³»ç»Ÿã€‚ç„¶è€Œï¼Œæ—¥å¿—è¾“å‡ºå°†äº§ç”Ÿå¤§é‡æ•°æ®ï¼ˆç‰¹åˆ«æ˜¯åœ¨æ¯”è¾ƒé«˜çš„è°ƒè¯•çº§åˆ«ä¸Šï¼‰ï¼Œå•æ–‡ä»¶ä¿å­˜æ—¶ä¸åˆ©äºæ—¥å¿—æ–‡ä»¶çš„æ“ä½œã€‚å› æ­¤ï¼Œåœ¨SysLoggerçš„é…ç½®é€‰é¡¹ä¸­å¯ä»¥è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ŒSysLoggerä¼šåœ¨æ—¥å¿—æ–‡ä»¶è¾¾åˆ°æŒ‡å®šçš„å¤§å°æ—¶å…³é—­å½“å‰æ—¥å¿—æ–‡ä»¶ï¼Œäº§ç”Ÿæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># - Where to Log -</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log_destination <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;stderr&#39;</span>              <span style=color:#75715e># Valid values are combinations of</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># stderr, csvlog, jsonlog, syslog, and</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># eventlog, depending on platform.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># csvlog and jsonlog require</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># logging_collector to be on.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is used when logging to stderr:</span>
</span></span><span style=display:flex><span>logging_collector <span style=color:#f92672>=</span> on          <span style=color:#75715e># Enable capturing of stderr, jsonlog,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># and csvlog into log files. Required</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># to be on for csvlogs and jsonlogs.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># (change requires restart)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># These are only used if logging_collector is on:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_directory = &#39;log&#39;                  # directory where log files are written,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># can be absolute or relative to PGDATA</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_filename = &#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;        # log file name pattern,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># can include strftime() escapes</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_file_mode = 0600                   # creation mode for log files,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># begin with 0 to use octal notation</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_rotation_age = 1d                  # Automatic rotation of logfiles will</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># happen after that time.  0 disables.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_rotation_size = 10MB               # Automatic rotation of logfiles will</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># happen after that much log output.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># 0 disables.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_truncate_on_rotation = off         # If on, an existing log file with the</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># same name as the new log file will be</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># truncated rather than appended to.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># But such truncation only occurs on</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># time-driven rotation, not on restarts</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># or size-driven rotation.  Default is</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># off, meaning append to existing files</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># in all cases.</span>
</span></span></code></pre></div><blockquote><p><strong>log_destination</strong>ï¼šé…ç½®æ—¥å¿—è¾“å‡ºç›®æ ‡ï¼Œæ ¹æ®ä¸åŒçš„è¿è¡Œå¹³å°ä¼šè®¾ç½®ä¸åŒçš„å€¼ï¼ŒLinuxä¸‹é»˜è®¤ä¸ºstderrã€‚</p></div></article><article class="list__item post"><header class=list__header><h3 class="list__title post__title"><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/ rel=bookmark>åç«¯æ¶æ„</a></h3><p class="list__lead post__lead">è¿ç­¹æ•°æ®ä¹‹é—´ï¼Œå†³èƒœæµé‡ä¹‹å·…</p><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-11-21T00:00:00>November 21, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e5%90%8e%e7%ab%af%e6%9e%b6%e6%9e%84 rel=category>åç«¯æ¶æ„</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h2 id=åç«¯æ¶æ„å…µæ³•ç¯‡>ã€Œåç«¯æ¶æ„å…µæ³•ç¯‡ã€</h2><blockquote><p>æ”¶å½•ç³»ç»Ÿæ¶æ„ã€åˆ†å¸ƒå¼åŸç†ã€é«˜å¹¶å‘è®¾è®¡ç­‰åç«¯æ ¸å¿ƒçŸ¥è¯†ã€‚ä»å•ä½“åˆ°å¾®æœåŠ¡ï¼Œä»æ•°æ®åº“åˆ°ç¼“å­˜ï¼Œæ„å»ºå¯æ‰©å±•çš„ç¨³å¥ç³»ç»Ÿã€‚</p></blockquote><hr><h3 id=-å¾®æœåŠ¡å…µæ³•><span style=color:var(--cinnabar)>ğŸ¯ ã€Œå¾®æœåŠ¡å…µæ³•ã€</span></h3><h4 id=-æœåŠ¡æ‹†åˆ†è‰ºæœ¯>ğŸ—ï¸ ã€ŒæœåŠ¡æ‹†åˆ†è‰ºæœ¯ã€</h4><h5 id=é¢†åŸŸé©±åŠ¨è®¾è®¡>ã€Œé¢†åŸŸé©±åŠ¨è®¾è®¡ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/DDD%E5%AE%9E%E6%88%98>DDD å®æˆ˜æŒ‡å—</a> â€”â€” é™ç•Œä¸Šä¸‹æ–‡ã€å®ä½“ä¸å€¼å¯¹è±¡ã€èšåˆæ ¹è®¾è®¡</li><li>è®¡åˆ’ï¼šäº‹ä»¶é£æš´å·¥ä½œåŠã€é¢†åŸŸæ¨¡å‹æ¼”è¿›ã€é˜²è…å±‚æ„å»º</li></ul><h5 id=å¾®æœåŠ¡è¾¹ç•Œåˆ’åˆ†>ã€Œå¾®æœåŠ¡è¾¹ç•Œåˆ’åˆ†ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86>æœåŠ¡æ‹†åˆ†ç­–ç•¥</a> â€”â€” å•ä¸€èŒè´£ã€æ•°æ®è‡ªæ²»ã€æ¥å£è®¾è®¡</li><li>è®¡åˆ’ï¼šæ‹†åˆ†æ—¶æœºåˆ¤æ–­ã€ç°åº¦è¿ç§»æ–¹æ¡ˆã€æ•°æ®ä¸€è‡´æ€§</li></ul><h4 id=-æœåŠ¡é€šä¿¡æœºåˆ¶>ğŸ”— ã€ŒæœåŠ¡é€šä¿¡æœºåˆ¶ã€</h4><h5 id=åŒæ­¥è°ƒç”¨æ¨¡å¼>ã€ŒåŒæ­¥è°ƒç”¨æ¨¡å¼ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/RPC%E6%A1%86%E6%9E%B6>RPC æ¡†æ¶æ·±åº¦è§£æ</a> â€”â€” åè®®è®¾è®¡ã€åºåˆ—åŒ–ä¼˜åŒ–ã€è´Ÿè½½å‡è¡¡</li><li>è®¡åˆ’ï¼šgRPC/Thrift/Dubbo å¯¹æ¯”ã€è¿æ¥æ± ç®¡ç†ã€è¶…æ—¶æ§åˆ¶</li></ul><h5 id=å¼‚æ­¥æ¶ˆæ¯é©±åŠ¨>ã€Œå¼‚æ­¥æ¶ˆæ¯é©±åŠ¨ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97>æ¶ˆæ¯é˜Ÿåˆ—å®æˆ˜</a> â€”â€” Kafka/RocketMQ/RabbitMQ åº”ç”¨åœºæ™¯</li><li>è®¡åˆ’ï¼šæ¶ˆæ¯é¡ºåºæ€§ã€å¹‚ç­‰æ¶ˆè´¹ã€äº‹åŠ¡æ¶ˆæ¯</li></ul><h4 id=-æœåŠ¡æ²»ç†ä½“ç³»>ğŸ›¡ï¸ ã€ŒæœåŠ¡æ²»ç†ä½“ç³»ã€</h4><h5 id=å®¹é”™ä¸é™çº§>ã€Œå®¹é”™ä¸é™çº§ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%9C%8D%E5%8A%A1%E5%AE%B9%E9%94%99>ç†”æ–­å™¨æ¨¡å¼å®ç°</a> â€”â€” Hystrix/Sentinel åŸç†åˆ†æ</li><li>è®¡åˆ’ï¼šéš”ç¦»ç­–ç•¥ã€é™çº§è§„åˆ™ã€è‡ªé€‚åº”ä¿æŠ¤</li></ul><h5 id=é…ç½®ä¸æ³¨å†Œä¸­å¿ƒ>ã€Œé…ç½®ä¸æ³¨å†Œä¸­å¿ƒã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83>é…ç½®åŠ¨æ€åŒ–ç®¡ç†</a> â€”â€” Apollo/Nacos æ¶æ„è§£æ</li><li>è®¡åˆ’ï¼šé…ç½®ç‰ˆæœ¬ç®¡ç†ã€ç°åº¦å‘å¸ƒã€æƒé™æ§åˆ¶</li></ul><hr><h3 id=-åˆ†å¸ƒå¼é˜µæ³•><span style=color:var(--cinnabar)>ğŸŒ ã€Œåˆ†å¸ƒå¼é˜µæ³•ã€</span></h3><h4 id=-åˆ†å¸ƒå¼ä¸€è‡´æ€§>âš¡ ã€Œåˆ†å¸ƒå¼ä¸€è‡´æ€§ã€</h4><h5 id=å…±è¯†ç®—æ³•æ ¸å¿ƒ>ã€Œå…±è¯†ç®—æ³•æ ¸å¿ƒã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95>Paxos/Raft ç®—æ³•è¯¦è§£</a> â€”â€” é€‰ä¸¾æœºåˆ¶ã€æ—¥å¿—å¤åˆ¶ã€æˆå‘˜å˜æ›´</li><li>è®¡åˆ’ï¼šç®—æ³•å·¥ç¨‹å®ç°ã€æ€§èƒ½ä¼˜åŒ–ã€è„‘è£‚å¤„ç†</li></ul><h5 id=åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆ>ã€Œåˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1>äº‹åŠ¡æ¨¡å¼å¯¹æ¯”</a> â€”â€” 2PC/TCC/SAGA/æ¶ˆæ¯äº‹åŠ¡</li><li>è®¡åˆ’ï¼šSeataæ¡†æ¶å®æˆ˜ã€æœ€å¤§åŠªåŠ›é€šçŸ¥ã€è¡¥å¿æœºåˆ¶</li></ul><h4 id=-åˆ†å¸ƒå¼ç¼“å­˜>ğŸ”„ ã€Œåˆ†å¸ƒå¼ç¼“å­˜ã€</h4><h5 id=redis-æ·±åº¦åº”ç”¨>ã€ŒRedis æ·±åº¦åº”ç”¨ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/Redis%E5%AE%9E%E6%88%98>Redis æ¶æ„è®¾è®¡</a> â€”â€” æ•°æ®ç»“æ„é€‰æ‹©ã€æŒä¹…åŒ–ç­–ç•¥ã€é›†ç¾¤æ¨¡å¼</li><li>è®¡åˆ’ï¼šçƒ­ç‚¹keyå¤„ç†ã€ç¼“å­˜é›ªå´©/ç©¿é€/å‡»ç©¿é˜²æŠ¤</li></ul><h5 id=å¤šçº§ç¼“å­˜ä½“ç³»>ã€Œå¤šçº§ç¼“å­˜ä½“ç³»ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98>ç¼“å­˜æ¶æ„è®¾è®¡</a> â€”â€” æœ¬åœ°ç¼“å­˜+åˆ†å¸ƒå¼ç¼“å­˜+å®¢æˆ·ç«¯ç¼“å­˜</li><li>è®¡åˆ’ï¼šç¼“å­˜ä¸€è‡´æ€§ã€è¿‡æœŸç­–ç•¥ã€ç›‘æ§æŒ‡æ ‡</li></ul><h4 id=-åˆ†å¸ƒå¼å­˜å‚¨>ğŸ“Š ã€Œåˆ†å¸ƒå¼å­˜å‚¨ã€</h4><h5 id=åˆ†åº“åˆ†è¡¨ç­–ç•¥>ã€Œåˆ†åº“åˆ†è¡¨ç­–ç•¥ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8>æ•°æ®åº“åˆ†ç‰‡å®æˆ˜</a> â€”â€” åˆ†ç‰‡é”®é€‰æ‹©ã€è·¯ç”±ç®—æ³•ã€æ‰©å®¹æ–¹æ¡ˆ</li><li>è®¡åˆ’ï¼šå…¨å±€IDç”Ÿæˆã€è·¨åˆ†ç‰‡æŸ¥è¯¢ã€æ•°æ®è¿ç§»</li></ul><h5 id=newsql-æ¢ç´¢>ã€ŒNewSQL æ¢ç´¢ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/NewSQL>TiDB/OceanBase åº”ç”¨</a> â€”â€” HTAPæ¶æ„ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€ç”Ÿæ€é›†æˆ</li><li>è®¡åˆ’ï¼šæ€§èƒ½è°ƒä¼˜ã€è¿ç»´ç®¡æ§ã€æˆæœ¬åˆ†æ</li></ul><hr><h3 id=-é«˜å¹¶å‘æˆ˜ç­–><span style=color:var(--cinnabar)>ğŸš€ ã€Œé«˜å¹¶å‘æˆ˜ç­–ã€</span></h3><h4 id=-æµé‡ç®¡æ§>ğŸª ã€Œæµé‡ç®¡æ§ã€</h4><h5 id=é™æµä¸å‰Šå³°>ã€Œé™æµä¸å‰Šå³°ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E6%B5%81%E9%87%8F%E7%AE%A1%E6%8E%A7>é«˜å¹¶å‘æµé‡æ²»ç†</a> â€”â€” ä»¤ç‰Œæ¡¶/æ¼æ¡¶ç®—æ³•ã€æ»‘åŠ¨çª—å£è®¡æ•°</li><li>è®¡åˆ’ï¼šè‡ªé€‚åº”é™æµã€é›†ç¾¤é™æµã€çƒ­ç‚¹é˜²æŠ¤</li></ul><h5 id=è´Ÿè½½å‡è¡¡ç­–ç•¥>ã€Œè´Ÿè½½å‡è¡¡ç­–ç•¥ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1>è´Ÿè½½å‡è¡¡ç®—æ³•</a> â€”â€” è½®è¯¢/æƒé‡/æœ€å°è¿æ¥/ä¸€è‡´æ€§å“ˆå¸Œ</li><li>è®¡åˆ’ï¼šå¥åº·æ£€æŸ¥ã€æ•…éšœè½¬ç§»ã€åŠ¨æ€æƒé‡è°ƒæ•´</li></ul><h4 id=-æ€§èƒ½ä¼˜åŒ–>âš™ï¸ ã€Œæ€§èƒ½ä¼˜åŒ–ã€</h4><h5 id=jvm-è°ƒä¼˜å®æˆ˜>ã€ŒJVM è°ƒä¼˜å®æˆ˜ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/JVM%E8%B0%83%E4%BC%98>Java æ€§èƒ½ä¼˜åŒ–</a> â€”â€” å†…å­˜æ¨¡å‹ã€GCç®—æ³•ã€çº¿ç¨‹æ± ä¼˜åŒ–</li><li>è®¡åˆ’ï¼šå†…å­˜æ³„æ¼æ’æŸ¥ã€å †å¤–å†…å­˜ç®¡ç†ã€ç›‘æ§å·¥å…·</li></ul><h5 id=æ•°æ®åº“æ€§èƒ½æå‡>ã€Œæ•°æ®åº“æ€§èƒ½æå‡ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96>SQL ä¼˜åŒ–æŒ‡å—</a> â€”â€” ç´¢å¼•è®¾è®¡ã€æ‰§è¡Œè®¡åˆ’ã€é”æœºåˆ¶</li><li>è®¡åˆ’ï¼šè¿æ¥æ± é…ç½®ã€è¯»å†™åˆ†ç¦»ã€æ‰¹é‡æ“ä½œä¼˜åŒ–</li></ul><h4 id=-å¼‚æ­¥åŒ–è®¾è®¡>ğŸ§© ã€Œå¼‚æ­¥åŒ–è®¾è®¡ã€</h4><h5 id=å“åº”å¼ç¼–ç¨‹>ã€Œå“åº”å¼ç¼–ç¨‹ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B>Reactor æ¨¡å‹è§£æ</a> â€”â€” èƒŒå‹æ§åˆ¶ã€äº‹ä»¶å¾ªç¯ã€éé˜»å¡IO</li><li>è®¡åˆ’ï¼šWebFluxå®æˆ˜ã€åç¨‹åº”ç”¨ã€æ€§èƒ½å¯¹æ¯”</li></ul><h5 id=æ‰¹é‡å¤„ç†ä¼˜åŒ–>ã€Œæ‰¹é‡å¤„ç†ä¼˜åŒ–ã€</h5><ul><li>è®¡åˆ’ï¼šæ‰¹å¤„ç†æ¡†æ¶ã€æ•°æ®å‹ç¼©ã€æµæ°´çº¿å¤„ç†</li></ul><hr><h3 id=-æ•°æ®åº“éŸ¬ç•¥><span style=color:var(--cinnabar)>ğŸ—ƒï¸ ã€Œæ•°æ®åº“éŸ¬ç•¥ã€</span></h3><h4 id=-å…³ç³»å‹æ•°æ®åº“>ğŸº ã€Œå…³ç³»å‹æ•°æ®åº“ã€</h4><h5 id=mysql-æ·±åº¦ä¼˜åŒ–>ã€ŒMySQL æ·±åº¦ä¼˜åŒ–ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E4%BC%98%E5%8C%96>InnoDB å­˜å‚¨å¼•æ“</a> â€”â€” B+æ ‘ç´¢å¼•ã€äº‹åŠ¡éš”ç¦»ã€MVCCæœºåˆ¶</li><li>è®¡åˆ’ï¼šå‚æ•°è°ƒä¼˜ã€ä¸»ä»åŒæ­¥ã€é«˜å¯ç”¨æ–¹æ¡ˆ</li></ul><h5 id=postgresql-ç‰¹æ€§>ã€ŒPostgreSQL ç‰¹æ€§ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/PostgreSQL/>PostgreSQL é«˜çº§ç‰¹æ€§</a> â€”â€” çª—å£å‡½æ•°ã€JSONBç±»å‹ã€åœ°ç†æ•°æ®</li><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/>PostgreSQL å®‰è£…</a></li><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/>PostgreSQL ç»„æˆç»“æ„</a></li><li>è®¡åˆ’ï¼šé€»è¾‘å¤åˆ¶ã€åˆ†åŒºè¡¨ã€æ‰©å±•æ’ä»¶</li></ul><h4 id=-nosql-é€‰å‹>ğŸ­ ã€ŒNoSQL é€‰å‹ã€</h4><h5 id=æ–‡æ¡£æ•°æ®åº“>ã€Œæ–‡æ¡£æ•°æ®åº“ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB>MongoDB æ¶æ„è®¾è®¡</a> â€”â€” åˆ†ç‰‡é›†ç¾¤ã€ç´¢å¼•ç­–ç•¥ã€èšåˆç®¡é“</li><li>è®¡åˆ’ï¼šäº‹åŠ¡æ”¯æŒã€å˜æ›´æµã€æ€§èƒ½ä¼˜åŒ–</li></ul><h5 id=æ—¶åºæ•°æ®åº“>ã€Œæ—¶åºæ•°æ®åº“ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93>InfluxDB/TDengine åº”ç”¨</a> â€”â€” æ•°æ®æ¨¡å‹ã€å‹ç¼©ç®—æ³•ã€è¿ç»­æŸ¥è¯¢</li><li>è®¡åˆ’ï¼šç›‘æ§åœºæ™¯å®è·µã€èµ„æºè§„åˆ’</li></ul><h4 id=-æœç´¢ä¸ç´¢å¼•>ğŸ“ˆ ã€Œæœç´¢ä¸ç´¢å¼•ã€</h4><h5 id=elasticsearch-å®æˆ˜>ã€ŒElasticsearch å®æˆ˜ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch>ES é«˜çº§æŸ¥è¯¢</a> â€”â€” åˆ†è¯å™¨ã€ç›¸å…³æ€§ç®—åˆ†ã€èšåˆåˆ†æ</li><li>è®¡åˆ’ï¼šé›†ç¾¤è°ƒä¼˜ã€æ•°æ®ç”Ÿå‘½å‘¨æœŸã€å®‰å…¨ç®¡æ§</li></ul><h5 id=å›¾æ•°æ®åº“åº”ç”¨>ã€Œå›¾æ•°æ®åº“åº”ç”¨ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93>Neo4j å›¾ç®—æ³•</a> â€”â€” CypheræŸ¥è¯¢ã€è·¯å¾„åˆ†æã€ç¤¾åŒºå‘ç°</li><li>è®¡åˆ’ï¼šçŸ¥è¯†å›¾è°±ã€æ¨èç³»ç»Ÿå®æˆ˜</li></ul><hr><h3 id=-ç³»ç»Ÿè®¾è®¡è°‹><span style=color:var(--cinnabar)>ğŸ° ã€Œç³»ç»Ÿè®¾è®¡è°‹ã€</span></h3><h4 id=-æ¶æ„æ¨¡å¼>ğŸ“ ã€Œæ¶æ„æ¨¡å¼ã€</h4><h5 id=åˆ†å±‚æ¶æ„æ¼”è¿›>ã€Œåˆ†å±‚æ¶æ„æ¼”è¿›ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F>æ¶æ„æ¨¡å¼å¯¹æ¯”</a> â€”â€” å•ä½“/åˆ†å±‚/å¾®æœåŠ¡/äº‹ä»¶é©±åŠ¨</li><li>è®¡åˆ’ï¼šæ¶æ„æ¼”è¿›è·¯å¾„ã€æŠ€æœ¯é€‰å‹æ ‡å‡†ã€é‡æ„ç­–ç•¥</li></ul><h5 id=è®¾è®¡åŸåˆ™å®è·µ>ã€Œè®¾è®¡åŸåˆ™å®è·µã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99>SOLID åŸåˆ™å®æˆ˜</a> â€”â€” ä¾èµ–æ³¨å…¥ã€æ¥å£éš”ç¦»ã€å¼€é—­åŸåˆ™</li><li>è®¡åˆ’ï¼šè®¾è®¡æ¨¡å¼åº”ç”¨ã€ä»£ç åå‘³è¯†åˆ«</li></ul><h4 id=-ç³»ç»Ÿåˆ†æ>ğŸ” ã€Œç³»ç»Ÿåˆ†æã€</h4><h5 id=å®¹é‡è§„åˆ’æ–¹æ³•>ã€Œå®¹é‡è§„åˆ’æ–¹æ³•ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%AE%B9%E9%87%8F%E8%A7%84%E5%88%92>ç³»ç»Ÿå®¹é‡è®¾è®¡</a> â€”â€” å‹åŠ›æµ‹è¯•ã€æ€§èƒ½æ¨¡å‹ã€èµ„æºé¢„ä¼°</li><li>è®¡åˆ’ï¼šå¼¹æ€§ä¼¸ç¼©ç­–ç•¥ã€æˆæœ¬æ§åˆ¶ã€ç“¶é¢ˆåˆ†æ</li></ul><h5 id=æ•…éšœé¢„é˜²è®¾è®¡>ã€Œæ•…éšœé¢„é˜²è®¾è®¡ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%B7%B7%E6%B2%8C%E5%B7%A5%E7%A8%8B>æ··æ²Œå·¥ç¨‹å®è·µ</a> â€”â€” æ•…éšœæ³¨å…¥ã€æ¼”ç»ƒæ–¹æ¡ˆã€æ¢å¤ç­–ç•¥</li><li>è®¡åˆ’ï¼šå®¹ç¾æ–¹æ¡ˆã€é™çº§é¢„æ¡ˆã€ç›‘æ§ä½“ç³»</li></ul><h4 id=-api-è®¾è®¡è‰ºæœ¯>ğŸ¨ ã€ŒAPI è®¾è®¡è‰ºæœ¯ã€</h4><h5 id=restful-è§„èŒƒ>ã€ŒRESTful è§„èŒƒã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/API%E8%AE%BE%E8%AE%A1>API è®¾è®¡æœ€ä½³å®è·µ</a> â€”â€” èµ„æºå»ºæ¨¡ã€çŠ¶æ€ç ã€ç‰ˆæœ¬ç®¡ç†</li><li>è®¡åˆ’ï¼šè¶…åª’ä½“APIã€GraphQLå¯¹æ¯”ã€æ–‡æ¡£ç”Ÿæˆ</li></ul><h5 id=å®‰å…¨ä¸è®¤è¯>ã€Œå®‰å…¨ä¸è®¤è¯ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/API%E5%AE%89%E5%85%A8>API å®‰å…¨é˜²æŠ¤</a> â€”â€” OAuth2.0/JWT/ç­¾åéªŒè¯</li><li>è®¡åˆ’ï¼šé€Ÿç‡é™åˆ¶ã€å®¡è®¡æ—¥å¿—ã€æ¼æ´é˜²æŠ¤</li></ul><hr><h3 id=-æ¶æ„å¸ˆè§†é‡><span style=color:var(--cinnabar)>ğŸ”® ã€Œæ¶æ„å¸ˆè§†é‡ã€</span></h3><h4 id=-æŠ€æœ¯æˆ˜ç•¥>ğŸŒŸ ã€ŒæŠ€æœ¯æˆ˜ç•¥ã€</h4><h5 id=æ¶æ„å†³ç­–è®°å½•>ã€Œæ¶æ„å†³ç­–è®°å½•ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E6%9E%B6%E6%9E%84%E5%86%B3%E7%AD%96>ADR ç®¡ç†å®è·µ</a> â€”â€” å†³ç­–æ¡†æ¶ã€æƒè¡¡åˆ†æã€çŸ¥è¯†æ²‰æ·€</li><li>è®¡åˆ’ï¼šæŠ€æœ¯é›·è¾¾ã€åˆ›æ–°é‡‡ç”¨æ›²çº¿ã€æŠ€æœ¯å€ºåŠ¡ç®¡ç†</li></ul><h5 id=å›¢é˜Ÿåä½œæ¨¡å¼>ã€Œå›¢é˜Ÿåä½œæ¨¡å¼ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C>æ¶æ„å¸ˆæˆé•¿è·¯å¾„</a> â€”â€” æŠ€æœ¯è§„åˆ’ã€ä»£ç å®¡æŸ¥ã€çŸ¥è¯†ä¼ é€’</li><li>è®¡åˆ’ï¼šæ¶æ„è¯„å®¡ã€æ ‡å‡†åŒ–å»ºè®¾ã€æ•ˆèƒ½æå‡</li></ul><h4 id=-ç”Ÿäº§å®è·µ>ğŸš¢ ã€Œç”Ÿäº§å®è·µã€</h4><h5 id=ç³»ç»Ÿå¯è§‚æµ‹æ€§>ã€Œç³»ç»Ÿå¯è§‚æµ‹æ€§ã€</h5><ul><li><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7>å¯è§‚æµ‹æ€§ä½“ç³»å»ºè®¾</a> â€”â€” æŒ‡æ ‡/æ—¥å¿—/é“¾è·¯è¿½è¸ªä¸‰ä½ä¸€ä½“</li><li>è®¡åˆ’ï¼šæ ¹å› åˆ†æã€æ™ºèƒ½å‘Šè­¦ã€ç”¨æˆ·ä½“éªŒç›‘æ§</li></ul><h5 id=devops-æ–‡åŒ–>ã€ŒDevOps æ–‡åŒ–ã€</h5><ul><li>è®¡åˆ’ï¼šç ”å‘æµç¨‹ä¼˜åŒ–ã€è‡ªåŠ¨åŒ–ç¨‹åº¦ã€å›¢é˜Ÿåä½œæ”¹è¿›</li></ul><blockquote><p>æ¶æ„ä¹‹é“ï¼Œåœ¨äºå¹³è¡¡è‰ºæœ¯ä¸å·¥ç¨‹ï¼Œåœ¨å¤æ‚æ€§ä¸ç®€æ´æ€§ä¹‹é—´å¯»æ‰¾æœ€ä¼˜è§£ã€‚</p></div></article></main></div><aside class=sidebar><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://google.com/search><label><input class=widget-search__field type=search placeholder=æœç´¢... name=q aria-label=æœç´¢...>
</label><input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sitesearch value=/></form></div><div class="widget-recent widget"><h4 class=widget__title>æœ€æ–°æ–‡ç« </h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>ç®—æ³•æ•°æ®ç»“æ„</a></li><li class=widget__item><a class=widget__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B3%BB%E7%BB%9F%E8%A7%89%E9%86%92%E6%97%B6%E7%A9%BA%E4%B9%B1%E6%B5%81/>ç¬¬äº”ç« ï¼šç³»ç»Ÿè§‰é†’ï¼Œæ—¶ç©ºä¹±æµ</a></li><li class=widget__item><a class=widget__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E9%AC%BC%E8%B0%B7%E5%87%BA%E5%B1%B1%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/>ç¬¬å››ç« ï¼šé¬¼è°·å‡ºå±±ï¼ŒåŠ¨æ€è§„åˆ’</a></li><li class=widget__item><a class=widget__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%9B%BE%E8%AE%BA%E6%9D%80%E5%B1%80%E4%B8%B4%E6%B7%84%E9%A3%8E%E4%BA%91/>ç¬¬ä¸‰ç« ï¼šå›¾è®ºæ€å±€ï¼Œä¸´æ·„é£äº‘</a></li><li class=widget__item><a class=widget__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E4%B9%9D%E7%AB%A0%E8%BF%B7%E5%AE%AB%E7%BE%A4%E9%9B%84%E9%80%90%E9%B9%BF/>ç¬¬äºŒç« ï¼šä¹ç« è¿·å®«ï¼Œç¾¤é›„é€é¹¿</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>åˆ†ç±»</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/%e5%85%b3%e4%ba%8e%e6%88%91>å…³äºæˆ‘</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%89%8d%e7%ab%af%e5%bc%80%e5%8f%91>å‰ç«¯å¼€å‘</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%90%8e%e7%ab%af%e6%9e%b6%e6%9e%84>åç«¯æ¶æ„</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%b7%a5%e5%85%b7%e6%95%88%e7%8e%87>å·¥å…·æ•ˆç‡</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3>å¼€æºæ–‡æ¡£</a></li><li class=widget__item><a class=widget__link href=/categories/%e7%ae%97%e6%b3%95%e4%b8%80%e7%bb%9f%e6%98%a5%e7%a7%8b>ç®—æ³•ä¸€ç»Ÿæ˜¥ç§‹</a></li><li class=widget__item><a class=widget__link href=/categories/%e7%ae%97%e6%b3%95%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84>ç®—æ³•æ•°æ®ç»“æ„</a></li><li class=widget__item><a class=widget__link href=/categories/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80>ç¼–ç¨‹è¯­è¨€</a></li><li class=widget__item><a class=widget__link href=/categories/%e8%bf%90%e7%bb%b4%e9%83%a8%e7%bd%b2>è¿ç»´éƒ¨ç½²</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>æ ‡ç­¾</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/ai title=Ai>Ai (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/c title=C>C (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ci/cd title="Ci cd">Ci cd (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/deepseek title=Deepseek>Deepseek (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/even-loop title="Even loop">Even loop (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java title=Java>Java (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/loadrunner title=Loadrunner>Loadrunner (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ngrok title=Ngrok>Ngrok (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/postgresql title=Postgresql>Postgresql (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e4%ba%91%e5%8e%9f%e7%94%9f title=äº‘åŸç”Ÿ>äº‘åŸç”Ÿ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f title=å†…ç½‘ç©¿é€>å†…ç½‘ç©¿é€ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f title=åˆ†å¸ƒå¼ç³»ç»Ÿ>åˆ†å¸ƒå¼ç³»ç»Ÿ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%88%97%e8%a1%a8 title=åˆ—è¡¨>åˆ—è¡¨ (6)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%8a%9e%e5%85%ac%e8%bd%af%e4%bb%b6 title=åŠå…¬è½¯ä»¶>åŠå…¬è½¯ä»¶ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%ae%b9%e5%99%a8%e5%8c%96 title=å®¹å™¨åŒ–>å®¹å™¨åŒ– (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7 title=å¼€å‘å·¥å…·>å¼€å‘å·¥å…· (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%bc%80%e6%ba%90%e5%8d%8f%e4%bd%9c title=å¼€æºåä½œ>å¼€æºåä½œ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%be%ae%e6%9c%8d%e5%8a%a1 title=å¾®æœåŠ¡>å¾®æœåŠ¡ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%95%b0%e6%8d%ae%e5%ba%93 title=æ•°æ®åº“>æ•°æ®åº“ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%96%87%e6%a1%a3%e7%bc%96%e5%86%99 title=æ–‡æ¡£ç¼–å†™>æ–‡æ¡£ç¼–å†™ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%b5%8b%e8%af%95 title=æµ‹è¯•>æµ‹è¯• (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7 title=æµ‹è¯•å·¥å…·>æµ‹è¯•å·¥å…· (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%89%88%e6%9c%ac%e7%ae%a1%e7%90%86 title=ç‰ˆæœ¬ç®¡ç†>ç‰ˆæœ¬ç®¡ç† (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%9b%91%e6%8e%a7%e6%97%a5%e5%bf%97 title=ç›‘æ§æ—¥å¿—>ç›‘æ§æ—¥å¿— (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%a4%be%e5%8c%ba%e5%bb%ba%e8%ae%be title=ç¤¾åŒºå»ºè®¾>ç¤¾åŒºå»ºè®¾ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ad%94%e9%a2%98%e7%b3%bb%e7%bb%9f title=ç­”é¢˜ç³»ç»Ÿ>ç­”é¢˜ç³»ç»Ÿ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ae%80%e5%8e%86 title=ç®€å†>ç®€å† (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ae%97%e6%b3%95%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84 title=ç®—æ³•æ•°æ®ç»“æ„>ç®—æ³•æ•°æ®ç»“æ„ (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80 title=ç¼–ç¨‹è¯­è¨€>ç¼–ç¨‹è¯­è¨€ (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%bd%91%e7%bb%9c%e9%9a%a7%e9%81%93 title=ç½‘ç»œéš§é“>ç½‘ç»œéš§é“ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%8b%b1%e8%af%ad%e8%af%ad%e6%b3%95 title=è‹±è¯­è¯­æ³•>è‹±è¯­è¯­æ³• (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f title=è®¾è®¡æ¨¡å¼>è®¾è®¡æ¨¡å¼ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%b7%af%e7%ba%bf%e8%a7%84%e5%88%92 title=è·¯çº¿è§„åˆ’>è·¯çº¿è§„åˆ’ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e9%9d%a2%e8%af%95%e9%a2%98 title=é¢è¯•é¢˜>é¢è¯•é¢˜ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e9%ab%98%e5%b9%b6%e5%8f%91 title=é«˜å¹¶å‘>é«˜å¹¶å‘ (1)</a></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">ç¤¾äº¤</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/blowizer target=_blank><svg class="widget-social__link-icon icon-github" viewBox="0 0 384 374" width="24" height="24" fill="#fff"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2C329 348.2 384 276.4 384 191.7 384 85.8 298 0 192 0z"/></svg>
<span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:blowizer@qq.com><svg class="widget-social__link-icon icon-mail" viewBox="0 0 416 288" width="24" height="24" fill="#fff"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg>
<span>blowizer@qq.com</span></a></div></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/post/about/>ä¸ªäººç®€å†-ä¸­æ–‡</a> | <a class=footer__link href=/post/about-en/>ä¸ªäººç®€å†-è‹±æ–‡</a></div><div class=footer__copyright>&copy; 2025 è¡¥æ¼ç –åŒ .
<span class=footer__copyright-credits><a href=# rel="nofollow noopener" target=_blank>å·¦é”®å³é¼ è¿é˜´é˜³ï¼ŒæŒ–å±±å¡«æµ·ç å‡ è¡Œã€‚</a> <a href=# rel="nofollow noopener" target=_blank>äººæµ·æµ®æ²‰çš†è¿‡å®¢ï¼Œæˆ‘æ˜¯äººé—´è¡¥æ¼åŒ ã€‚</a></span></div></div></footer></div><script async defer src=/js/menu.js></script><script src=/js/quiz.js></script><script src=/js/ai-quiz.js></script></body></html>