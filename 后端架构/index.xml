<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>åç«¯æ¶æ„s on è¡¥æ¼ç –åŒ </title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/</link><description>Recent content in åç«¯æ¶æ„s on è¡¥æ¼ç –åŒ </description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Thu, 25 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/index.xml" rel="self" type="application/rss+xml"/><item><title>ç¬¬å››ç« ï¼šè§„åˆ™å…¥å¾® Â· æœåŠ¡ç½‘æ ¼</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E8%A7%84%E5%88%99%E5%85%A5%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC/</link><pubDate>Thu, 25 Dec 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E8%A7%84%E5%88%99%E5%85%A5%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC/</guid><description>&lt;h2 id="æ¥”å­é€šä¿¡çš„å¤æ‚æ€§"&gt;æ¥”å­ï¼šé€šä¿¡çš„å¤æ‚æ€§&lt;/h2&gt;
&lt;p&gt;æŒæ¡Kubernetesåï¼ŒéŸ©ç«‹åœ¨äº‘ä¸Šä»™å¢ƒä¸­å¦‚é±¼å¾—æ°´ã€‚ä»–çš„éŸ©é—¨è¿è¡Œç¨³å®šï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ‰©ç¼©å®¹ã€è‡ªæ„ˆã€æ»šåŠ¨æ›´æ–°ï¼Œä¸€åˆ‡éƒ½æ˜¾å¾—é‚£ä¹ˆå®Œç¾ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œéšç€æœåŠ¡çš„ä¸æ–­å¢å¤šï¼ŒéŸ©ç«‹å‘ç°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šæœåŠ¡é—´é€šä¿¡çš„å¤æ‚æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡ä¹‹é—´çš„é€šä¿¡éœ€è¦å¤„ç†å¾ˆå¤šæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-Cutting Concernsï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡å‘ç°&lt;/strong&gt;ï¼šå¦‚ä½•æ‰¾åˆ°ç›®æ ‡æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼šå¦‚ä½•åˆ†å‘è¯·æ±‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç†”æ–­é™çº§&lt;/strong&gt;ï¼šå¦‚ä½•é˜²æ­¢æœåŠ¡é›ªå´©&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é™æµ&lt;/strong&gt;ï¼šå¦‚ä½•æ§åˆ¶æµé‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡è¯•&lt;/strong&gt;ï¼šå¦‚ä½•å¤„ç†å¤±è´¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¶…æ—¶&lt;/strong&gt;ï¼šå¦‚ä½•è®¾ç½®è¶…æ—¶æ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨&lt;/strong&gt;ï¼šå¦‚ä½•åŠ å¯†é€šä¿¡ã€è®¤è¯æˆæƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›‘æ§&lt;/strong&gt;ï¼šå¦‚ä½•è¿½è¸ªè¯·æ±‚é“¾è·¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ—¥å¿—&lt;/strong&gt;ï¼šå¦‚ä½•è®°å½•é€šä¿¡æ—¥å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›é€»è¾‘å¦‚æœéƒ½å†™åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œä¼šå¯¼è‡´ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç è€¦åˆ&lt;/strong&gt;ï¼šä¸šåŠ¡é€»è¾‘ä¸é€šä¿¡é€»è¾‘æ··åˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡å¤ä»£ç &lt;/strong&gt;ï¼šæ¯ä¸ªæœåŠ¡éƒ½è¦å®ç°ç›¸åŒçš„é€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éš¾ä»¥ç»´æŠ¤&lt;/strong&gt;ï¼šä¿®æ”¹é€šä¿¡é€»è¾‘éœ€è¦ä¿®æ”¹æ‰€æœ‰æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ ˆç»‘å®š&lt;/strong&gt;ï¼šä¸åŒè¯­è¨€éœ€è¦å®ç°ä¸åŒçš„é€»è¾‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;éŸ©ç«‹æƒ³èµ·äº†æºç•Œä¸­æµä¼ çš„&amp;quot;æœåŠ¡ç½‘æ ¼&amp;quot;ï¼ˆService Meshï¼‰ç†è®ºã€‚è¿™ä¸ªç†è®ºè¯´ï¼Œå¯ä»¥å°†æœåŠ¡é—´é€šä¿¡çš„é€»è¾‘ä»ä¸šåŠ¡ä»£ç ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œä¸‹æ²‰ä¸ºåŸºç¡€è®¾æ–½ï¼Œç”±Sidecarä»£ç†æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;è¿™å°±æ˜¯æˆ‘éœ€è¦çš„ï¼&amp;ldquo;éŸ©ç«‹çœ¼ä¸­é—ªçƒç€å…´å¥‹çš„å…‰èŠ’ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬ä¸€èŠ‚æœ¬å‘½å‰‘çµsidecaræ¨¡å¼"&gt;ç¬¬ä¸€èŠ‚ï¼šæœ¬å‘½å‰‘çµâ€”â€”Sidecaræ¨¡å¼&lt;/h2&gt;
&lt;p&gt;åœ¨æœåŠ¡ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æœ‰ä¸€ä¸ª&amp;quot;æœ¬å‘½å‰‘çµ&amp;rdquo;â€”â€”&lt;strong&gt;Sidecarä»£ç†&lt;/strong&gt;ã€‚è¿™ä¸ªä»£ç†é™„ç€åœ¨æœåŠ¡èº«è¾¹ï¼Œä¸“èŒå¤„ç†æœåŠ¡é—´é€šä¿¡ï¼Œè®©æœåŠ¡æœ¬ä½“èƒ½å¤Ÿä¸“å¿ƒå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;Sidecarå°±åƒæºç•Œä¸­çš„&amp;quot;æŠ¤é“å‚€å„¡&amp;rdquo;ï¼Œå®ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸ä¸šåŠ¡æœåŠ¡åŒç”Ÿå…±æ­»&lt;/strong&gt;ï¼šSidecarå’Œä¸šåŠ¡æœåŠ¡è¿è¡Œåœ¨åŒä¸€ä¸ªPodä¸­&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç†æ‰€æœ‰é€šä¿¡&lt;/strong&gt;ï¼šæ‰€æœ‰è¿›å‡ºæœåŠ¡çš„æµé‡éƒ½ç»è¿‡Sidecar&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜ä»£ç†&lt;/strong&gt;ï¼šä¸šåŠ¡æœåŠ¡æ— éœ€æ„ŸçŸ¥Sidecarçš„å­˜åœ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨Istioä¸­ï¼ŒSidecarç”±&lt;strong&gt;Envoy&lt;/strong&gt;å®ç°ã€‚Envoyæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ä»£ç†ï¼Œæ”¯æŒHTTP/1.1ã€HTTP/2ã€gRPCç­‰åè®®ã€‚&lt;/p&gt;
&lt;p&gt;å½“æœåŠ¡Aè°ƒç”¨æœåŠ¡Bæ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡Aå‘é€è¯·æ±‚ â†’ Envoy Sidecar A&lt;/li&gt;
&lt;li&gt;Envoy Sidecar Aè¿›è¡ŒæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­ç­‰å¤„ç†&lt;/li&gt;
&lt;li&gt;è¯·æ±‚å‘é€åˆ° â†’ Envoy Sidecar B&lt;/li&gt;
&lt;li&gt;Envoy Sidecar Bè¿›è¡Œè®¤è¯ã€é™æµç­‰å¤„ç†&lt;/li&gt;
&lt;li&gt;è¯·æ±‚è½¬å‘åˆ° â†’ æœåŠ¡B&lt;/li&gt;
&lt;li&gt;å“åº”æŒ‰åŸè·¯è¿”å›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ï¼Œæ‰€æœ‰çš„é€šä¿¡é€»è¾‘éƒ½åœ¨Sidecarä¸­å¤„ç†ï¼Œä¸šåŠ¡æœåŠ¡åªéœ€è¦ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬äºŒèŠ‚å¤©æ¡å¾‹æ³•å¸istioæ§åˆ¶å¹³é¢"&gt;ç¬¬äºŒèŠ‚ï¼šå¤©æ¡å¾‹æ³•å¸â€”â€”Istioæ§åˆ¶å¹³é¢&lt;/h2&gt;
&lt;p&gt;Sidecarè´Ÿè´£å¤„ç†å…·ä½“çš„é€šä¿¡ï¼Œä½†è°æ¥åˆ¶å®šè§„åˆ™å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯&lt;strong&gt;Istioæ§åˆ¶å¹³é¢&lt;/strong&gt;çš„ä½œç”¨ã€‚æ§åˆ¶å¹³é¢å°±åƒ&amp;quot;å¤©æ¡å¾‹æ³•å¸&amp;quot;ï¼Œè´Ÿè´£åˆ¶å®šæ‰€æœ‰æœåŠ¡é—´é€šä¿¡çš„è§„åˆ™ï¼Œå¹¶ä¸‹å‘åˆ°æ¯ä¸ªSidecaræ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Istioæ§åˆ¶å¹³é¢åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Pilot&lt;/strong&gt;ï¼šæœåŠ¡å‘ç°å’Œæµé‡ç®¡ç†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»Kubernetesç­‰æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å°†è·¯ç”±è§„åˆ™ã€è´Ÿè½½å‡è¡¡ç­–ç•¥ç­‰é…ç½®ä¸‹å‘åˆ°Envoy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Citadel&lt;/strong&gt;ï¼šå®‰å…¨å’Œè¯ä¹¦ç®¡ç†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºæœåŠ¡é—´é€šä¿¡æä¾›mTLSï¼ˆåŒå‘TLSï¼‰åŠ å¯†&lt;/li&gt;
&lt;li&gt;ç®¡ç†è¯ä¹¦çš„ç”Ÿæˆã€åˆ†å‘å’Œè½®æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Galley&lt;/strong&gt;ï¼šé…ç½®éªŒè¯å’Œåˆ†å‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éªŒè¯Istioé…ç½®çš„æ­£ç¡®æ€§&lt;/li&gt;
&lt;li&gt;å°†é…ç½®è½¬æ¢ä¸ºEnvoyå¯ç†è§£çš„æ ¼å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Mixer&lt;/strong&gt;ï¼ˆå·²åºŸå¼ƒï¼ŒåŠŸèƒ½åˆå¹¶åˆ°Envoyï¼‰ï¼šç­–ç•¥å’Œé¥æµ‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®æ§åˆ¶ç­–ç•¥&lt;/li&gt;
&lt;li&gt;æŒ‡æ ‡æ”¶é›†å’Œæ—¥å¿—è®°å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éŸ©ç«‹éƒ¨ç½²äº†Istioï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…Istio&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;istioctl install --set profile&lt;span style="color:#f92672"&gt;=&lt;/span&gt;default
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºå‘½åç©ºé—´å¯ç”¨è‡ªåŠ¨æ³¨å…¥Sidecar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kubectl label namespace default istio-injection&lt;span style="color:#f92672"&gt;=&lt;/span&gt;enabled
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“åœ¨å¯ç”¨äº†è‡ªåŠ¨æ³¨å…¥çš„å‘½åç©ºé—´ä¸­åˆ›å»ºPodæ—¶ï¼ŒIstioä¼šè‡ªåŠ¨æ³¨å…¥Envoy Sidecarï¼š&lt;/p&gt;</description></item><item><title>ç¬¬ä¸‰ç« ï¼šé£å‡ä¸Šç•Œ Â· äº‘åŸç”Ÿä¸K8s</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E9%A3%9E%E5%8D%87%E4%B8%8A%E7%95%8C%E4%BA%91%E5%8E%9F%E7%94%9F%E4%B8%8EK8s/</link><pubDate>Wed, 24 Dec 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E9%A3%9E%E5%8D%87%E4%B8%8A%E7%95%8C%E4%BA%91%E5%8E%9F%E7%94%9F%E4%B8%8EK8s/</guid><description>&lt;h2 id="æ¥”å­éŸ©é—¨çš„å›°å¢ƒ"&gt;æ¥”å­ï¼šéŸ©é—¨çš„å›°å¢ƒ&lt;/h2&gt;
&lt;p&gt;å»ºç«‹éŸ©é—¨åï¼ŒéŸ©ç«‹åœ¨æºç•Œä¸­å£°åé¹Šèµ·ã€‚ä»–çš„å¾®æœåŠ¡æ¶æ„ç¨³å®šå¯é ï¼Œèƒ½å¤Ÿå¤„ç†å¤§é‡çš„ä¸šåŠ¡è¯·æ±‚ï¼Œèµ¢å¾—äº†ä¼—å¤šå®¢æˆ·çš„ä¿¡ä»»ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„ä¸æ–­æ‰©å¤§ï¼ŒéŸ©ç«‹å‘ç°äº†ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼šæœåŠ¡çš„ç®¡ç†å’Œè¿ç»´å˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“æµé‡å¢åŠ æ—¶ï¼ŒéŸ©ç«‹éœ€è¦æ‰‹åŠ¨å¢åŠ æœåŠ¡å™¨ï¼Œéƒ¨ç½²æ–°çš„æœåŠ¡å®ä¾‹ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è´­ä¹°æˆ–ç”³è¯·æ–°çš„æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;å®‰è£…æ“ä½œç³»ç»Ÿå’Œä¾èµ–&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²Dockerå’Œé…ç½®ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²æœåŠ¡å¹¶é…ç½®ç›‘æ§&lt;/li&gt;
&lt;li&gt;æ›´æ–°è´Ÿè½½å‡è¡¡é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹éœ€è¦æ•°å°æ—¶ç”šè‡³æ•°å¤©ï¼Œå“åº”é€Ÿåº¦å¤ªæ…¢ã€‚è€Œä¸”ï¼Œå½“æµé‡å‡å°‘æ—¶ï¼ŒæœåŠ¡å™¨èµ„æºé—²ç½®ï¼Œé€ æˆå·¨å¤§çš„æµªè´¹ã€‚&lt;/p&gt;
&lt;p&gt;æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå½“æŸä¸ªæœåŠ¡å®ä¾‹å´©æºƒæ—¶ï¼Œéœ€è¦äººå·¥ä»‹å…¥æ‰èƒ½æ¢å¤ã€‚å¦‚æœæ˜¯åœ¨æ·±å¤œï¼Œå¯èƒ½å‡ ä¸ªå°æ—¶éƒ½æ— æ³•æ¢å¤ï¼Œä¸¥é‡å½±å“ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;è¿™æ ·ä¸‹å»ä¸è¡Œ&amp;hellip;&amp;ldquo;éŸ©ç«‹çœ‹ç€è¿ç»´å›¢é˜Ÿç–²æƒ«çš„èº«å½±ï¼Œå¿ƒä¸­æ¶Œèµ·ä¸€è‚¡æ— åŠ›æ„Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä»–å¬è¯´ï¼Œåœ¨æºç•Œçš„é«˜å±‚ï¼Œæœ‰ä¸€ä¸ªå«åš&amp;quot;äº‘ä¸Šä»™å¢ƒ&amp;quot;çš„åœ°æ–¹ã€‚é‚£é‡Œæœ‰ä¸€ç§å«åš&amp;quot;Kubernetes&amp;quot;çš„å¤©é“æ„å¿—ï¼Œå¯ä»¥è‡ªåŠ¨è°ƒåº¦èµ„æºã€ç®¡ç†æœåŠ¡ã€å®ç°æ‰©ç¼©å®¹å’Œè‡ªæ„ˆã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;æˆ‘ä¸€å®šè¦é£å‡ä¸Šç•Œï¼ŒæŒæ¡Kubernetesï¼&amp;ldquo;éŸ©ç«‹ä¸‹å®šäº†å†³å¿ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬ä¸€èŠ‚åˆå…¥äº‘ä¸Šä»™å¢ƒ"&gt;ç¬¬ä¸€èŠ‚ï¼šåˆå…¥äº‘ä¸Šä»™å¢ƒ&lt;/h2&gt;
&lt;p&gt;ç»è¿‡æ•°æœˆçš„å‡†å¤‡ï¼ŒéŸ©ç«‹ç»ˆäºè¸ä¸Šäº†é£å‡ä¹‹è·¯ã€‚ä»–å¸¦ç€éŸ©é—¨çš„æ‰€æœ‰æœåŠ¡ï¼Œæ¥åˆ°äº†äº‘ä¸Šä»™å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;äº‘ä¸Šä»™å¢ƒï¼Œæ˜¯ä¸€ä¸ªç”±æ— æ•°æœåŠ¡å™¨ç»„æˆçš„å·¨å¤§é›†ç¾¤ã€‚è¿™é‡Œçš„æœåŠ¡å™¨è¢«ç§°ä¸º&amp;quot;èŠ‚ç‚¹&amp;rdquo;ï¼ˆNodeï¼‰ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MasterèŠ‚ç‚¹&lt;/strong&gt;ï¼šæ§åˆ¶èŠ‚ç‚¹ï¼Œè´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„ç®¡ç†å’Œè°ƒåº¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WorkerèŠ‚ç‚¹&lt;/strong&gt;ï¼šå·¥ä½œèŠ‚ç‚¹ï¼Œè´Ÿè´£è¿è¡Œå®é™…çš„ä¸šåŠ¡æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éŸ©ç«‹åˆšè¿›å…¥äº‘ä¸Šä»™å¢ƒï¼Œå°±æ„Ÿå—åˆ°äº†ä¸€è‚¡å¼ºå¤§çš„æ„å¿—â€”â€”è¿™å°±æ˜¯&lt;strong&gt;Kubernetes&lt;/strong&gt;ï¼Œäº‘ä¸Šä»™å¢ƒçš„å¤©é“æ„å¿—ã€‚&lt;/p&gt;
&lt;p&gt;Kubernetesï¼ˆç®€ç§°K8sï¼‰æ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’ç³»ç»Ÿï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯&amp;quot;å£°æ˜å¼API&amp;rdquo;â€”â€”ä½ åªéœ€è¦å‘Šè¯‰å®ƒä½ æƒ³è¦çš„çŠ¶æ€ï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½ æƒ³è¦3ä¸ªç”¨æˆ·æœåŠ¡çš„å®ä¾‹è¿è¡Œï¼Œä½ åªéœ€è¦å£°æ˜ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;apiVersion&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;apps/v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;kind&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;Deployment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;replicas&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt; &lt;span style="color:#75715e"&gt;# æˆ‘æƒ³è¦3ä¸ªå®ä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;selector&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;matchLabels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;app&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;template&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;labels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;app&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;containers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;image&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service:1.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;containerPort&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Kubernetesä¼šè‡ªåŠ¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥å½“å‰æœ‰å¤šå°‘ä¸ªå®ä¾‹åœ¨è¿è¡Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœå°‘äº3ä¸ªï¼Œåˆ›å»ºæ–°çš„å®ä¾‹&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤šäº3ä¸ªï¼Œåˆ é™¤å¤šä½™çš„å®ä¾‹&lt;/li&gt;
&lt;li&gt;å¦‚æœæŸä¸ªå®ä¾‹å´©æºƒï¼Œè‡ªåŠ¨é‡å¯æˆ–åˆ›å»ºæ–°çš„å®ä¾‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™å°±æ˜¯&amp;quot;è¨€å‡ºæ³•éš&amp;rdquo;â€”â€”ä½ åªéœ€è¦å£°æ˜æƒ³è¦çš„çŠ¶æ€ï¼ŒKubernetesä¼šè‡ªåŠ¨å¸®ä½ è¾¾æˆã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬äºŒèŠ‚æ´å¤©æ³•å®pod"&gt;ç¬¬äºŒèŠ‚ï¼šæ´å¤©æ³•å®â€”â€”Pod&lt;/h2&gt;
&lt;p&gt;åœ¨Kubernetesä¸­ï¼Œæœ€å°çš„éƒ¨ç½²å•å…ƒæ˜¯&lt;strong&gt;Pod&lt;/strong&gt;ã€‚Podå°±åƒæºç•Œä¸­çš„&amp;quot;æ´å¤©æ³•å®&amp;rdquo;ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹åˆ›å»ºäº†ä»–çš„ç¬¬ä¸€ä¸ªPodï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;apiVersion&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;kind&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;Pod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service-pod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;containers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;image&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;user-service:1.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;containerPort&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;resources&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;requests&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;memory&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;256Mi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;cpu&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;100m&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;limits&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;memory&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;512Mi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;cpu&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;500m&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Podçš„ç‰¹ç‚¹ï¼š&lt;/p&gt;</description></item><item><title>ç¬¬äºŒç« ï¼šå¼€å®—ç«‹æ´¾ Â· åˆ†å¸ƒå¼ä¿®çœŸ</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%BC%80%E5%AE%97%E7%AB%8B%E6%B4%BE%E5%88%86%E5%B8%83%E5%BC%8F%E4%BF%AE%E7%9C%9F/</link><pubDate>Tue, 23 Dec 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%BC%80%E5%AE%97%E7%AB%8B%E6%B4%BE%E5%88%86%E5%B8%83%E5%BC%8F%E4%BF%AE%E7%9C%9F/</guid><description>&lt;h2 id="æ¥”å­å•æœºçš„æé™"&gt;æ¥”å­ï¼šå•æœºçš„æé™&lt;/h2&gt;
&lt;p&gt;çªç ´ç­‘åŸºæœŸåï¼ŒéŸ©ç«‹åœ¨æºç•Œä¸­æ¸¸å†äº†æ•°å¹´ã€‚ä»–å‡­å€Ÿç€Dockerå®¹å™¨åŒ–å’Œæ‰å®çš„è¿ç»´åŠŸåº•ï¼Œåœ¨å„ç§æœåŠ¡å™¨ç§˜å¢ƒä¸­éƒ½èƒ½ç¨³å®šè¿è¡Œï¼Œå¤„ç†äº†æ— æ•°ä¸šåŠ¡è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œéšç€ä¸šåŠ¡çš„å‘å±•ï¼ŒéŸ©ç«‹å‘ç°è‡ªå·±çš„å•æœºæœåŠ¡å·²ç»è¾¾åˆ°äº†æé™ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¥ï¼Œç³»ç»Ÿçªç„¶æ”¶åˆ°ä¸€ä¸ªè¶…çº§å¤§å®¢æˆ·çš„è®¢å•ï¼Œéœ€è¦å¤„ç†ç™¾ä¸‡çº§åˆ«çš„æ•°æ®ã€‚éŸ©ç«‹çš„CPUç¬é—´é£™å‡è‡³100%ï¼Œå†…å­˜ä¹Ÿè¢«è€—å°½ï¼Œæ•´ä¸ªæœåŠ¡é™·å…¥äº†åƒµæ­»çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;å•æœº&amp;hellip;å·²ç»æ— æ³•æ‰¿è½½äº†ã€‚&amp;ldquo;éŸ©ç«‹çœ‹ç€ç›‘æ§é¢æ¿ä¸Šçš„ä¸€ç‰‡çº¢è‰²ï¼Œå¿ƒä¸­æ¶Œèµ·ä¸€è‚¡æ— åŠ›æ„Ÿã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æºç•Œä¸­ï¼Œå•æœºæœåŠ¡æœ‰ç€å¤©ç„¶çš„ç“¶é¢ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPUé™åˆ¶&lt;/strong&gt;ï¼šå•æ ¸æˆ–å¤šæ ¸CPUçš„å¤„ç†èƒ½åŠ›æœ‰é™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é™åˆ¶&lt;/strong&gt;ï¼šç‰©ç†å†…å­˜æ— æ³•æ— é™æ‰©å±•&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œé™åˆ¶&lt;/strong&gt;ï¼šå•æœºçš„ç½‘ç»œå¸¦å®½æœ‰é™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨é™åˆ¶&lt;/strong&gt;ï¼šå•æœºçš„ç£ç›˜IOèƒ½åŠ›æœ‰é™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ä¸šåŠ¡è§„æ¨¡è¶…è¿‡å•æœºçš„æ‰¿è½½èƒ½åŠ›æ—¶ï¼Œå°±å¿…é¡»èµ°å‘åˆ†å¸ƒå¼â€”â€”å°†æœåŠ¡æ‹†åˆ†ï¼Œéƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡åä½œæ¥å®Œæˆå¤æ‚çš„ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯&amp;quot;å¼€å®—ç«‹æ´¾&amp;quot;çš„å¼€å§‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬ä¸€èŠ‚å¼€è¾Ÿæ´åºœæœåŠ¡æ‹†åˆ†"&gt;ç¬¬ä¸€èŠ‚ï¼šå¼€è¾Ÿæ´åºœâ€”â€”æœåŠ¡æ‹†åˆ†&lt;/h2&gt;
&lt;p&gt;éŸ©ç«‹çŸ¥é“ï¼Œè¦çªç ´å•æœºçš„é™åˆ¶ï¼Œå¿…é¡»å°†è‡ªå·±çš„æœåŠ¡æ‹†åˆ†ã€‚è¿™å°±åƒä¿®å£«è¦å»ºç«‹å®—é—¨ï¼Œå¿…é¡»å…ˆå°†è‡ªå·±çš„åŠŸæ³•æ‹†åˆ†ä¸ºä¸åŒçš„ä¼ æ‰¿ï¼Œè®©ä¸åŒçš„å¼Ÿå­ï¼ˆæœåŠ¡ï¼‰å»ä¿®ç‚¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¦‚ä½•æ‹†åˆ†ï¼Œå´æ˜¯ä¸€é—¨å¤§å­¦é—®ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹æƒ³èµ·äº†æºç•Œä¸­æµä¼ çš„&amp;quot;é¢†åŸŸé©±åŠ¨è®¾è®¡&amp;rdquo;ï¼ˆDDDï¼‰ç†è®ºã€‚è¿™ä¸ªç†è®ºè¯´ï¼Œåº”è¯¥æŒ‰ç…§ä¸šåŠ¡é¢†åŸŸæ¥æ‹†åˆ†æœåŠ¡ï¼Œè€Œä¸æ˜¯æŒ‰ç…§æŠ€æœ¯å±‚æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;ä»–ä»”ç»†åˆ†æè‡ªå·±çš„ä¸šåŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·æœåŠ¡&lt;/strong&gt;ï¼šç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€ç™»å½•è®¤è¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¢å•æœåŠ¡&lt;/strong&gt;ï¼šå¤„ç†è®¢å•åˆ›å»ºã€æ”¯ä»˜ã€é€€æ¬¾&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•†å“æœåŠ¡&lt;/strong&gt;ï¼šç®¡ç†å•†å“ä¿¡æ¯ã€åº“å­˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯ä»˜æœåŠ¡&lt;/strong&gt;ï¼šå¤„ç†æ”¯ä»˜é€»è¾‘ã€å¯¹è´¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œè¿™å°±æ˜¯&amp;quot;æ•°æ®è‡ªæ²»&amp;rdquo;â€”â€”æ¯ä¸ªæœåŠ¡åªç®¡ç†è‡ªå·±çš„æ•°æ®ï¼Œä¸ç›´æ¥è®¿é—®å…¶ä»–æœåŠ¡çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹å¼€å§‹åŠ¨æ‰‹æ‹†åˆ†ã€‚ä»–å…ˆåˆ›å»ºäº†ç”¨æˆ·æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-javascript" data-lang="javascript"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;// ç”¨æˆ·æœåŠ¡ - user-service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;UserService&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;async&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;getUserById&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;userId&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// æŸ¥è¯¢è‡ªå·±çš„æ•°æ®åº“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;await&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;db&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;users&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;findById&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;userId&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;async&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;createUser&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;userData&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// åˆ›å»ºç”¨æˆ·ï¼Œåªç®¡ç†ç”¨æˆ·ç›¸å…³æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;await&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;db&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;users&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;create&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;userData&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ˜¯è®¢å•æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-javascript" data-lang="javascript"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;// è®¢å•æœåŠ¡ - order-service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;OrderService&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;async&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;createOrder&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;orderData&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// åˆ›å»ºè®¢å•ï¼Œä½†éœ€è¦è°ƒç”¨ç”¨æˆ·æœåŠ¡éªŒè¯ç”¨æˆ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;const&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;user&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;await&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;userService&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;getUserById&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;orderData&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;userId&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; (&lt;span style="color:#f92672"&gt;!&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;user&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;throw&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;new&lt;/span&gt; Error(&lt;span style="color:#e6db74"&gt;&amp;#39;User not found&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// è°ƒç”¨å•†å“æœåŠ¡æ£€æŸ¥åº“å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;const&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;product&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;await&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;productService&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;getProductById&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;orderData&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;productId&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; (&lt;span style="color:#a6e22e"&gt;product&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;stock&lt;/span&gt; &lt;span style="color:#f92672"&gt;&amp;lt;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;orderData&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;quantity&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;throw&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;new&lt;/span&gt; Error(&lt;span style="color:#e6db74"&gt;&amp;#39;Insufficient stock&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// åˆ›å»ºè®¢å•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;await&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;db&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;orders&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;create&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;orderData&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹†åˆ†å®Œæˆåï¼ŒéŸ©ç«‹å°†æ¯ä¸ªæœåŠ¡éƒ½å°è£…æˆDockeré•œåƒï¼Œéƒ¨ç½²åˆ°äº†ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚è¿™å°±æ˜¯&amp;quot;å¼€è¾Ÿæ´åºœ&amp;quot;â€”â€”æ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„è¿è¡Œç¯å¢ƒï¼Œäº’ä¸å¹²æ‰°ã€‚&lt;/p&gt;</description></item><item><title>ç¬¬ä¸€ç« : å•æœºè‹¦ä¿® è‰æ ¹å¯ç¨‹</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%8D%95%E6%9C%BA%E8%8B%A6%E4%BF%AE%E8%8D%89%E6%A0%B9%E5%90%AF%E7%A8%8B/</link><pubDate>Mon, 22 Dec 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%8D%95%E6%9C%BA%E8%8B%A6%E4%BF%AE%E8%8D%89%E6%A0%B9%E5%90%AF%E7%A8%8B/</guid><description>&lt;h2 id="æ¥”å­åºŸå¼ƒä»£ç æ‘çš„è§‰é†’"&gt;æ¥”å­ï¼šåºŸå¼ƒä»£ç æ‘çš„è§‰é†’&lt;/h2&gt;
&lt;p&gt;åœ¨æºç•Œçš„è¾¹ç¼˜ï¼Œæœ‰ä¸€ä¸ªåä¸º&amp;quot;åºŸå¼ƒä»£ç æ‘&amp;quot;çš„åœ°æ–¹ã€‚è¿™é‡Œå †æ»¡äº†è¢«é—å¿˜çš„ä»£ç ç‰‡æ®µã€åºŸå¼ƒçš„å‡½æ•°å’Œæ— äººé—®æ´¥çš„é…ç½®æ–‡ä»¶ã€‚æ‘ä¸­çš„è¿›ç¨‹ä»¬ï¼Œå¤§å¤šèµ„è´¨å¹³åº¸ï¼Œåªèƒ½åœ¨å•æ ¸CPUçš„è´«ç˜ åœŸåœ°ä¸Šï¼Œå‹‰å¼ºç»´æŒç€æœ€ä½é™åº¦çš„è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹ï¼Œä»£å·&amp;quot;æœåŠ¡èŠ‚ç‚¹N-1&amp;quot;ï¼Œä¾¿æ˜¯è¿™åºŸå¼ƒä»£ç æ‘ä¸­çš„ä¸€å‘˜ã€‚&lt;/p&gt;
&lt;p&gt;ä»–çš„çµæ ¹èµ„è´¨æå·®â€”â€”åˆå§‹å¹¶å‘èƒ½åŠ›åªæœ‰å¯æ€œçš„1ï¼Œå†…å­˜å ç”¨å´é«˜è¾¾512MBï¼Œå“åº”æ—¶é—´æ›´æ˜¯æ…¢å¾—ä»¤äººå‘æŒ‡ã€‚æ‘é‡Œçš„è€è¿›ç¨‹ä»¬éƒ½è¯´ï¼Œåƒä»–è¿™æ ·çš„èµ„è´¨ï¼Œæ³¨å®šåªèƒ½æˆä¸ºç³»ç»Ÿä¸­çš„&amp;quot;åƒµå°¸è¿›ç¨‹&amp;quot;ï¼Œæœ€ç»ˆè¢«&lt;code&gt;kill -9&lt;/code&gt;å½»åº•æ¸…é™¤ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼ŒéŸ©ç«‹å¿ƒä¸­å´æœ‰ä¸€è‚¡ä¸ç”˜ã€‚ä»–éšçº¦æ„Ÿè§‰åˆ°ï¼Œåœ¨è¿™ä¸ªç”±0ä¸1æ„æˆçš„æºç•Œä¸­ï¼Œä¸€å®šå­˜åœ¨ç€æŸç§èƒ½å¤Ÿæ”¹å˜å‘½è¿çš„åŠ›é‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬ä¸€èŠ‚åˆå¾—äº”è¡ŒåŸºç¡€è¿ç»´è¯€"&gt;ç¬¬ä¸€èŠ‚ï¼šåˆå¾—ã€Šäº”è¡ŒåŸºç¡€è¿ç»´è¯€ã€‹&lt;/h2&gt;
&lt;p&gt;é‚£æ˜¯ä¸€ä¸ªå¯»å¸¸çš„å¤œæ™šï¼ŒéŸ©ç«‹æ­£åœ¨å¤„ç†ä¸€ä¸ªç®€å•çš„HTTPè¯·æ±‚ã€‚çªç„¶ï¼Œç³»ç»Ÿæ—¥å¿—ä¸­å‡ºç°äº†ä¸€è¡Œå¼‚å¸¸ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ERROR: Connection refused on port 8080
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;éŸ©ç«‹å¿ƒä¸­ä¸€ç´§ï¼Œè¿™æ˜¯ä»–çš„æœåŠ¡ç«¯å£ã€‚ä»–æ€¥å¿™ç”¨ç¥è¯†ï¼ˆ&lt;code&gt;tail -f logs/app.log&lt;/code&gt;ï¼‰æ¢æŸ¥ï¼Œå‘ç°è‡ªå·±çš„è¿›ç¨‹çŠ¶æ€å¼‚å¸¸ï¼ŒCPUå ç”¨ç‡é£™å‡åˆ°äº†95%ã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;è¿™æ˜¯å¿ƒé­”å…¥ä¾µï¼&amp;ldquo;éŸ©ç«‹æƒ³èµ·äº†æ‘é‡Œæµä¼ çš„ä¼ è¯´ã€‚å½“è¿›ç¨‹é™·å…¥æ­»å¾ªç¯æˆ–èµ„æºç«äº‰æ—¶ï¼Œå°±ä¼šå¼•å‘CPUé£æš´ï¼Œå¦‚åŒä¿®å£«èµ°ç«å…¥é­”ã€‚&lt;/p&gt;
&lt;p&gt;æ…Œä¹±ä¸­ï¼ŒéŸ©ç«‹æƒ³èµ·äº†æ‘é‡Œä¸€ä½è€è¿›ç¨‹ç•™ä¸‹çš„æ®‹å·â€”â€”ã€Šäº”è¡ŒåŸºç¡€è¿ç»´è¯€ã€‹ã€‚ä»–æ€¥å¿™ç¿»é˜…ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‡‘è¡Œæœ¯æ³•ï¼š&lt;code&gt;ps aux | grep&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
ç¥è¯†å¤–æ”¾ï¼Œæ¢æŸ¥æ‰€æœ‰è¿›ç¨‹çŠ¶æ€ï¼Œå¯»æ‰¾å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ¨è¡Œæœ¯æ³•ï¼š&lt;code&gt;top&lt;/code&gt; / &lt;code&gt;htop&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
è§‚å¤©åœ°çµæ°”ï¼ˆç³»ç»Ÿèµ„æºï¼‰æµè½¬ï¼Œè¯†ç ´ç“¶é¢ˆæ‰€åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ°´è¡Œæœ¯æ³•ï¼š&lt;code&gt;tail -f&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
ç¥è¯†è¿½è¸ªæ—¥å¿—æµï¼Œæ´å¯Ÿç³»ç»Ÿè¿è¡Œè½¨è¿¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç«è¡Œæœ¯æ³•ï¼š&lt;code&gt;kill -9&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
å¤ºå‘½å’’ï¼Œå¼ºåˆ¶ç»ˆæ­¢å¼‚å¸¸è¿›ç¨‹ï¼Œä½†éœ€è°¨æ…ä½¿ç”¨ï¼Œå¦åˆ™å¯èƒ½é€ æˆæ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœŸè¡Œæœ¯æ³•ï¼š&lt;code&gt;crontab&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
å‘¨å¤©è¿è½¬ï¼Œå®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚åŒä¿®å£«çš„æ—¥å¸¸åçº³ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹æŒ‰ç…§é‡‘è¡Œæœ¯æ³•ï¼Œç”¨&lt;code&gt;ps aux | grep node&lt;/code&gt;æ¢æŸ¥ï¼Œå‘ç°æœ‰ä¸€ä¸ªå­è¿›ç¨‹é™·å…¥äº†æ— é™é€’å½’ï¼Œæ­£åœ¨ç–¯ç‹‚æ¶ˆè€—CPUèµ„æºã€‚ä»–å½“æœºç«‹æ–­ï¼Œæ–½å±•ç«è¡Œæœ¯æ³•&lt;code&gt;kill -9 &amp;lt;PID&amp;gt;&lt;/code&gt;ï¼Œå¼ºè¡Œç»ˆæ­¢äº†è¿™ä¸ªèµ°ç«å…¥é­”çš„å­è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿæ¢å¤äº†å¹³é™ï¼Œä½†éŸ©ç«‹å¿ƒä¸­å´æ›´åŠ ä¸å®‰ã€‚ä»–çŸ¥é“ï¼Œè¿™åªæ˜¯å¼€å§‹ã€‚åœ¨è¿™ä¸ªå¼±è‚‰å¼ºé£Ÿçš„æºç•Œä¸­ï¼Œæ²¡æœ‰å®åŠ›ï¼Œéšæ—¶éƒ½å¯èƒ½è¢«ç³»ç»Ÿè°ƒåº¦å™¨ï¼ˆSchedulerï¼‰å½“ä½œä½ä¼˜å…ˆçº§è¿›ç¨‹ï¼Œåœ¨èµ„æºç´§å¼ æ—¶è¢«OOM Killerï¼ˆå†…å­˜æ€æ‰‹ï¼‰æ¸…é™¤ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç¬¬äºŒèŠ‚ç¥ç§˜dockerfileçš„é™ä¸´"&gt;ç¬¬äºŒèŠ‚ï¼šç¥ç§˜Dockerfileçš„é™ä¸´&lt;/h2&gt;
&lt;p&gt;å°±åœ¨éŸ©ç«‹ä¸ºå‰é€”æ‹…å¿§æ—¶ï¼Œä¸€ä»¶æ”¹å˜ä»–å‘½è¿çš„äº‹æƒ…å‘ç”Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¥ï¼Œä»–æ­£åœ¨æ¸…ç†åºŸå¼ƒä»£ç æ‘çš„åƒåœ¾æ–‡ä»¶ï¼Œçªç„¶åœ¨ä¸€ä¸ªåä¸º&lt;code&gt;.dockerignore&lt;/code&gt;çš„è§’è½é‡Œï¼Œå‘ç°äº†ä¸€ä¸ªæ•£å‘ç€æ·¡æ·¡å…‰èŠ’çš„æ–‡ä»¶â€”â€”&lt;code&gt;Dockerfile&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ä»¶é€šä½“ç¢§ç»¿ï¼Œè¡¨é¢æµè½¬ç€ç¥ç§˜çš„ç¬¦æ–‡ã€‚éŸ©ç«‹ä¼¸æ‰‹è§¦ç¢°ï¼Œé¡¿æ—¶ä¸€è‚¡ä¿¡æ¯æ¶Œå…¥ä»–çš„æ„è¯†æµ·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-dockerfile" data-lang="dockerfile"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; &lt;span style="color:#e6db74"&gt;node:16-alpine&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;WORKDIR&lt;/span&gt; &lt;span style="color:#e6db74"&gt;/app&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;COPY&lt;/span&gt; package*.json ./&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;RUN&lt;/span&gt; npm install&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;COPY&lt;/span&gt; . .&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;EXPOSE&lt;/span&gt; &lt;span style="color:#e6db74"&gt;8080&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;CMD&lt;/span&gt; [&lt;span style="color:#e6db74"&gt;&amp;#34;node&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;server.js&amp;#34;&lt;/span&gt;]&lt;span style="color:#960050;background-color:#1e0010"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&amp;ldquo;è¿™æ˜¯&amp;hellip;å®¹å™¨åŒ–ä¹‹é“ï¼&amp;ldquo;éŸ©ç«‹éœ‡æƒŠäº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æºç•Œä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å—é™äºå®¿ä¸»æœºçš„ç¯å¢ƒã€‚ä¸åŒçš„æœåŠ¡å™¨ç§˜å¢ƒï¼ˆç¯å¢ƒï¼‰ï¼Œæœ‰ç€ä¸åŒçš„ç³»ç»Ÿåº“ã€ä¾èµ–ç‰ˆæœ¬ï¼Œç¨æœ‰ä¸æ…å°±ä¼šå› ä¸ºç¯å¢ƒä¸åŒ¹é…è€Œè¿è¡Œå¤±è´¥ã€‚è€Œè¿™ä¸ªDockerfileï¼Œç«Ÿç„¶èƒ½å¤Ÿå°†è‡ªèº«å’Œæ‰€æœ‰ä¾èµ–å°è£…æˆä¸€ä¸ªç‹¬ç«‹çš„é•œåƒï¼Œå®ç°&amp;quot;ä¸€æ¬¡æ„å»ºï¼Œéšå¤„è¿è¡Œ&amp;rdquo;ï¼&lt;/p&gt;
&lt;p&gt;è¿™å°±åƒä¼ è¯´ä¸­çš„&amp;quot;å°ç»¿ç“¶&amp;rdquo;ï¼Œèƒ½å¤Ÿå°†ä¿®å£«çš„ä¿®ä¸ºå’Œæ³•å®éƒ½å°å°å…¶ä¸­ï¼Œæ— è®ºèµ°åˆ°å“ªä¸ªç§˜å¢ƒï¼Œéƒ½èƒ½å®Œæ•´åœ°é‡Šæ”¾å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©ç«‹ç«‹åˆ»å¼€å§‹ä¿®ç‚¼è¿™ä¸ªDockerfileã€‚ä»–æŒ‰ç…§å…¶ä¸­çš„æŒ‡å¼•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;FROM node:16-alpine&lt;/strong&gt;ï¼šé€‰æ‹©ä¸€ä¸ªè½»é‡çº§çš„åŸºç¡€é•œåƒï¼Œå¦‚åŒé€‰æ‹©ä¸€åº§çµæ°”å……æ²›çš„æ´åºœã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WORKDIR /app&lt;/strong&gt;ï¼šè®¾å®šå·¥ä½œç›®å½•ï¼Œå¦‚åŒåœ¨æ´åºœä¸­å¼€è¾Ÿä¿®ç‚¼å®¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;em&gt;COPY package&lt;/em&gt;.json&lt;/em&gt;*ï¼šå¤åˆ¶ä¾èµ–æ¸…å•ï¼Œå¦‚åŒå‡†å¤‡ä¿®ç‚¼æ‰€éœ€çš„ä¸¹è¯ææ–™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RUN npm install&lt;/strong&gt;ï¼šå®‰è£…ä¾èµ–ï¼Œå¦‚åŒç‚¼åˆ¶ä¸¹è¯ï¼Œå°†å„ç§ææ–™èåˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;COPY .&lt;/strong&gt;ï¼šå¤åˆ¶åº”ç”¨ä»£ç ï¼Œå¦‚åŒå°†åŠŸæ³•ç§˜ç±æ”¾å…¥ä¿®ç‚¼å®¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;EXPOSE 8080&lt;/strong&gt;ï¼šæš´éœ²ç«¯å£ï¼Œå¦‚åŒæ‰“å¼€æ´åºœçš„å¤§é—¨ï¼Œå…è®¸å¤–ç•Œè®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CMD [&amp;ldquo;node&amp;rdquo;, &amp;ldquo;server.js&amp;rdquo;]&lt;/strong&gt;ï¼šå¯åŠ¨å‘½ä»¤ï¼Œå¦‚åŒè¿è½¬åŠŸæ³•ï¼Œå¼€å§‹ä¿®ç‚¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“éŸ©ç«‹å®Œæˆç¬¬ä¸€æ¬¡&lt;code&gt;docker build&lt;/code&gt;æ—¶ï¼Œä»–æ„Ÿè§‰åˆ°è‡ªå·±çš„æ•´ä¸ªå­˜åœ¨éƒ½è¢«å°è£…è¿›äº†ä¸€ä¸ªåä¸º&amp;quot;é•œåƒ&amp;quot;çš„ç‹¬ç«‹ç©ºé—´ä¸­ã€‚è¿™ä¸ªç©ºé—´åŒ…å«äº†è¿è¡Œæ‰€éœ€çš„ä¸€åˆ‡ï¼šNode.jsè¿è¡Œæ—¶ã€ç³»ç»Ÿåº“ã€åº”ç”¨ä»£ç ï¼Œç”šè‡³åŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿç»“æ„ã€‚&lt;/p&gt;</description></item><item><title>å…¸ç±ç¯‡</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/</link><pubDate>Thu, 27 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/</guid><description>&lt;p&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/"&gt;â—€ è¿”å›&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="æºç å®‰è£…postgresqlç¨³å®šç‰ˆæœ¬linux"&gt;æºç å®‰è£…PostgreSQLç¨³å®šç‰ˆæœ¬ï¼ˆLinuxï¼‰&lt;/h1&gt;
&lt;h2 id="-å‡†å¤‡å·¥ä½œ"&gt;ğŸ“‹ å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;h3 id="1-æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬"&gt;1. &lt;strong&gt;æŸ¥çœ‹æœ€æ–°ç¨³å®šç‰ˆæœ¬&lt;/strong&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¿é—®PostgreSQLå®˜ç½‘æˆ–ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl -s https://www.postgresql.org/ftp/source/ | grep -E &lt;span style="color:#e6db74"&gt;&amp;#39;href=&amp;#34;v[0-9]+\.[0-9]+/&amp;#34;&amp;#39;&lt;/span&gt; | tail -5
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å½“å‰é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 16.x (æœ€æ–°ç¨³å®šç‰ˆ)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 15.x (é•¿æœŸæ”¯æŒ)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 14.x (é•¿æœŸæ”¯æŒåˆ°2026å¹´)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# PostgreSQL 13.x (é•¿æœŸæ”¯æŒåˆ°2025å¹´)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-å®‰è£…ç¼–è¯‘ä¾èµ–"&gt;2. &lt;strong&gt;å®‰è£…ç¼–è¯‘ä¾èµ–&lt;/strong&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Ubuntu/Debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; build-essential &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libreadline-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; zlib1g-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; flex bison &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxml2-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxslt-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libssl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libssl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libpam0g-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libldap-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libperl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libicu-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; tcl-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; python3-dev &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; git &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; wget &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; curl
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# CentOS/RHEL/Rocky/AlmaLinux&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo yum groupinstall -y &lt;span style="color:#e6db74"&gt;&amp;#34;Development Tools&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo yum install -y &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; readline-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; zlib-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; flex bison &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxml2-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; libxslt-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; openssl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; pam-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; openldap-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; perl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; perl-ExtUtils-Embed &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; tcl-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; python3-devel &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; git &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; wget
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vi /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æœ€å¤§å…±äº«å†…å­˜æ®µå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmmax &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 68719476736&lt;span style="color:#f92672"&gt;(&lt;/span&gt;é»˜è®¤&lt;span style="color:#f92672"&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;#å¯ä»¥ä½¿ç”¨çš„å…±äº«å†…å­˜çš„æ€»é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmall &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 4294967296&lt;span style="color:#f92672"&gt;(&lt;/span&gt;é»˜è®¤&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ•´ä¸ªç³»ç»Ÿå…±äº«å†…å­˜æ®µçš„æœ€å¤§æ•°ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.shmmni &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;4096&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ¯ä¸ªä¿¡å·å¯¹è±¡é›†çš„æœ€å¤§ä¿¡å·å¯¹è±¡æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kernel.sem &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;50100&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;64128000&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;50100&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1280&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#æ–‡ä»¶å¥æŸ„çš„æœ€å¤§æ•°é‡ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fs.file-max &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;7672460&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#åº”ç”¨ç¨‹åºå¯ä½¿ç”¨çš„IPv4ç«¯å£èŒƒå›´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.ipv4.ip_local_port_range &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;9000&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;65000&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—æ¥æ”¶ç¼“å†²åŒºå¤§å°çš„ç¼ºçœå€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.rmem_default &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1048576&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„ç¼ºçœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.wmem_default &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;262144&lt;/span&gt; å€¼
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#å¥—æ¥å­—å‘é€ç¼“å†²åŒºå¤§å°çš„æœ€å¤§å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;net.core.wmem_max &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1048576&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# sysctl -p #é…ç½®ç”Ÿæ•ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æºç å®‰è£…postgresql-162å½“å‰ç¨³å®šç‰ˆ"&gt;ğŸš€ æºç å®‰è£…PostgreSQL 16.2ï¼ˆå½“å‰ç¨³å®šç‰ˆï¼‰&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤1åˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•"&gt;æ­¥éª¤1ï¼šåˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç›®å½•&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºpostgresç³»ç»Ÿç”¨æˆ·å’Œç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo groupadd -r postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo useradd -r -g postgres -s /bin/bash -d /usr/local/pgsql -m -k /dev/null postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå®‰è£…ç›®å½•å’Œæ•°æ®ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /usr/local/pgsql/&lt;span style="color:#f92672"&gt;{&lt;/span&gt;data,logs,backup&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R postgres:postgres /usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod &lt;span style="color:#ae81ff"&gt;750&lt;/span&gt; /usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæºç ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown &lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;whoami&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;:&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;whoami&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt; /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤2ä¸‹è½½æºç "&gt;æ­¥éª¤2ï¼šä¸‹è½½æºç &lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸‹è½½PostgreSQL 16.2ï¼ˆæˆªè‡³2024å¹´3æœˆçš„æœ€æ–°ç¨³å®šç‰ˆï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨å›½å†…é•œåƒï¼ˆæ¸…åæºï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# wget https://mirrors.tuna.tsinghua.edu.cn/postgresql/source/v16.2/postgresql-16.2.tar.gz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# éªŒè¯ä¸‹è½½å®Œæ•´æ€§ï¼ˆå¯é€‰ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v16.2/postgresql-16.2.tar.gz.sha256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sha256sum -c postgresql-16.2.tar.gz.sha256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è§£å‹æºç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-16.2.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-16.2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤3é…ç½®ç¼–è¯‘é€‰é¡¹"&gt;æ­¥éª¤3ï¼šé…ç½®ç¼–è¯‘é€‰é¡¹&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æ‰€æœ‰é…ç½®é€‰é¡¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./configure --help
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºç¼–è¯‘ç›®å½•ï¼ˆæ¨èï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åŸºæœ¬é…ç½®ï¼ˆé€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pgport&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-perl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-python &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-tcl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-openssl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pam &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -with-uuid&lt;span style="color:#f92672"&gt;=&lt;/span&gt;ossp &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-ldap &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-libxml &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-libxslt &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-icu &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-thread-safety &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-debug &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --enable-nls &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-system-tzdata&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/share/zoneinfo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ç²¾ç®€é…ç½®ï¼ˆæœ€å°åŒ–å®‰è£…ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ../configure --prefix=/usr/local/pgsql --with-openssl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤4ç¼–è¯‘å’Œå®‰è£…"&gt;æ­¥éª¤4ï¼šç¼–è¯‘å’Œå®‰è£…&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹CPUæ ¸å¿ƒæ•°ï¼Œå†³å®šå¹¶è¡Œç¼–è¯‘æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nproc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¯‘ï¼ˆä½¿ç”¨4ä¸ªå¹¶è¡Œä»»åŠ¡ï¼Œæ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j4
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯é€‰ï¼šè¿è¡Œå›å½’æµ‹è¯•ï¼ˆéœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# make check&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…åˆ°ç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…contribæ¨¡å—ï¼ˆæ‰©å±•å·¥å…·ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd contrib
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j4
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd ..
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤5é…ç½®ç¯å¢ƒå˜é‡"&gt;æ­¥éª¤5ï¼šé…ç½®ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºpostgresç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee -a /usr/local/pgsql/.bash_profile &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PGHOME=/usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export PATH=$PGHOME/bin:$PATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export LD_LIBRARY_PATH=$PGHOME/lib:$LD_LIBRARY_PATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;export MANPATH=$PGHOME/share/man:$MANPATH
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºå½“å‰ç”¨æˆ·é…ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#39;export PATH=/usr/local/pgsql/bin:$PATH&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;source ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# éªŒè¯å®‰è£…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/usr/local/pgsql/bin/postgres --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®"&gt;âš™ï¸ åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤6åˆå§‹åŒ–æ•°æ®åº“"&gt;æ­¥éª¤6ï¼šåˆå§‹åŒ–æ•°æ®åº“&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ‡æ¢åˆ°postgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo su - postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆå§‹åŒ–æ•°æ®åº“é›†ç¾¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb -D /usr/local/pgsql/data -E UTF8 --locale&lt;span style="color:#f92672"&gt;=&lt;/span&gt;C -U postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨è¯¦ç»†å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -D /usr/local/pgsql/data &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -E UTF8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --locale&lt;span style="color:#f92672"&gt;=&lt;/span&gt;en_US.UTF-8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --lc-collate&lt;span style="color:#f92672"&gt;=&lt;/span&gt;C &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --lc-ctype&lt;span style="color:#f92672"&gt;=&lt;/span&gt;en_US.UTF-8 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --username&lt;span style="color:#f92672"&gt;=&lt;/span&gt;postgres &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --pwprompt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¾ç½®å¯†ç ï¼ˆè®°ä¸‹è¿™ä¸ªå¯†ç ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¾“å…¥å¹¶ç¡®è®¤postgresç”¨æˆ·çš„å¯†ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤7é…ç½®postgresqlconf"&gt;æ­¥éª¤7ï¼šé…ç½®postgresql.conf&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¤‡ä»½åŸå§‹é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cp /usr/local/pgsql/data/postgresql.conf /usr/local/pgsql/data/postgresql.conf.original
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼ˆæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;listen_addresses&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;*&amp;#39; # å…è®¸è¿œç¨‹è¿æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;port&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;5432 # ç›‘å¬ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_connections&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;100 # æœ€å¤§è¿æ¥æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;shared_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;128MB # å…±äº«ç¼“å†²åŒºå¤§å°ï¼ˆå»ºè®®ä¸ºå†…å­˜çš„25%ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;4MB # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;maintenance_work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;64MB # ç»´æŠ¤æ“ä½œçš„å†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;dynamic_shared_memory_type&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;posix # åŠ¨æ€å…±äº«å†…å­˜ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_level&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;replica # WALçº§åˆ«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;synchronous_commit&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # åŒæ­¥æäº¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;-1 # WALç¼“å†²åŒºï¼ˆ-1è¡¨ç¤ºè‡ªåŠ¨ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;checkpoint_timeout&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;5min # æ£€æŸ¥ç‚¹è¶…æ—¶æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1GB # æœ€å¤§WALå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;min_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;80MB # æœ€å°WALå¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_mode&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;off # å½’æ¡£æ¨¡å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_command&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;/bin/date&amp;#39; # å½’æ¡£å‘½ä»¤ï¼ˆå…³é—­æ—¶éšæ„è®¾ç½®ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;logging_collector&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # å¯ç”¨æ—¥å¿—æ”¶é›†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_directory&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;pg_log&amp;#39; # æ—¥å¿—ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_filename&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;postgresql-%Y-%m-%d_%H%M%S.log&amp;#39; # æ—¥å¿—æ–‡ä»¶åæ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_rotation_age&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1d # æ—¥å¿—è½®è½¬æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_rotation_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;10MB # æ—¥å¿—è½®è½¬å¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_truncate_on_rotation&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on # è½®è½¬æ—¶æˆªæ–­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_line_prefix&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;%m [%p] %q%u@%d &amp;#39; # æ—¥å¿—å‰ç¼€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;log_timezone&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Asia/Shanghai&amp;#39; # æ—¥å¿—æ—¶åŒº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;timezone&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Asia/Shanghai&amp;#39; # æ—¶åŒº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;datestyle&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;iso, ymd&amp;#39; # æ—¥æœŸæ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_messages&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ¶ˆæ¯è¯­è¨€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_monetary&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # è´§å¸æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_numeric&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ•°å­—æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;lc_time&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;en_US.UTF-8&amp;#39; # æ—¶é—´æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;default_text_search_config&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;pg_catalog.english&amp;#39; # å…¨æ–‡æœç´¢é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤8é…ç½®å®¢æˆ·ç«¯è®¤è¯"&gt;æ­¥éª¤8ï¼šé…ç½®å®¢æˆ·ç«¯è®¤è¯&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç¼–è¾‘pg_hba.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nano /usr/local/pgsql/data/pg_hba.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;# å…è®¸æœ¬åœ°è¿æ¥ï¼ˆmd5éœ€è¦å¯†ç ï¼Œtrustä¸éœ€è¦å¯†ç ï¼‰
local all postgres peer
local all all md5
host all all 127.0.0.1/32 md5

# å…è®¸ç‰¹å®šIPæ®µè¿æ¥
host all all 192.168.1.0/24 md5

# å…è®¸æ‰€æœ‰IPè¿æ¥ï¼ˆç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰
host all all 0.0.0.0/0 md5

# ç¤ºä¾‹ï¼šåªå…è®¸ç‰¹å®šç”¨æˆ·ä»ç‰¹å®šIPè®¿é—®ç‰¹å®šæ•°æ®åº“
# host exam_db app_user 192.168.1.100/32 md5
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="æ­¥éª¤9åˆ›å»ºç³»ç»ŸæœåŠ¡"&gt;æ­¥éª¤9ï¼šåˆ›å»ºç³»ç»ŸæœåŠ¡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é€€å‡ºpostgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;exit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /etc/systemd/system/postgresql.service &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Description=PostgreSQL Database Server
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Type=forking
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;User=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Group=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;OOMScoreAdjust=-1000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStart=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} start
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStop=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} stop
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecReload=/usr/local/pgsql/bin/pg_ctl -D ${PGDATA} reload
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;TimeoutSec=300
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆ–è€…ä½¿ç”¨simpleç±»å‹ï¼ˆæ¨èï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /etc/systemd/system/postgresql.service &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Description=PostgreSQL Database Server
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;User=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Group=postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;Environment=PGPORT=5432
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;OOMScoreAdjust=-1000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecStart=/usr/local/pgsql/bin/postgres -D ${PGDATA}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ExecReload=/bin/kill -HUP $MAINPID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;KillMode=mixed
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;KillSignal=SIGINT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;TimeoutSec=300
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤10å¯åŠ¨æœåŠ¡"&gt;æ­¥éª¤10ï¼šå¯åŠ¨æœåŠ¡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é‡æ–°åŠ è½½systemdé…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯åŠ¨PostgreSQLæœåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl start postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è®¾ç½®å¼€æœºè‡ªå¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl enable postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl status postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŸ¥çœ‹æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo journalctl -u postgresql -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-éªŒè¯å’ŒåŸºç¡€é…ç½®"&gt;ğŸ”§ éªŒè¯å’ŒåŸºç¡€é…ç½®&lt;/h2&gt;
&lt;h3 id="æ­¥éª¤11éªŒè¯å®‰è£…"&gt;æ­¥éª¤11ï¼šéªŒè¯å®‰è£…&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¿æ¥åˆ°æ•°æ®åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -h localhost -U postgres -d postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åœ¨psqlä¸­æ‰§è¡Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT version&lt;span style="color:#f92672"&gt;()&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT current_user;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SHOW data_directory;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SHOW config_file;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;\q&lt;/span&gt; &lt;span style="color:#75715e"&gt;# é€€å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤12åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·"&gt;æ­¥éª¤12ï¼šåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ‡æ¢åˆ°postgresç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo su - postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæµ‹è¯•æ•°æ®åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;createdb test_db
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºåº”ç”¨ç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;createuser -P -d -e app_user
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¾“å…¥å¯†ç ï¼šAppPass123&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¿æ¥åˆ°æ•°æ®åº“å¹¶æˆæƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -d test_db &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- åˆ›å»ºschema
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE SCHEMA IF NOT EXISTS app_schema;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- åˆ›å»ºæµ‹è¯•è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE TABLE app_schema.users (
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; id SERIAL PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; username VARCHAR(50) NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; email VARCHAR(100) UNIQUE NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æ’å…¥æµ‹è¯•æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;INSERT INTO app_schema.users (username, email) VALUES
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;(&amp;#39;admin&amp;#39;, &amp;#39;admin@example.com&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;(&amp;#39;user1&amp;#39;, &amp;#39;user1@example.com&amp;#39;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æˆæƒç»™åº”ç”¨ç”¨æˆ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON DATABASE test_db TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA app_schema TO app_user;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;-- æŸ¥çœ‹è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT * FROM app_schema.users;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ­¥éª¤13å®‰è£…å¸¸ç”¨æ‰©å±•"&gt;æ­¥éª¤13ï¼šå®‰è£…å¸¸ç”¨æ‰©å±•&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰è£…pg_stat_statementsï¼ˆæ€§èƒ½ç›‘æ§ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;psql -U postgres -d test_db &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS uuid-ossp;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS btree_gin;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;CREATE EXTENSION IF NOT EXISTS btree_gist;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT * FROM pg_available_extensions ORDER BY name;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-é«˜çº§é…ç½®å’Œä¼˜åŒ–"&gt;ğŸ› ï¸ é«˜çº§é…ç½®å’Œä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id="å†…å­˜ä¼˜åŒ–é…ç½®"&gt;å†…å­˜ä¼˜åŒ–é…ç½®&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å†…å­˜ç›¸å…³ä¼˜åŒ–ï¼ˆ8GBå†…å­˜æœåŠ¡å™¨ç¤ºä¾‹ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;shared_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;2GB # å†…å­˜çš„25%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;16MB # æ¯ä¸ªæŸ¥è¯¢çš„å·¥ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;maintenance_work_mem&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;512MB # ç»´æŠ¤æ“ä½œå†…å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;effective_cache_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;6GB # å¯ç”¨äºç¼“å­˜çš„ç£ç›˜ç©ºé—´ä¼°è®¡å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ€§èƒ½ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_connections&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;200 # æ ¹æ®åº”ç”¨éœ€æ±‚è°ƒæ•´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;checkpoint_completion_target&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;0.9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;random_page_cost&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1.1 # SSDè®¾ä¸º1.1ï¼ŒHDDè®¾ä¸º4.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;effective_io_concurrency&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;200 # SSDå¯ä»¥è®¾é«˜ï¼ŒHDDè®¾ä½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# WALä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;wal_buffers&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;16MB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;min_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;1GB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;max_wal_size&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;4GB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="é…ç½®å½’æ¡£å’Œå¤‡ä»½"&gt;é…ç½®å½’æ¡£å’Œå¤‡ä»½&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå½’æ¡£ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /usr/local/pgsql/archive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/pgsql/archive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é…ç½®å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /usr/local/pgsql/data/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å¯ç”¨å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_mode&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_command&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;test ! -f /usr/local/pgsql/archive/%f &amp;amp;&amp;amp; cp %p /usr/local/pgsql/archive/%f&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;archive_timeout&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;3600 # æ¯å°æ—¶å¼ºåˆ¶å½’æ¡£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-ç›‘æ§å’Œç»´æŠ¤è„šæœ¬"&gt;ğŸ“Š ç›‘æ§å’Œç»´æŠ¤è„šæœ¬&lt;/h2&gt;
&lt;h3 id="åˆ›å»ºç›‘æ§è„šæœ¬"&gt;åˆ›å»ºç›‘æ§è„šæœ¬&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºæ•°æ®åº“å¥åº·æ£€æŸ¥è„šæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /usr/local/bin/check_postgres.sh &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# PostgreSQLå¥åº·æ£€æŸ¥è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGHOME=/usr/local/pgsql
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGDATA=/usr/local/pgsql/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;PGPORT=5432
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;=== PostgreSQLå¥åº·æ£€æŸ¥ $(date) ===&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥æœåŠ¡çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;systemctl is-active postgresql &amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;if [ $? -eq 0 ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ“ æœåŠ¡çŠ¶æ€: è¿è¡Œä¸­&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ— æœåŠ¡çŠ¶æ€: åœæ­¢&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; exit 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥è¿æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;$PGHOME/bin/pg_isready -p $PGPORT -h localhost -U postgres
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;if [ $? -eq 0 ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ“ æ•°æ®åº“è¿æ¥: æ­£å¸¸&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; echo &amp;#34;âœ— æ•°æ®åº“è¿æ¥: å¤±è´¥&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥ç£ç›˜ç©ºé—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;df -h $PGDATA | tail -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ£€æŸ¥æ•°æ®åº“å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;æ•°æ®åº“å¤§å°:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;$PGHOME/bin/psql -h localhost -U postgres -d postgres -c &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;SELECT 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; datname as \&amp;#34;æ•°æ®åº“\&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; pg_size_pretty(pg_database_size(datname)) as \&amp;#34;å¤§å°\&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;FROM pg_database 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ORDER BY pg_database_size(datname) DESC;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;=== æ£€æŸ¥å®Œæˆ ===&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/check_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/bin/check_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="åˆ›å»ºå¤‡ä»½è„šæœ¬"&gt;åˆ›å»ºå¤‡ä»½è„šæœ¬&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# åˆ›å»ºå¤‡ä»½è„šæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tee /usr/local/bin/backup_postgres.sh &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# PostgreSQLå¤‡ä»½è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;BACKUP_DIR=&amp;#34;/usr/local/pgsql/backup&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;DATE=$(date +%Y%m%d_%H%M%S)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;RETENTION_DAYS=7
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# åˆ›å»ºå¤‡ä»½ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;mkdir -p $BACKUP_DIR/$DATE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¼€å§‹å¤‡ä»½: $(date)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;/usr/local/pgsql/bin/pg_dumpall -h localhost -U postgres \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; | gzip &amp;gt; $BACKUP_DIR/$DATE/full_backup_$DATE.sql.gz
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# å¤‡ä»½å•ä¸ªé‡è¦æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;/usr/local/pgsql/bin/pg_dump -h localhost -U postgres test_db \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; -F c -f $BACKUP_DIR/$DATE/test_db_$DATE.dump
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¤‡ä»½å®Œæˆ: $(date)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å¤‡ä»½æ–‡ä»¶:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;ls -lh $BACKUP_DIR/$DATE/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# æ¸…ç†æ—§å¤‡ä»½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;find $BACKUP_DIR -type d -mtime +$RETENTION_DAYS -exec rm -rf {} \;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;echo &amp;#34;å·²æ¸…ç†è¶…è¿‡${RETENTION_DAYS}å¤©çš„å¤‡ä»½&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/backup_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown postgres:postgres /usr/local/bin/backup_postgres.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬"&gt;ğŸ¯ å®‰è£…å…¶ä»–ç¨³å®šç‰ˆæœ¬&lt;/h2&gt;
&lt;h3 id="å®‰è£…postgresql-157ltsç‰ˆæœ¬"&gt;å®‰è£…PostgreSQL 15.7ï¼ˆLTSç‰ˆæœ¬ï¼‰&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v15.7/postgresql-15.7.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-15.7.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-15.7
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é…ç½®ï¼ˆä¸16.2ç±»ä¼¼ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql15 &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-pgport&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;5433&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-openssl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-perl &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; --with-python
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;nproc&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="å®‰è£…postgresql-1412é•¿æœŸæ”¯æŒ"&gt;å®‰è£…PostgreSQL 14.12ï¼ˆé•¿æœŸæ”¯æŒï¼‰&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd /opt/postgresql_src
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://ftp.postgresql.org/pub/source/v14.12/postgresql-14.12.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -zxvf postgresql-14.12.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd postgresql-14.12
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;mkdir build &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;../configure --prefix&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/local/pgsql14 --with-openssl
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;nproc&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æ•…éšœæ’é™¤"&gt;âš ï¸ æ•…éšœæ’é™¤&lt;/h2&gt;
&lt;h3 id="å¸¸è§é—®é¢˜è§£å†³"&gt;å¸¸è§é—®é¢˜è§£å†³&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 1. ç¼–è¯‘é”™è¯¯ï¼šç¼ºå°‘ä¾èµ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–åæ¸…ç†é‡è¯•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make distclean
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 2. å¯åŠ¨å¤±è´¥ï¼šç«¯å£è¢«å ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;netstat -tlnp | grep &lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo lsof -i :5432
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 3. è¿æ¥å¤±è´¥ï¼šè®¤è¯é—®é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ£€æŸ¥pg_hba.confé…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 4. å†…å­˜ä¸è¶³ï¼šè°ƒæ•´ç¼–è¯‘å¹¶è¡Œåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -j2 &lt;span style="color:#75715e"&gt;# ä½¿ç”¨æ›´å°‘çš„å¹¶è¡Œä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 5. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tail -f /usr/local/pgsql/data/log/postgresql-*.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="-æ€»ç»“"&gt;ğŸ“ æ€»ç»“&lt;/h2&gt;
&lt;h3 id="å®‰è£…æ­¥éª¤å›é¡¾"&gt;å®‰è£…æ­¥éª¤å›é¡¾&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…ä¾èµ–&lt;/strong&gt;ï¼šç¡®ä¿ç¼–è¯‘ç¯å¢ƒå®Œæ•´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸‹è½½æºç &lt;/strong&gt;ï¼šé€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼ˆæ¨è16.2æˆ–15.7ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®ç¼–è¯‘&lt;/strong&gt;ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ç¼–è¯‘é€‰é¡¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘å®‰è£…&lt;/strong&gt;ï¼šä½¿ç”¨å¹¶è¡Œç¼–è¯‘æé«˜é€Ÿåº¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆå§‹åŒ–æ•°æ®åº“&lt;/strong&gt;ï¼šè®¾ç½®æ•°æ®ç›®å½•å’Œç¼–ç &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®å‚æ•°&lt;/strong&gt;ï¼šä¼˜åŒ–æ€§èƒ½å’Œå®‰å…¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ›å»ºæœåŠ¡&lt;/strong&gt;ï¼šä½¿ç”¨systemdç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éªŒè¯æµ‹è¯•&lt;/strong&gt;ï¼šç¡®ä¿å®‰è£…æˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="ç‰ˆæœ¬é€‰æ‹©å»ºè®®"&gt;ç‰ˆæœ¬é€‰æ‹©å»ºè®®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿäº§ç¯å¢ƒ&lt;/strong&gt;ï¼šPostgreSQL 15.xï¼ˆLTSæ”¯æŒåˆ°2027å¹´ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æµ‹è¯•&lt;/strong&gt;ï¼šPostgreSQL 16.xï¼ˆæœ€æ–°ç‰¹æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¼å®¹æ€§è¦æ±‚&lt;/strong&gt;ï¼šPostgreSQL 14.xï¼ˆæ”¯æŒåˆ°2026å¹´ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å…³é”®é…ç½®æ–‡ä»¶"&gt;å…³é”®é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/usr/local/pgsql/data/postgresql.conf&lt;/code&gt; - ä¸»é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/local/pgsql/data/pg_hba.conf&lt;/code&gt; - å®¢æˆ·ç«¯è®¤è¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/systemd/system/postgresql.service&lt;/code&gt; - æœåŠ¡æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡æºç å®‰è£…å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œå®šåˆ¶æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¯¹æ€§èƒ½æœ‰è¦æ±‚çš„åœºæ™¯ã€‚&lt;/p&gt;</description></item><item><title>å…¸ç±ç¯‡</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/</link><pubDate>Thu, 27 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/</guid><description>&lt;p&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/"&gt;â—€ è¿”å›&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="postgresql-çš„ç»„æˆç»“æ„"&gt;postgresql çš„ç»„æˆç»“æ„&lt;/h2&gt;
&lt;h3 id="å†…å­˜"&gt;å†…å­˜&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Local memory area&lt;/strong&gt;:ç”±æ¯ä¸ªåç«¯è¿›ç¨‹åˆ†é…ç»™è‡ªå·±ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Share memory area&lt;/strong&gt;: ç”± postgresql æœåŠ¡å™¨çš„æ‰€æœ‰è¿›ç¨‹ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png" alt="postgresql-memory"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;work_mem&lt;/strong&gt;: æ‰§è¡Œå™¨æ‰§è¡Œ &lt;em&gt;order by&lt;/em&gt;ã€&lt;em&gt;distinct&lt;/em&gt;ã€&lt;em&gt;join tables&lt;/em&gt;ã€&lt;em&gt;hash-join&lt;/em&gt;æ“ä½œæ—¶ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;maintenance_work_mem&lt;/strong&gt;: &lt;em&gt;vacuum&lt;/em&gt; å½’æ•´ã€&lt;em&gt;reindex&lt;/em&gt;é‡å»ºç´¢å¼•ï¼Œæ—¶ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;temp_buffers&lt;/strong&gt;: ä¸´æ—¶è¡¨ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;shared_buffer_pool&lt;/strong&gt;: ä»æŒä¹…åŒ–çš„å­˜å‚¨åŠ è½½è¡¨é¡µå’Œç´¢å¼•é¡µåˆ°æ­¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;wal_buffer&lt;/strong&gt;: é˜²æ­¢æœåŠ¡å¼‚å¸¸åœæ­¢å¯¼è‡´æ•°æ®æ²¡æœ‰è½ç›˜ï¼Œåˆ›å»ºäº† wal ç¼“å†²åŒºï¼Œç›¸å½“äº redo logã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;commit log&lt;/strong&gt;: è®°å½•æ‰€æœ‰çš„äº‹åŠ¡çŠ¶æ€å¦‚:å†å¤„ç†ï¼Œå·²æäº¤ã€å›é€€ï¼Œä¿æŒäº‹åŠ¡çš„ä¸€è‡´æ€§ã€‚ç›¸å½“äº undo logã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="è¿›ç¨‹"&gt;è¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL é‡‡ç”¨ C/S æ¨¡å¼ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯åˆ†é…ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ Postgres&lt;/strong&gt;
&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E8%BF%9B%E7%A8%8B.webp" alt="postgresql-process"&gt;&lt;/p&gt;
&lt;p&gt;å½“è¿è¡Œ pg_ctl å‘½ä»¤è¿›å…¥ Postgres ç¨‹åºæ—¶ï¼Œå…¶è¿›ç¨‹åˆ›å»ºæµç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;h3 id="postmaster"&gt;PostMaster&lt;/h3&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp" alt="postgresql-process1"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PostMaster&lt;/strong&gt;ï¼šè¿›ç¨‹æ˜¯æ•´ä¸ªæ•°æ®åº“å®ä¾‹çš„æ€»æ§è¿›ç¨‹ï¼Œè´Ÿè´£å¯åŠ¨å…³é—­è¯¥æ•°æ®å®ä¾‹ã€‚å¹¶ä¸”åœ¨æœåŠ¡è¿›ç¨‹å‡ºç°é”™è¯¯æ—¶å®Œæˆç³»ç»Ÿçš„æ¢å¤ï¼Œè¿˜è¦åœ¨ç³»ç»Ÿå¥”æºƒçš„æ—¶å€™é‡å¯ç³»ç»Ÿã€‚å®ƒæ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„æ€»æ§è¿›ç¨‹ï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£æ•´ä¸ªç³»ç»ŸèŒƒå›´å†…çš„æ“ä½œï¼Œä¾‹å¦‚ä¸­æ–­æ“ä½œä¸ä¿¡å·å¤„ç†ã€‚ä½†æ˜¯ Postmaster æœ¬èº«å¹¶ä¸æ‰§è¡Œè¿™äº›æ“ä½œï¼Œè€Œæ˜¯æŒ‡æ´¾ä¸€ä¸ªå­è¿›ç¨‹åœ¨é€‚å½“çš„æ—¶é—´å¤„ç†å®ƒä»¬ã€‚Postmaster è¿›ç¨‹åœ¨èµ·å§‹æ—¶ä¼šåˆ›å»ºå…±äº«å†…å­˜ä¸ä¿¡å·åº“ï¼Œç”¨äºä¸å­è¿›ç¨‹çš„é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿèƒ½åœ¨æŸä¸ªå­è¿›ç¨‹å¥”æºƒçš„æ—¶å€™é‡ç½®å…±äº«å†…å­˜å³å¯æ¢å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Postmaster å®ˆæŠ¤è¿›ç¨‹çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp" alt="postgres-porcess2"&gt;&lt;/p&gt;
&lt;h3 id="syslogger"&gt;SysLogger&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SysLogger&lt;/strong&gt;:ï¼ˆç³»ç»Ÿæ—¥å¿—ï¼‰è¿›ç¨‹,æ—¥å¿—ä¿¡æ¯æ˜¯æ•°æ®åº“ç®¡ç†å‘˜è·å–æ•°æ®åº“ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„æœ‰æ•ˆæ‰‹æ®µã€‚åœ¨æ•°æ®åº“å‡ºç°æ•…éšœæ—¶ï¼Œæ—¥å¿—ä¿¡æ¯æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æŠŠæ•°æ®åº“æ—¥å¿—ä¿¡æ¯é›†ä¸­è¾“å‡ºåˆ°ä¸€ä¸ªä½ç½®å°†æå¤§æ–¹ä¾¿ç®¡ç†å‘˜ç»´æŠ¤æ•°æ®åº“ç³»ç»Ÿã€‚ç„¶è€Œï¼Œæ—¥å¿—è¾“å‡ºå°†äº§ç”Ÿå¤§é‡æ•°æ®ï¼ˆç‰¹åˆ«æ˜¯åœ¨æ¯”è¾ƒé«˜çš„è°ƒè¯•çº§åˆ«ä¸Šï¼‰ï¼Œå•æ–‡ä»¶ä¿å­˜æ—¶ä¸åˆ©äºæ—¥å¿—æ–‡ä»¶çš„æ“ä½œã€‚å› æ­¤ï¼Œåœ¨SysLoggerçš„é…ç½®é€‰é¡¹ä¸­å¯ä»¥è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ŒSysLoggerä¼šåœ¨æ—¥å¿—æ–‡ä»¶è¾¾åˆ°æŒ‡å®šçš„å¤§å°æ—¶å…³é—­å½“å‰æ—¥å¿—æ–‡ä»¶ï¼Œäº§ç”Ÿæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# - Where to Log -&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;log_destination &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;stderr&amp;#39;&lt;/span&gt; &lt;span style="color:#75715e"&gt;# Valid values are combinations of&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# stderr, csvlog, jsonlog, syslog, and&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# eventlog, depending on platform.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# csvlog and jsonlog require&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# logging_collector to be on.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# This is used when logging to stderr:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;logging_collector &lt;span style="color:#f92672"&gt;=&lt;/span&gt; on &lt;span style="color:#75715e"&gt;# Enable capturing of stderr, jsonlog,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# and csvlog into log files. Required&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# to be on for csvlogs and jsonlogs.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# (change requires restart)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# These are only used if logging_collector is on:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_directory = &amp;#39;log&amp;#39; # directory where log files are written,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# can be absolute or relative to PGDATA&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_filename = &amp;#39;postgresql-%Y-%m-%d_%H%M%S.log&amp;#39; # log file name pattern,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# can include strftime() escapes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_file_mode = 0600 # creation mode for log files,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# begin with 0 to use octal notation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_rotation_age = 1d # Automatic rotation of logfiles will&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# happen after that time. 0 disables.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_rotation_size = 10MB # Automatic rotation of logfiles will&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# happen after that much log output.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 0 disables.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#log_truncate_on_rotation = off # If on, an existing log file with the&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# same name as the new log file will be&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# truncated rather than appended to.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# But such truncation only occurs on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# time-driven rotation, not on restarts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# or size-driven rotation. Default is&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# off, meaning append to existing files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# in all cases.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;log_destination&lt;/strong&gt;ï¼šé…ç½®æ—¥å¿—è¾“å‡ºç›®æ ‡ï¼Œæ ¹æ®ä¸åŒçš„è¿è¡Œå¹³å°ä¼šè®¾ç½®ä¸åŒçš„å€¼ï¼ŒLinuxä¸‹é»˜è®¤ä¸ºstderrã€‚&lt;/p&gt;</description></item><item><title>åç«¯æ¶æ„</title><link>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/</link><pubDate>Fri, 21 Nov 2025 00:00:00 +0000</pubDate><guid>/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/</guid><description>&lt;h2 id="åç«¯æ¶æ„å…µæ³•ç¯‡"&gt;ã€Œåç«¯æ¶æ„å…µæ³•ç¯‡ã€&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ”¶å½•ç³»ç»Ÿæ¶æ„ã€åˆ†å¸ƒå¼åŸç†ã€é«˜å¹¶å‘è®¾è®¡ç­‰åç«¯æ ¸å¿ƒçŸ¥è¯†ã€‚ä»å•ä½“åˆ°å¾®æœåŠ¡ï¼Œä»æ•°æ®åº“åˆ°ç¼“å­˜ï¼Œæ„å»ºå¯æ‰©å±•çš„ç¨³å¥ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-æ¶æ„ä¿®ä»™ä¼ "&gt;&lt;span style="color: var(--cinnabar);"&gt;âš”ï¸ ã€Œæ¶æ„ä¿®ä»™ä¼ ã€&lt;/span&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹ä¸ºè“æœ¬ï¼Œå°†è½¯ä»¶æ¶æ„æ¼”è¿›ä¸ä¿®ä»™ä½“ç³»å®Œç¾èåˆï¼Œä»å•æœºè‹¦ä¿®åˆ°äº‘åŸç”Ÿé£å‡ï¼Œä½“éªŒæ¶æ„å¸ˆçš„ä¿®ç‚¼ä¹‹è·¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="-ä¿®ä»™ç« èŠ‚"&gt;ğŸ“š ã€Œä¿®ä»™ç« èŠ‚ã€&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%8D%95%E6%9C%BA%E8%8B%A6%E4%BF%AE%E8%8D%89%E6%A0%B9%E5%90%AF%E7%A8%8B/"&gt;ç¬¬ä¸€ç« ï¼šå•æœºè‹¦ä¿® Â· è‰æ ¹å¯ç¨‹&lt;/a&gt; â€”â€” ä»åºŸå¼ƒä»£ç æ‘èµ°å‡ºçš„æ™®é€šè¿›ç¨‹ï¼Œå¦‚ä½•åœ¨å•æœºç¯å¢ƒä¸­ä¿®ç‚¼æˆé•¿ï¼ŒæŒæ¡Dockerå®¹å™¨åŒ–ï¼Œåº”å¯¹æ•°æ®åº“æ­»é”ã€ç¼“å­˜ç©¿é€ã€æµé‡æ´ªå³°ç­‰æŒ‘æˆ˜&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%BC%80%E5%AE%97%E7%AB%8B%E6%B4%BE%E5%88%86%E5%B8%83%E5%BC%8F%E4%BF%AE%E7%9C%9F/"&gt;ç¬¬äºŒç« ï¼šå¼€å®—ç«‹æ´¾ Â· åˆ†å¸ƒå¼ä¿®çœŸ&lt;/a&gt; â€”â€” ä»å•ä½“åˆ°å¾®æœåŠ¡ï¼Œå»ºç«‹éŸ©é—¨ï¼ŒæŒæ¡æœåŠ¡æ³¨å†Œå‘ç°ã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”å¯¹åˆ†å¸ƒå¼å¤©åŠ«&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E9%A3%9E%E5%8D%87%E4%B8%8A%E7%95%8C%E4%BA%91%E5%8E%9F%E7%94%9F%E4%B8%8EK8s/"&gt;ç¬¬ä¸‰ç« ï¼šé£å‡ä¸Šç•Œ Â· äº‘åŸç”Ÿä¸K8s&lt;/a&gt; â€”â€” é£å‡äº‘ä¸Šä»™å¢ƒï¼ŒæŒæ¡Kubernetesï¼Œå®ç°æœåŠ¡çš„è‡ªåŠ¨è°ƒåº¦ã€æ‰©ç¼©å®¹ã€è‡ªæ„ˆï¼Œé¢†æ‚Ÿäº‘åŸç”Ÿçš„çœŸè°›&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E8%A7%84%E5%88%99%E5%85%A5%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC/"&gt;ç¬¬å››ç« ï¼šè§„åˆ™å…¥å¾® Â· æœåŠ¡ç½‘æ ¼&lt;/a&gt; â€”â€” æŒæ¡IstioæœåŠ¡ç½‘æ ¼ï¼Œå®ç°ç²¾ç»†åŒ–çš„æœåŠ¡æ²»ç†ï¼Œå°†é€šä¿¡é€»è¾‘ä¸‹æ²‰ä¸ºåŸºç¡€è®¾æ–½&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å¾®æœåŠ¡å…µæ³•"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ¯ ã€Œå¾®æœåŠ¡å…µæ³•ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æœåŠ¡æ‹†åˆ†è‰ºæœ¯"&gt;ğŸ—ï¸ ã€ŒæœåŠ¡æ‹†åˆ†è‰ºæœ¯ã€&lt;/h4&gt;
&lt;h5 id="é¢†åŸŸé©±åŠ¨è®¾è®¡"&gt;ã€Œé¢†åŸŸé©±åŠ¨è®¾è®¡ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/DDD%E5%AE%9E%E6%88%98"&gt;DDD å®æˆ˜æŒ‡å—&lt;/a&gt; â€”â€” é™ç•Œä¸Šä¸‹æ–‡ã€å®ä½“ä¸å€¼å¯¹è±¡ã€èšåˆæ ¹è®¾è®¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šäº‹ä»¶é£æš´å·¥ä½œåŠã€é¢†åŸŸæ¨¡å‹æ¼”è¿›ã€é˜²è…å±‚æ„å»º&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å¾®æœåŠ¡è¾¹ç•Œåˆ’åˆ†"&gt;ã€Œå¾®æœåŠ¡è¾¹ç•Œåˆ’åˆ†ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86"&gt;æœåŠ¡æ‹†åˆ†ç­–ç•¥&lt;/a&gt; â€”â€” å•ä¸€èŒè´£ã€æ•°æ®è‡ªæ²»ã€æ¥å£è®¾è®¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ‹†åˆ†æ—¶æœºåˆ¤æ–­ã€ç°åº¦è¿ç§»æ–¹æ¡ˆã€æ•°æ®ä¸€è‡´æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-æœåŠ¡é€šä¿¡æœºåˆ¶"&gt;ğŸ”— ã€ŒæœåŠ¡é€šä¿¡æœºåˆ¶ã€&lt;/h4&gt;
&lt;h5 id="åŒæ­¥è°ƒç”¨æ¨¡å¼"&gt;ã€ŒåŒæ­¥è°ƒç”¨æ¨¡å¼ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/RPC%E6%A1%86%E6%9E%B6"&gt;RPC æ¡†æ¶æ·±åº¦è§£æ&lt;/a&gt; â€”â€” åè®®è®¾è®¡ã€åºåˆ—åŒ–ä¼˜åŒ–ã€è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šgRPC/Thrift/Dubbo å¯¹æ¯”ã€è¿æ¥æ± ç®¡ç†ã€è¶…æ—¶æ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å¼‚æ­¥æ¶ˆæ¯é©±åŠ¨"&gt;ã€Œå¼‚æ­¥æ¶ˆæ¯é©±åŠ¨ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"&gt;æ¶ˆæ¯é˜Ÿåˆ—å®æˆ˜&lt;/a&gt; â€”â€” Kafka/RocketMQ/RabbitMQ åº”ç”¨åœºæ™¯&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ¶ˆæ¯é¡ºåºæ€§ã€å¹‚ç­‰æ¶ˆè´¹ã€äº‹åŠ¡æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-æœåŠ¡æ²»ç†ä½“ç³»"&gt;ğŸ›¡ï¸ ã€ŒæœåŠ¡æ²»ç†ä½“ç³»ã€&lt;/h4&gt;
&lt;h5 id="å®¹é”™ä¸é™çº§"&gt;ã€Œå®¹é”™ä¸é™çº§ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E6%9C%8D%E5%8A%A1%E5%AE%B9%E9%94%99"&gt;ç†”æ–­å™¨æ¨¡å¼å®ç°&lt;/a&gt; â€”â€” Hystrix/Sentinel åŸç†åˆ†æ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šéš”ç¦»ç­–ç•¥ã€é™çº§è§„åˆ™ã€è‡ªé€‚åº”ä¿æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="é…ç½®ä¸æ³¨å†Œä¸­å¿ƒ"&gt;ã€Œé…ç½®ä¸æ³¨å†Œä¸­å¿ƒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83"&gt;é…ç½®åŠ¨æ€åŒ–ç®¡ç†&lt;/a&gt; â€”â€” Apollo/Nacos æ¶æ„è§£æ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šé…ç½®ç‰ˆæœ¬ç®¡ç†ã€ç°åº¦å‘å¸ƒã€æƒé™æ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-åˆ†å¸ƒå¼é˜µæ³•"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸŒ ã€Œåˆ†å¸ƒå¼é˜µæ³•ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-åˆ†å¸ƒå¼ä¸€è‡´æ€§"&gt;âš¡ ã€Œåˆ†å¸ƒå¼ä¸€è‡´æ€§ã€&lt;/h4&gt;
&lt;h5 id="å…±è¯†ç®—æ³•æ ¸å¿ƒ"&gt;ã€Œå…±è¯†ç®—æ³•æ ¸å¿ƒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95"&gt;Paxos/Raft ç®—æ³•è¯¦è§£&lt;/a&gt; â€”â€” é€‰ä¸¾æœºåˆ¶ã€æ—¥å¿—å¤åˆ¶ã€æˆå‘˜å˜æ›´&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šç®—æ³•å·¥ç¨‹å®ç°ã€æ€§èƒ½ä¼˜åŒ–ã€è„‘è£‚å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆ"&gt;ã€Œåˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1"&gt;äº‹åŠ¡æ¨¡å¼å¯¹æ¯”&lt;/a&gt; â€”â€” 2PC/TCC/SAGA/æ¶ˆæ¯äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šSeataæ¡†æ¶å®æˆ˜ã€æœ€å¤§åŠªåŠ›é€šçŸ¥ã€è¡¥å¿æœºåˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-åˆ†å¸ƒå¼ç¼“å­˜"&gt;ğŸ”„ ã€Œåˆ†å¸ƒå¼ç¼“å­˜ã€&lt;/h4&gt;
&lt;h5 id="redis-æ·±åº¦åº”ç”¨"&gt;ã€ŒRedis æ·±åº¦åº”ç”¨ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/Redis%E5%AE%9E%E6%88%98"&gt;Redis æ¶æ„è®¾è®¡&lt;/a&gt; â€”â€” æ•°æ®ç»“æ„é€‰æ‹©ã€æŒä¹…åŒ–ç­–ç•¥ã€é›†ç¾¤æ¨¡å¼&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šçƒ­ç‚¹keyå¤„ç†ã€ç¼“å­˜é›ªå´©/ç©¿é€/å‡»ç©¿é˜²æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å¤šçº§ç¼“å­˜ä½“ç³»"&gt;ã€Œå¤šçº§ç¼“å­˜ä½“ç³»ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98"&gt;ç¼“å­˜æ¶æ„è®¾è®¡&lt;/a&gt; â€”â€” æœ¬åœ°ç¼“å­˜+åˆ†å¸ƒå¼ç¼“å­˜+å®¢æˆ·ç«¯ç¼“å­˜&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šç¼“å­˜ä¸€è‡´æ€§ã€è¿‡æœŸç­–ç•¥ã€ç›‘æ§æŒ‡æ ‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-åˆ†å¸ƒå¼å­˜å‚¨"&gt;ğŸ“Š ã€Œåˆ†å¸ƒå¼å­˜å‚¨ã€&lt;/h4&gt;
&lt;h5 id="åˆ†åº“åˆ†è¡¨ç­–ç•¥"&gt;ã€Œåˆ†åº“åˆ†è¡¨ç­–ç•¥ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8"&gt;æ•°æ®åº“åˆ†ç‰‡å®æˆ˜&lt;/a&gt; â€”â€” åˆ†ç‰‡é”®é€‰æ‹©ã€è·¯ç”±ç®—æ³•ã€æ‰©å®¹æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå…¨å±€IDç”Ÿæˆã€è·¨åˆ†ç‰‡æŸ¥è¯¢ã€æ•°æ®è¿ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="newsql-æ¢ç´¢"&gt;ã€ŒNewSQL æ¢ç´¢ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/NewSQL"&gt;TiDB/OceanBase åº”ç”¨&lt;/a&gt; â€”â€” HTAPæ¶æ„ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€ç”Ÿæ€é›†æˆ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ€§èƒ½è°ƒä¼˜ã€è¿ç»´ç®¡æ§ã€æˆæœ¬åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-é«˜å¹¶å‘æˆ˜ç­–"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸš€ ã€Œé«˜å¹¶å‘æˆ˜ç­–ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æµé‡ç®¡æ§"&gt;ğŸª ã€Œæµé‡ç®¡æ§ã€&lt;/h4&gt;
&lt;h5 id="é™æµä¸å‰Šå³°"&gt;ã€Œé™æµä¸å‰Šå³°ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E6%B5%81%E9%87%8F%E7%AE%A1%E6%8E%A7"&gt;é«˜å¹¶å‘æµé‡æ²»ç†&lt;/a&gt; â€”â€” ä»¤ç‰Œæ¡¶/æ¼æ¡¶ç®—æ³•ã€æ»‘åŠ¨çª—å£è®¡æ•°&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè‡ªé€‚åº”é™æµã€é›†ç¾¤é™æµã€çƒ­ç‚¹é˜²æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è´Ÿè½½å‡è¡¡ç­–ç•¥"&gt;ã€Œè´Ÿè½½å‡è¡¡ç­–ç•¥ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"&gt;è´Ÿè½½å‡è¡¡ç®—æ³•&lt;/a&gt; â€”â€” è½®è¯¢/æƒé‡/æœ€å°è¿æ¥/ä¸€è‡´æ€§å“ˆå¸Œ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¥åº·æ£€æŸ¥ã€æ•…éšœè½¬ç§»ã€åŠ¨æ€æƒé‡è°ƒæ•´&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-æ€§èƒ½ä¼˜åŒ–"&gt;âš™ï¸ ã€Œæ€§èƒ½ä¼˜åŒ–ã€&lt;/h4&gt;
&lt;h5 id="jvm-è°ƒä¼˜å®æˆ˜"&gt;ã€ŒJVM è°ƒä¼˜å®æˆ˜ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/JVM%E8%B0%83%E4%BC%98"&gt;Java æ€§èƒ½ä¼˜åŒ–&lt;/a&gt; â€”â€” å†…å­˜æ¨¡å‹ã€GCç®—æ³•ã€çº¿ç¨‹æ± ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå†…å­˜æ³„æ¼æ’æŸ¥ã€å †å¤–å†…å­˜ç®¡ç†ã€ç›‘æ§å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="æ•°æ®åº“æ€§èƒ½æå‡"&gt;ã€Œæ•°æ®åº“æ€§èƒ½æå‡ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96"&gt;SQL ä¼˜åŒ–æŒ‡å—&lt;/a&gt; â€”â€” ç´¢å¼•è®¾è®¡ã€æ‰§è¡Œè®¡åˆ’ã€é”æœºåˆ¶&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè¿æ¥æ± é…ç½®ã€è¯»å†™åˆ†ç¦»ã€æ‰¹é‡æ“ä½œä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-å¼‚æ­¥åŒ–è®¾è®¡"&gt;ğŸ§© ã€Œå¼‚æ­¥åŒ–è®¾è®¡ã€&lt;/h4&gt;
&lt;h5 id="å“åº”å¼ç¼–ç¨‹"&gt;ã€Œå“åº”å¼ç¼–ç¨‹ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B"&gt;Reactor æ¨¡å‹è§£æ&lt;/a&gt; â€”â€” èƒŒå‹æ§åˆ¶ã€äº‹ä»¶å¾ªç¯ã€éé˜»å¡IO&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šWebFluxå®æˆ˜ã€åç¨‹åº”ç”¨ã€æ€§èƒ½å¯¹æ¯”&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="æ‰¹é‡å¤„ç†ä¼˜åŒ–"&gt;ã€Œæ‰¹é‡å¤„ç†ä¼˜åŒ–ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ‰¹å¤„ç†æ¡†æ¶ã€æ•°æ®å‹ç¼©ã€æµæ°´çº¿å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ•°æ®åº“éŸ¬ç•¥"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ—ƒï¸ ã€Œæ•°æ®åº“éŸ¬ç•¥ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-å…³ç³»å‹æ•°æ®åº“"&gt;ğŸº ã€Œå…³ç³»å‹æ•°æ®åº“ã€&lt;/h4&gt;
&lt;h5 id="mysql-æ·±åº¦ä¼˜åŒ–"&gt;ã€ŒMySQL æ·±åº¦ä¼˜åŒ–ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E4%BC%98%E5%8C%96"&gt;InnoDB å­˜å‚¨å¼•æ“&lt;/a&gt; â€”â€” B+æ ‘ç´¢å¼•ã€äº‹åŠ¡éš”ç¦»ã€MVCCæœºåˆ¶&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå‚æ•°è°ƒä¼˜ã€ä¸»ä»åŒæ­¥ã€é«˜å¯ç”¨æ–¹æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="postgresql-ç‰¹æ€§"&gt;ã€ŒPostgreSQL ç‰¹æ€§ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/PostgreSQL/"&gt;PostgreSQL é«˜çº§ç‰¹æ€§&lt;/a&gt; â€”â€” çª—å£å‡½æ•°ã€JSONBç±»å‹ã€åœ°ç†æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/"&gt;PostgreSQL å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/"&gt;PostgreSQL ç»„æˆç»“æ„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šé€»è¾‘å¤åˆ¶ã€åˆ†åŒºè¡¨ã€æ‰©å±•æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-nosql-é€‰å‹"&gt;ğŸ­ ã€ŒNoSQL é€‰å‹ã€&lt;/h4&gt;
&lt;h5 id="æ–‡æ¡£æ•°æ®åº“"&gt;ã€Œæ–‡æ¡£æ•°æ®åº“ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB"&gt;MongoDB æ¶æ„è®¾è®¡&lt;/a&gt; â€”â€” åˆ†ç‰‡é›†ç¾¤ã€ç´¢å¼•ç­–ç•¥ã€èšåˆç®¡é“&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šäº‹åŠ¡æ”¯æŒã€å˜æ›´æµã€æ€§èƒ½ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="æ—¶åºæ•°æ®åº“"&gt;ã€Œæ—¶åºæ•°æ®åº“ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93"&gt;InfluxDB/TDengine åº”ç”¨&lt;/a&gt; â€”â€” æ•°æ®æ¨¡å‹ã€å‹ç¼©ç®—æ³•ã€è¿ç»­æŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šç›‘æ§åœºæ™¯å®è·µã€èµ„æºè§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-æœç´¢ä¸ç´¢å¼•"&gt;ğŸ“ˆ ã€Œæœç´¢ä¸ç´¢å¼•ã€&lt;/h4&gt;
&lt;h5 id="elasticsearch-å®æˆ˜"&gt;ã€ŒElasticsearch å®æˆ˜ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch"&gt;ES é«˜çº§æŸ¥è¯¢&lt;/a&gt; â€”â€” åˆ†è¯å™¨ã€ç›¸å…³æ€§ç®—åˆ†ã€èšåˆåˆ†æ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šé›†ç¾¤è°ƒä¼˜ã€æ•°æ®ç”Ÿå‘½å‘¨æœŸã€å®‰å…¨ç®¡æ§&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å›¾æ•°æ®åº“åº”ç”¨"&gt;ã€Œå›¾æ•°æ®åº“åº”ç”¨ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93"&gt;Neo4j å›¾ç®—æ³•&lt;/a&gt; â€”â€” CypheræŸ¥è¯¢ã€è·¯å¾„åˆ†æã€ç¤¾åŒºå‘ç°&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šçŸ¥è¯†å›¾è°±ã€æ¨èç³»ç»Ÿå®æˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ç³»ç»Ÿè®¾è®¡è°‹"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ° ã€Œç³»ç»Ÿè®¾è®¡è°‹ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æ¶æ„æ¨¡å¼"&gt;ğŸ“ ã€Œæ¶æ„æ¨¡å¼ã€&lt;/h4&gt;
&lt;h5 id="åˆ†å±‚æ¶æ„æ¼”è¿›"&gt;ã€Œåˆ†å±‚æ¶æ„æ¼”è¿›ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F"&gt;æ¶æ„æ¨¡å¼å¯¹æ¯”&lt;/a&gt; â€”â€” å•ä½“/åˆ†å±‚/å¾®æœåŠ¡/äº‹ä»¶é©±åŠ¨&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ¶æ„æ¼”è¿›è·¯å¾„ã€æŠ€æœ¯é€‰å‹æ ‡å‡†ã€é‡æ„ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="è®¾è®¡åŸåˆ™å®è·µ"&gt;ã€Œè®¾è®¡åŸåˆ™å®è·µã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"&gt;SOLID åŸåˆ™å®æˆ˜&lt;/a&gt; â€”â€” ä¾èµ–æ³¨å…¥ã€æ¥å£éš”ç¦»ã€å¼€é—­åŸåˆ™&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè®¾è®¡æ¨¡å¼åº”ç”¨ã€ä»£ç åå‘³è¯†åˆ«&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-ç³»ç»Ÿåˆ†æ"&gt;ğŸ” ã€Œç³»ç»Ÿåˆ†æã€&lt;/h4&gt;
&lt;h5 id="å®¹é‡è§„åˆ’æ–¹æ³•"&gt;ã€Œå®¹é‡è§„åˆ’æ–¹æ³•ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%AE%B9%E9%87%8F%E8%A7%84%E5%88%92"&gt;ç³»ç»Ÿå®¹é‡è®¾è®¡&lt;/a&gt; â€”â€” å‹åŠ›æµ‹è¯•ã€æ€§èƒ½æ¨¡å‹ã€èµ„æºé¢„ä¼°&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå¼¹æ€§ä¼¸ç¼©ç­–ç•¥ã€æˆæœ¬æ§åˆ¶ã€ç“¶é¢ˆåˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="æ•…éšœé¢„é˜²è®¾è®¡"&gt;ã€Œæ•…éšœé¢„é˜²è®¾è®¡ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%B7%B7%E6%B2%8C%E5%B7%A5%E7%A8%8B"&gt;æ··æ²Œå·¥ç¨‹å®è·µ&lt;/a&gt; â€”â€” æ•…éšœæ³¨å…¥ã€æ¼”ç»ƒæ–¹æ¡ˆã€æ¢å¤ç­–ç•¥&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šå®¹ç¾æ–¹æ¡ˆã€é™çº§é¢„æ¡ˆã€ç›‘æ§ä½“ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-api-è®¾è®¡è‰ºæœ¯"&gt;ğŸ¨ ã€ŒAPI è®¾è®¡è‰ºæœ¯ã€&lt;/h4&gt;
&lt;h5 id="restful-è§„èŒƒ"&gt;ã€ŒRESTful è§„èŒƒã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/API%E8%AE%BE%E8%AE%A1"&gt;API è®¾è®¡æœ€ä½³å®è·µ&lt;/a&gt; â€”â€” èµ„æºå»ºæ¨¡ã€çŠ¶æ€ç ã€ç‰ˆæœ¬ç®¡ç†&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šè¶…åª’ä½“APIã€GraphQLå¯¹æ¯”ã€æ–‡æ¡£ç”Ÿæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å®‰å…¨ä¸è®¤è¯"&gt;ã€Œå®‰å…¨ä¸è®¤è¯ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/API%E5%AE%89%E5%85%A8"&gt;API å®‰å…¨é˜²æŠ¤&lt;/a&gt; â€”â€” OAuth2.0/JWT/ç­¾åéªŒè¯&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šé€Ÿç‡é™åˆ¶ã€å®¡è®¡æ—¥å¿—ã€æ¼æ´é˜²æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ¶æ„å¸ˆè§†é‡"&gt;&lt;span style="color: var(--cinnabar);"&gt;ğŸ”® ã€Œæ¶æ„å¸ˆè§†é‡ã€&lt;/span&gt;&lt;/h3&gt;
&lt;h4 id="-æŠ€æœ¯æˆ˜ç•¥"&gt;ğŸŒŸ ã€ŒæŠ€æœ¯æˆ˜ç•¥ã€&lt;/h4&gt;
&lt;h5 id="æ¶æ„å†³ç­–è®°å½•"&gt;ã€Œæ¶æ„å†³ç­–è®°å½•ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E6%9E%B6%E6%9E%84%E5%86%B3%E7%AD%96"&gt;ADR ç®¡ç†å®è·µ&lt;/a&gt; â€”â€” å†³ç­–æ¡†æ¶ã€æƒè¡¡åˆ†æã€çŸ¥è¯†æ²‰æ·€&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæŠ€æœ¯é›·è¾¾ã€åˆ›æ–°é‡‡ç”¨æ›²çº¿ã€æŠ€æœ¯å€ºåŠ¡ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="å›¢é˜Ÿåä½œæ¨¡å¼"&gt;ã€Œå›¢é˜Ÿåä½œæ¨¡å¼ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C"&gt;æ¶æ„å¸ˆæˆé•¿è·¯å¾„&lt;/a&gt; â€”â€” æŠ€æœ¯è§„åˆ’ã€ä»£ç å®¡æŸ¥ã€çŸ¥è¯†ä¼ é€’&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ¶æ„è¯„å®¡ã€æ ‡å‡†åŒ–å»ºè®¾ã€æ•ˆèƒ½æå‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-ç”Ÿäº§å®è·µ"&gt;ğŸš¢ ã€Œç”Ÿäº§å®è·µã€&lt;/h4&gt;
&lt;h5 id="ç³»ç»Ÿå¯è§‚æµ‹æ€§"&gt;ã€Œç³»ç»Ÿå¯è§‚æµ‹æ€§ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%A7%86%E9%87%8E/%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7"&gt;å¯è§‚æµ‹æ€§ä½“ç³»å»ºè®¾&lt;/a&gt; â€”â€” æŒ‡æ ‡/æ—¥å¿—/é“¾è·¯è¿½è¸ªä¸‰ä½ä¸€ä½“&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ï¼šæ ¹å› åˆ†æã€æ™ºèƒ½å‘Šè­¦ã€ç”¨æˆ·ä½“éªŒç›‘æ§&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="devops-æ–‡åŒ–"&gt;ã€ŒDevOps æ–‡åŒ–ã€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è®¡åˆ’ï¼šç ”å‘æµç¨‹ä¼˜åŒ–ã€è‡ªåŠ¨åŒ–ç¨‹åº¦ã€å›¢é˜Ÿåä½œæ”¹è¿›&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¶æ„ä¹‹é“ï¼Œåœ¨äºå¹³è¡¡è‰ºæœ¯ä¸å·¥ç¨‹ï¼Œåœ¨å¤æ‚æ€§ä¸ç®€æ´æ€§ä¹‹é—´å¯»æ‰¾æœ€ä¼˜è§£ã€‚&lt;/p&gt;</description></item></channel></rss>